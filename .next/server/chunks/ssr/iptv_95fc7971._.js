module.exports=[18003,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(7937)},31530,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},72076,a=>{"use strict";var b=a.i(18003),c=a.i(78496);async function d(a){try{let b=(0,c.createClient)("https://eelxeotkfnfvjvwvaubc.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY,{auth:{autoRefreshToken:!1,persistSession:!1}}),{data:d,error:e}=await b.auth.admin.createUser({email:a.email,password:a.password,email_confirm:!0,user_metadata:{first_name:a.first_name,last_name:a.last_name,full_name:`${a.first_name} ${a.last_name}`.trim()}});if(e)return{success:!1,error:e.message};if(!d.user)return{success:!1,error:"No se pudo crear el usuario"};await b.auth.admin.updateUserById(d.user.id,{email_confirm:!0});let{error:f}=await b.from("profiles").upsert({id:d.user.id,email:a.email,first_name:a.first_name,last_name:a.last_name,whatsapp:a.whatsapp,role:"user"});return f&&console.error("Error creando perfil:",f),{success:!0}}catch(a){return console.error("Error en registerUser:",a),{success:!1,error:"Error interno del servidor"}}}async function e(a){try{let b=(0,c.createClient)("https://eelxeotkfnfvjvwvaubc.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY,{auth:{autoRefreshToken:!1,persistSession:!1}}),{error:d}=await b.auth.admin.deleteUser(a);if(d)return console.error("Error deleting user:",d),{success:!1,error:d.message};return{success:!0}}catch(a){return console.error("Error en deleteUserAccount:",a),{success:!1,error:"Error interno del servidor"}}}(0,a.i(31530).ensureServerEntryExports)([d,e]),(0,b.registerServerReference)(d,"40d454dcfeb696f8ad3cc6e3e517927190a0be331a",null),(0,b.registerServerReference)(e,"40df9a50f8f7f384b9cf18a7f7a884249bbe6d64f0",null),a.s(["deleteUserAccount",()=>e,"registerUser",()=>d])},37819,a=>{"use strict";var b=a.i(72076);a.s([],7506),a.i(7506),a.s(["40df9a50f8f7f384b9cf18a7f7a884249bbe6d64f0",()=>b.deleteUserAccount],37819)}];

//# sourceMappingURL=iptv_95fc7971._.js.map