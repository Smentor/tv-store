{"version":3,"sources":["turbopack:///[project]/iptv/components/admin-dashboard.tsx/__nextjs-internal-proxy.mjs","turbopack:///[project]/iptv/app/admin/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/iptv/components/admin-dashboard.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/iptv/components/admin-dashboard.tsx\",\n    \"default\",\n);\n","import { redirect } from 'next/navigation'\nimport { createClient } from '@/lib/supabase/server'\nimport AdminDashboard from '@/components/admin-dashboard'\n\nexport default async function AdminPage() {\n  const supabase = await createClient()\n  \n  const { data: { user } } = await supabase.auth.getUser()\n  \n  if (!user) {\n    redirect('/auth/login')\n  }\n\n  // Verificar si el usuario es admin\n  const { data: profile } = await supabase\n    .from('profiles')\n    .select('role')\n    .eq('id', user.id)\n    .single()\n\n  if (!profile || profile.role !== 'admin') {\n    redirect('/protected')\n  }\n\n  return <AdminDashboard />\n}\n"],"names":[],"mappings":"kLAEe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,MACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,qSAAuS,EACpU,oEACA,6DAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,MACe,uBAAuB,AAAvB,EACX,WAAa,MAAM,AAAI,MAAM,iRAAmR,EAChT,gDACA,kICLJ,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,eAAe,IAC5B,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,IAE7B,CAAE,KAAM,CAAE,MAAI,CAAE,CAAE,CAAG,MAAM,EAAS,IAAI,CAAC,OAAO,EAElD,CAAC,GACH,CAAA,EADS,AACT,EAAA,QAAA,AAAQ,EAAC,eAIX,GAAM,CAAE,KAAM,CAAO,CAAE,CAAG,MAAM,EAC7B,IAAI,CAAC,YACL,MAAM,CAAC,QACP,EAAE,CAAC,KAAM,EAAK,EAAE,EAChB,MAAM,GAMT,OAJK,AAAD,GAA6B,SAAS,CAA1B,EAAQ,IAAI,EAC1B,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,cAGJ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAc,CAAA,CAAA,EACxB","ignoreList":[0]}