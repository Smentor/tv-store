{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/app/actions/admin-actions.ts"],"sourcesContent":["'use server'\n\nimport { createClient } from '@supabase/supabase-js'\nimport { revalidatePath } from 'next/cache'\n\nexport async function deleteUsers(userIds: string[]) {\n  try {\n    const supabase = createClient(\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\n      process.env.SUPABASE_SERVICE_ROLE_KEY!\n    )\n\n    const { error } = await supabase.auth.admin.deleteUser(userIds[0]) // Delete one by one or loop\n    \n    // Supabase admin deleteUser only takes one ID. We need to loop.\n    const results = await Promise.all(\n      userIds.map(id => supabase.auth.admin.deleteUser(id))\n    )\n\n    const errors = results.filter(r => r.error).map(r => r.error?.message)\n\n    if (errors.length > 0) {\n      return { success: false, error: `Errores al eliminar: ${errors.join(', ')}` }\n    }\n\n    revalidatePath('/admin')\n    return { success: true }\n  } catch (error) {\n    return { success: false, error: 'Error interno del servidor' }\n  }\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;;;AAEO,eAAe,YAAY,OAAiB;IACjD,IAAI;QACF,MAAM,WAAW,IAAA,yRAAY,gFAE3B,QAAQ,GAAG,CAAC,yBAAyB;QAGvC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,EAAE,4BAA4B;;QAE/F,gEAAgE;QAChE,MAAM,UAAU,MAAM,QAAQ,GAAG,CAC/B,QAAQ,GAAG,CAAC,CAAA,KAAM,SAAS,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;QAGnD,MAAM,SAAS,QAAQ,MAAM,CAAC,CAAA,IAAK,EAAE,KAAK,EAAE,GAAG,CAAC,CAAA,IAAK,EAAE,KAAK,EAAE;QAE9D,IAAI,OAAO,MAAM,GAAG,GAAG;YACrB,OAAO;gBAAE,SAAS;gBAAO,OAAO,CAAC,qBAAqB,EAAE,OAAO,IAAI,CAAC,OAAO;YAAC;QAC9E;QAEA,IAAA,sRAAc,EAAC;QACf,OAAO;YAAE,SAAS;QAAK;IACzB,EAAE,OAAO,OAAO;QACd,OAAO;YAAE,SAAS;YAAO,OAAO;QAA6B;IAC/D;AACF;;;IAzBsB;;AAAA,sXAAA","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/.next-internal/server/app/admin/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {deleteUsers as '40e2f6226fd60f4309c44cd8c2ebc1921b80368b36'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}}]
}