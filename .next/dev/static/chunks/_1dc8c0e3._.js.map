{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/components/ui/tabs.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as TabsPrimitive from '@radix-ui/react-tabs'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Tabs({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\r\n  return (\r\n    <TabsPrimitive.Root\r\n      data-slot=\"tabs\"\r\n      className={cn('flex flex-col gap-2', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TabsList({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\r\n  return (\r\n    <TabsPrimitive.List\r\n      data-slot=\"tabs-list\"\r\n      className={cn(\r\n        'bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TabsTrigger({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\r\n  return (\r\n    <TabsPrimitive.Trigger\r\n      data-slot=\"tabs-trigger\"\r\n      className={cn(\r\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TabsContent({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\r\n  return (\r\n    <TabsPrimitive.Content\r\n      data-slot=\"tabs-content\"\r\n      className={cn('flex-1 outline-none', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,4TAAC,2RAAkB;QACjB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,4TAAC,2RAAkB;QACjB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,4TAAC,8RAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,4TAAC,8RAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;MAXS","debugId":null}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n        destructive:\r\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\r\n        secondary:\r\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\r\n        ghost:\r\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\r\n        link: 'text-primary underline-offset-4 hover:underline',\r\n      },\r\n      size: {\r\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\r\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\r\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\r\n        icon: 'size-9',\r\n        'icon-sm': 'size-8',\r\n        'icon-lg': 'size-10',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n      size: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'button'> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean\r\n  }) {\r\n  const Comp = asChild ? Slot : 'button'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,qPAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,+SAAI,GAAG;IAE9B,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 147, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn('leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn('px-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 267, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\r\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\r\n        className,\r\n      )}\r\n      {...props}\r\n      suppressHydrationWarning\r\n    />\r\n  )\r\n}\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,4TAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;QACT,wBAAwB;;;;;;AAG9B;KAfS","debugId":null}},
    {"offset": {"line": 299, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/components/ui/label.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as LabelPrimitive from '@radix-ui/react-label'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Label({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\r\n  return (\r\n    <LabelPrimitive.Root\r\n      data-slot=\"label\"\r\n      className={cn(\r\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Label }\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,4TAAC,yRAAmB;QAClB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 332, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Textarea({ className, ...props }: React.ComponentProps<'textarea'>) {\r\n  return (\r\n    <textarea\r\n      data-slot=\"textarea\"\r\n      className={cn(\r\n        'border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Textarea }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS","debugId":null}},
    {"offset": {"line": 362, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/components/ui/dialog.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\r\nimport { XIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Dialog({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\r\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\r\n}\r\n\r\nfunction DialogTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\r\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\r\n}\r\n\r\nfunction DialogPortal({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\r\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\r\n}\r\n\r\nfunction DialogClose({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\r\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\r\n}\r\n\r\nfunction DialogOverlay({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\r\n  return (\r\n    <DialogPrimitive.Overlay\r\n      data-slot=\"dialog-overlay\"\r\n      className={cn(\r\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogContent({\r\n  className,\r\n  children,\r\n  showCloseButton = true,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\r\n  showCloseButton?: boolean\r\n}) {\r\n  return (\r\n    <DialogPortal data-slot=\"dialog-portal\">\r\n      <DialogOverlay />\r\n      <DialogPrimitive.Content\r\n        data-slot=\"dialog-content\"\r\n        className={cn(\r\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        {showCloseButton && (\r\n          <DialogPrimitive.Close\r\n            data-slot=\"dialog-close\"\r\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\r\n          >\r\n            <XIcon />\r\n            <span className=\"sr-only\">Close</span>\r\n          </DialogPrimitive.Close>\r\n        )}\r\n      </DialogPrimitive.Content>\r\n    </DialogPortal>\r\n  )\r\n}\r\n\r\nfunction DialogHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-header\"\r\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-footer\"\r\n      className={cn(\r\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogTitle({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\r\n  return (\r\n    <DialogPrimitive.Title\r\n      data-slot=\"dialog-title\"\r\n      className={cn('text-lg leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogDescription({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\r\n  return (\r\n    <DialogPrimitive.Description\r\n      data-slot=\"dialog-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Dialog,\r\n  DialogClose,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogOverlay,\r\n  DialogPortal,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,4TAAC,0RAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,4TAAC,6RAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS;AAMT,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,4TAAC,4RAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,4TAAC,2RAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,4TAAC,6RAAuB;QACtB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,4TAAC;QAAa,aAAU;;0BACtB,4TAAC;;;;;0BACD,4TAAC,6RAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,qHAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,4TAAC,2RAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,4TAAC,gSAAK;;;;;0CACN,4TAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;MAhCS;AAkCT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,4TAAC,2RAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,4TAAC,iSAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS","debugId":null}},
    {"offset": {"line": 568, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient as createSupabaseBrowserClient } from \"@supabase/ssr\"\r\n\r\nexport function createClient() {\r\n  return createSupabaseBrowserClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n  )\r\n}\r\n\r\nexport const createBrowserClient = createClient\r\n"],"names":[],"mappings":";;;;;;AAII;AAJJ;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,iTAA2B;AAIpC;AAEO,MAAM,sBAAsB","debugId":null}},
    {"offset": {"line": 589, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/components/admin/plans-management.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog'\r\nimport { createBrowserClient } from '@/lib/supabase/client'\r\nimport { Plus, Edit, Trash2, Package } from 'lucide-react'\r\nimport { useToast } from '@/hooks/use-toast'\r\n\r\ninterface Plan {\r\n  id: string\r\n  name: string\r\n  description: string\r\n  price: number\r\n  features: string[]\r\n  max_screens: number\r\n  plan_type: string\r\n  plan_type_id: string\r\n  created_at: string\r\n}\r\n\r\nexport default function PlansManagement() {\r\n  const [plans, setPlans] = useState<Plan[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [editingPlan, setEditingPlan] = useState<Plan | null>(null)\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\r\n  const { toast } = useToast()\r\n\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    price: '',\r\n    features: '',\r\n    max_screens: '1',\r\n    plan_type: '',\r\n    plan_type_id: '',\r\n  })\r\n\r\n  const parsePlanType = (planType: string) => {\r\n    if (!planType) return { id: '', name: '' }\r\n    const parts = planType.split(':')\r\n    if (parts.length === 2) {\r\n      return { id: parts[0], name: parts[1] }\r\n    }\r\n    return { id: '', name: planType }\r\n  }\r\n\r\n  // Helper function to combine ID and Name into single field \"ID:Name\"\r\n  const combinePlanType = (id: string, name: string) => {\r\n    if (!id || !name) return name || ''\r\n    return `${id}:${name}`\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadPlans()\r\n  }, [])\r\n\r\n  const loadPlans = async () => {\r\n    const supabase = createBrowserClient()\r\n    const { data, error } = await supabase\r\n      .from('plans')\r\n      .select('*')\r\n      .order('price', { ascending: true })\r\n\r\n    if (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error al cargar planes',\r\n        description: error.message,\r\n        duration: 3000,\r\n      })\r\n    } else {\r\n      setPlans(data || [])\r\n    }\r\n    setLoading(false)\r\n  }\r\n\r\n  const handleOpenDialog = (plan?: Plan) => {\r\n    if (plan) {\r\n      setEditingPlan(plan)\r\n      setFormData({\r\n        name: plan.name,\r\n        description: plan.description,\r\n        price: plan.price.toString(),\r\n        features: plan.features.join('\\n'),\r\n        max_screens: plan.max_screens?.toString() || '1',\r\n        plan_type: plan.plan_type || '',\r\n        plan_type_id: plan.plan_type_id || '',\r\n      })\r\n    } else {\r\n      setEditingPlan(null)\r\n      setFormData({\r\n        name: '',\r\n        description: '',\r\n        price: '',\r\n        features: '',\r\n        max_screens: '1',\r\n        plan_type: '',\r\n        plan_type_id: '',\r\n      })\r\n    }\r\n    setIsDialogOpen(true)\r\n  }\r\n\r\n  const handleSavePlan = async () => {\r\n    const supabase = createBrowserClient()\r\n\r\n    const planData: any = {\r\n      name: formData.name,\r\n      description: formData.description,\r\n      price: parseFloat(formData.price),\r\n      features: formData.features.split('\\n').filter(f => f.trim()),\r\n      max_screens: parseInt(formData.max_screens),\r\n      plan_type: formData.plan_type || null,\r\n      plan_type_id: formData.plan_type_id || null,\r\n    }\r\n\r\n    if (!editingPlan) {\r\n      planData.id = formData.name.toLowerCase().replace(/\\s+/g, '-').replace(/[^a-z0-9-]/g, '')\r\n      planData.id = `${planData.id}-${Date.now()}`\r\n    }\r\n\r\n    let error\r\n\r\n    if (editingPlan) {\r\n      const result = await supabase\r\n        .from('plans')\r\n        .update(planData)\r\n        .eq('id', editingPlan.id)\r\n      error = result.error\r\n    } else {\r\n      const result = await supabase\r\n        .from('plans')\r\n        .insert([planData])\r\n      error = result.error\r\n    }\r\n\r\n    if (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error al guardar plan',\r\n        description: error.message,\r\n        duration: 3000,\r\n      })\r\n    } else {\r\n      toast({\r\n        variant: 'success',\r\n        title: editingPlan ? 'Plan actualizado' : 'Plan creado',\r\n        description: `El plan ha sido ${editingPlan ? 'actualizado' : 'creado'} exitosamente`,\r\n        duration: 3000,\r\n      })\r\n      setIsDialogOpen(false)\r\n      loadPlans()\r\n    }\r\n  }\r\n\r\n  const handleDeletePlan = async (id: string) => {\r\n    if (!confirm('¿Estás seguro de eliminar este plan?')) return\r\n\r\n    const supabase = createBrowserClient()\r\n    const { error } = await supabase\r\n      .from('plans')\r\n      .delete()\r\n      .eq('id', id)\r\n\r\n    if (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error al eliminar plan',\r\n        description: error.message,\r\n        duration: 3000,\r\n      })\r\n    } else {\r\n      toast({\r\n        variant: 'success',\r\n        title: 'Plan eliminado',\r\n        description: 'El plan ha sido eliminado exitosamente',\r\n        duration: 3000,\r\n      })\r\n      loadPlans()\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold\">Gestión de Paquetes</h2>\r\n          <p className=\"text-muted-foreground\">Administra los planes de suscripción disponibles</p>\r\n        </div>\r\n        <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\r\n          <DialogTrigger asChild>\r\n            <Button onClick={() => handleOpenDialog()} className=\"gap-2\">\r\n              <Plus className=\"h-4 w-4\" />\r\n              Nuevo Paquete\r\n            </Button>\r\n          </DialogTrigger>\r\n          <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n            <DialogHeader>\r\n              <DialogTitle>{editingPlan ? 'Editar Paquete' : 'Nuevo Paquete'}</DialogTitle>\r\n              <DialogDescription>\r\n                {editingPlan ? 'Modifica los detalles del paquete' : 'Crea un nuevo paquete de suscripción'}\r\n              </DialogDescription>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4 py-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"name\">Nombre del Paquete</Label>\r\n                <Input\r\n                  id=\"name\"\r\n                  value={formData.name}\r\n                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                  placeholder=\"Ej: Básico\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"description\">Descripción</Label>\r\n                <Textarea\r\n                  id=\"description\"\r\n                  value={formData.description}\r\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                  placeholder=\"Descripción del paquete\"\r\n                  rows={3}\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"price\">Precio (S/)</Label>\r\n                <Input\r\n                  id=\"price\"\r\n                  type=\"number\"\r\n                  step=\"0.01\"\r\n                  value={formData.price}\r\n                  onChange={(e) => setFormData({ ...formData, price: e.target.value })}\r\n                  placeholder=\"0.00\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"max_screens\">Número de Pantallas Simultáneas</Label>\r\n                <Input\r\n                  id=\"max_screens\"\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  max=\"10\"\r\n                  value={formData.max_screens}\r\n                  onChange={(e) => setFormData({ ...formData, max_screens: e.target.value })}\r\n                  placeholder=\"1\"\r\n                />\r\n                <p className=\"text-xs text-muted-foreground\">\r\n                  Cantidad de dispositivos que pueden ver simultáneamente\r\n                </p>\r\n              </div>\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"plan_type_id\">ID del Tipo de Paquete</Label>\r\n                  <Input\r\n                    id=\"plan_type_id\"\r\n                    type=\"text\"\r\n                    value={formData.plan_type_id}\r\n                    onChange={(e) => setFormData({ ...formData, plan_type_id: e.target.value })}\r\n                    placeholder=\"Ej: 1, 4, 10 o 2,4,5\"\r\n                  />\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    ID numérico para el backend (puede ser múltiple: 2,4,5)\r\n                  </p>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"plan_type\">Nombre del Tipo de Paquete</Label>\r\n                  <Input\r\n                    id=\"plan_type\"\r\n                    value={formData.plan_type}\r\n                    onChange={(e) => setFormData({ ...formData, plan_type: e.target.value })}\r\n                    placeholder=\"Ej: Gold, Silver\"\r\n                  />\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    Nombre del tipo de paquete\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"features\">Características (una por línea)</Label>\r\n                <Textarea\r\n                  id=\"features\"\r\n                  value={formData.features}\r\n                  onChange={(e) => setFormData({ ...formData, features: e.target.value })}\r\n                  placeholder=\"Canales HD&#10;Soporte 24/7&#10;Sin publicidad\"\r\n                  rows={6}\r\n                />\r\n              </div>\r\n              <div className=\"flex gap-2 justify-end pt-4\">\r\n                <Button variant=\"outline\" onClick={() => setIsDialogOpen(false)}>\r\n                  Cancelar\r\n                </Button>\r\n                <Button onClick={handleSavePlan}>\r\n                  {editingPlan ? 'Actualizar' : 'Crear'} Paquete\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n\r\n      <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\r\n        {plans.map((plan) => {\r\n          return (\r\n            <Card key={plan.id} className=\"hover:shadow-lg transition-shadow flex flex-col\">\r\n              <CardHeader className=\"pb-3\">\r\n                <div className=\"flex justify-between items-start gap-2\">\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <CardTitle className=\"flex items-center gap-2 text-base\">\r\n                      <Package className=\"h-4 w-4 text-primary flex-shrink-0\" />\r\n                      <span className=\"truncate\">{plan.name}</span>\r\n                    </CardTitle>\r\n                    <CardDescription className=\"mt-1 text-xs line-clamp-2\">{plan.description}</CardDescription>\r\n                  </div>\r\n                  <div className=\"flex gap-1 flex-shrink-0\">\r\n                    <Button\r\n                      size=\"icon\"\r\n                      variant=\"ghost\"\r\n                      className=\"h-7 w-7\"\r\n                      onClick={() => handleOpenDialog(plan)}\r\n                    >\r\n                      <Edit className=\"h-3.5 w-3.5\" />\r\n                    </Button>\r\n                    <Button\r\n                      size=\"icon\"\r\n                      variant=\"ghost\"\r\n                      className=\"h-7 w-7\"\r\n                      onClick={() => handleDeletePlan(plan.id)}\r\n                    >\r\n                      <Trash2 className=\"h-3.5 w-3.5 text-red-500\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-3 flex-1 flex flex-col\">\r\n                <div className=\"text-2xl font-bold text-primary\">\r\n                  S/ {plan.price.toFixed(2)}\r\n                </div>\r\n                <div className=\"flex items-center gap-2 text-xs text-muted-foreground flex-wrap\">\r\n                  <span className=\"bg-primary/10 text-primary px-2 py-0.5 rounded font-medium\">\r\n                    {plan.max_screens} {plan.max_screens === 1 ? 'pantalla' : 'pantallas'}\r\n                  </span>\r\n                  {plan.plan_type && (\r\n                    <span className=\"bg-accent/10 text-accent px-2 py-0.5 rounded font-medium\">\r\n                      {plan.plan_type}\r\n                    </span>\r\n                  )}\r\n                  {plan.plan_type_id && (\r\n                    <span className=\"bg-muted text-muted-foreground px-2 py-0.5 rounded font-medium\">\r\n                      ID: {plan.plan_type_id}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <div className=\"space-y-2 flex-1\">\r\n                  <ul className=\"space-y-1\">\r\n                    {plan.features.slice(0, 5).map((feature, idx) => (\r\n                      <li key={idx} className=\"text-xs flex items-start gap-1.5\">\r\n                        <span className=\"text-green-500 mt-0.5 flex-shrink-0\">✓</span>\r\n                        <span className=\"line-clamp-2\">{feature}</span>\r\n                      </li>\r\n                    ))}\r\n                    {plan.features.length > 5 && (\r\n                      <li className=\"text-xs text-muted-foreground italic\">\r\n                        +{plan.features.length - 5} más...\r\n                      </li>\r\n                    )}\r\n                  </ul>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          )\r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1430, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/components/ui/switch.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as SwitchPrimitive from '@radix-ui/react-switch'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Switch({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SwitchPrimitive.Root>) {\r\n  return (\r\n    <SwitchPrimitive.Root\r\n      data-slot=\"switch\"\r\n      className={cn(\r\n        'peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <SwitchPrimitive.Thumb\r\n        data-slot=\"switch-thumb\"\r\n        className={\r\n          'bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0'\r\n        }\r\n      />\r\n    </SwitchPrimitive.Root>\r\n  )\r\n}\r\n\r\nexport { Switch }\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,4TAAC,0RAAoB;QACnB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,6WACA;QAED,GAAG,KAAK;kBAET,cAAA,4TAAC,2RAAqB;YACpB,aAAU;YACV,WACE;;;;;;;;;;;AAKV;KArBS","debugId":null}},
    {"offset": {"line": 1471, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/components/admin/promotions-management.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Switch } from '@/components/ui/switch'\r\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog'\r\nimport { createBrowserClient } from '@/lib/supabase/client'\r\nimport { Plus, Edit, Trash2, Ticket, Calendar } from 'lucide-react'\r\nimport { useToast } from '@/hooks/use-toast'\r\n\r\ninterface Promotion {\r\n  id: string\r\n  name: string\r\n  description: string\r\n  discount_percentage: number | null\r\n  discount_amount: number | null\r\n  active: boolean\r\n  start_date: string | null\r\n  end_date: string | null\r\n  created_at: string\r\n}\r\n\r\nexport default function PromotionsManagement() {\r\n  const [promotions, setPromotions] = useState<Promotion[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [editingPromotion, setEditingPromotion] = useState<Promotion | null>(null)\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\r\n  const { toast } = useToast()\r\n\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    discount_type: 'percentage',\r\n    discount_percentage: '',\r\n    discount_amount: '',\r\n    active: true,\r\n    start_date: '',\r\n    end_date: '',\r\n  })\r\n\r\n  useEffect(() => {\r\n    loadPromotions()\r\n  }, [])\r\n\r\n  const loadPromotions = async () => {\r\n    const supabase = createBrowserClient()\r\n    const { data, error } = await supabase\r\n      .from('promotions')\r\n      .select('*')\r\n      .order('created_at', { ascending: false })\r\n\r\n    if (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error al cargar promociones',\r\n        description: error.message,\r\n        duration: 3000,\r\n      })\r\n    } else {\r\n      setPromotions(data || [])\r\n    }\r\n    setLoading(false)\r\n  }\r\n\r\n  const handleOpenDialog = (promotion?: Promotion) => {\r\n    if (promotion) {\r\n      setEditingPromotion(promotion)\r\n      setFormData({\r\n        name: promotion.name,\r\n        description: promotion.description || '',\r\n        discount_type: promotion.discount_percentage ? 'percentage' : 'amount',\r\n        discount_percentage: promotion.discount_percentage?.toString() || '',\r\n        discount_amount: promotion.discount_amount?.toString() || '',\r\n        active: promotion.active,\r\n        start_date: promotion.start_date ? promotion.start_date.split('T')[0] : '',\r\n        end_date: promotion.end_date ? promotion.end_date.split('T')[0] : '',\r\n      })\r\n    } else {\r\n      setEditingPromotion(null)\r\n      setFormData({\r\n        name: '',\r\n        description: '',\r\n        discount_type: 'percentage',\r\n        discount_percentage: '',\r\n        discount_amount: '',\r\n        active: true,\r\n        start_date: '',\r\n        end_date: '',\r\n      })\r\n    }\r\n    setIsDialogOpen(true)\r\n  }\r\n\r\n  const handleSavePromotion = async () => {\r\n    const supabase = createBrowserClient()\r\n\r\n    const promotionData: any = {\r\n      name: formData.name,\r\n      description: formData.description,\r\n      active: formData.active,\r\n      start_date: formData.start_date || null,\r\n      end_date: formData.end_date || null,\r\n    }\r\n\r\n    if (formData.discount_type === 'percentage') {\r\n      promotionData.discount_percentage = parseInt(formData.discount_percentage)\r\n      promotionData.discount_amount = null\r\n    } else {\r\n      promotionData.discount_amount = parseFloat(formData.discount_amount)\r\n      promotionData.discount_percentage = null\r\n    }\r\n\r\n    let error\r\n\r\n    if (editingPromotion) {\r\n      const result = await supabase\r\n        .from('promotions')\r\n        .update(promotionData)\r\n        .eq('id', editingPromotion.id)\r\n      error = result.error\r\n    } else {\r\n      const result = await supabase\r\n        .from('promotions')\r\n        .insert([promotionData])\r\n      error = result.error\r\n    }\r\n\r\n    if (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error al guardar promoción',\r\n        description: error.message,\r\n        duration: 3000,\r\n      })\r\n    } else {\r\n      toast({\r\n        variant: 'success',\r\n        title: editingPromotion ? 'Promoción actualizada' : 'Promoción creada',\r\n        description: `La promoción ha sido ${editingPromotion ? 'actualizada' : 'creada'} exitosamente`,\r\n        duration: 3000,\r\n      })\r\n      setIsDialogOpen(false)\r\n      loadPromotions()\r\n    }\r\n  }\r\n\r\n  const handleDeletePromotion = async (id: string) => {\r\n    if (!confirm('¿Estás seguro de eliminar esta promoción?')) return\r\n\r\n    const supabase = createBrowserClient()\r\n    const { error } = await supabase\r\n      .from('promotions')\r\n      .delete()\r\n      .eq('id', id)\r\n\r\n    if (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error al eliminar promoción',\r\n        description: error.message,\r\n        duration: 3000,\r\n      })\r\n    } else {\r\n      toast({\r\n        variant: 'success',\r\n        title: 'Promoción eliminada',\r\n        description: 'La promoción ha sido eliminada exitosamente',\r\n        duration: 3000,\r\n      })\r\n      loadPromotions()\r\n    }\r\n  }\r\n\r\n  const toggleActive = async (id: string, currentActive: boolean) => {\r\n    const supabase = createBrowserClient()\r\n    const { error } = await supabase\r\n      .from('promotions')\r\n      .update({ active: !currentActive })\r\n      .eq('id', id)\r\n\r\n    if (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error',\r\n        description: error.message,\r\n        duration: 3000,\r\n      })\r\n    } else {\r\n      loadPromotions()\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold\">Gestión de Promociones</h2>\r\n          <p className=\"text-muted-foreground\">Crea promociones temporales con descuentos</p>\r\n        </div>\r\n        <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\r\n          <DialogTrigger asChild>\r\n            <Button onClick={() => handleOpenDialog()} className=\"gap-2\">\r\n              <Plus className=\"h-4 w-4\" />\r\n              Nueva Promoción\r\n            </Button>\r\n          </DialogTrigger>\r\n          <DialogContent className=\"max-w-2xl\">\r\n            <DialogHeader>\r\n              <DialogTitle>{editingPromotion ? 'Editar Promoción' : 'Nueva Promoción'}</DialogTitle>\r\n              <DialogDescription>\r\n                {editingPromotion ? 'Modifica los detalles de la promoción' : 'Crea una nueva promoción temporal'}\r\n              </DialogDescription>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4 py-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"promo-name\">Nombre de la Promoción</Label>\r\n                <Input\r\n                  id=\"promo-name\"\r\n                  value={formData.name}\r\n                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                  placeholder=\"Ej: Descuento de Verano\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"promo-description\">Descripción</Label>\r\n                <Textarea\r\n                  id=\"promo-description\"\r\n                  value={formData.description}\r\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                  placeholder=\"Descripción de la promoción\"\r\n                  rows={3}\r\n                />\r\n              </div>\r\n              <div className=\"space-y-4\">\r\n                <Label>Tipo de Descuento</Label>\r\n                <div className=\"flex gap-4\">\r\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"discount_type\"\r\n                      value=\"percentage\"\r\n                      checked={formData.discount_type === 'percentage'}\r\n                      onChange={(e) => setFormData({ ...formData, discount_type: e.target.value })}\r\n                      className=\"w-4 h-4\"\r\n                    />\r\n                    <span>Porcentaje (%)</span>\r\n                  </label>\r\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"discount_type\"\r\n                      value=\"amount\"\r\n                      checked={formData.discount_type === 'amount'}\r\n                      onChange={(e) => setFormData({ ...formData, discount_type: e.target.value })}\r\n                      className=\"w-4 h-4\"\r\n                    />\r\n                    <span>Monto Fijo (S/)</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              {formData.discount_type === 'percentage' ? (\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"discount-percentage\">Porcentaje de Descuento</Label>\r\n                  <Input\r\n                    id=\"discount-percentage\"\r\n                    type=\"number\"\r\n                    min=\"0\"\r\n                    max=\"100\"\r\n                    value={formData.discount_percentage}\r\n                    onChange={(e) => setFormData({ ...formData, discount_percentage: e.target.value })}\r\n                    placeholder=\"20\"\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"discount-amount\">Monto de Descuento (S/)</Label>\r\n                  <Input\r\n                    id=\"discount-amount\"\r\n                    type=\"number\"\r\n                    step=\"0.01\"\r\n                    value={formData.discount_amount}\r\n                    onChange={(e) => setFormData({ ...formData, discount_amount: e.target.value })}\r\n                    placeholder=\"10.00\"\r\n                  />\r\n                </div>\r\n              )}\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"start-date\">Fecha de Inicio</Label>\r\n                  <Input\r\n                    id=\"start-date\"\r\n                    type=\"date\"\r\n                    value={formData.start_date}\r\n                    onChange={(e) => setFormData({ ...formData, start_date: e.target.value })}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"end-date\">Fecha de Fin</Label>\r\n                  <Input\r\n                    id=\"end-date\"\r\n                    type=\"date\"\r\n                    value={formData.end_date}\r\n                    onChange={(e) => setFormData({ ...formData, end_date: e.target.value })}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <Label htmlFor=\"active-switch\">Activar Promoción</Label>\r\n                <Switch\r\n                  id=\"active-switch\"\r\n                  checked={formData.active}\r\n                  onCheckedChange={(checked) => setFormData({ ...formData, active: checked })}\r\n                />\r\n              </div>\r\n              <div className=\"flex gap-2 justify-end pt-4\">\r\n                <Button variant=\"outline\" onClick={() => setIsDialogOpen(false)}>\r\n                  Cancelar\r\n                </Button>\r\n                <Button onClick={handleSavePromotion}>\r\n                  {editingPromotion ? 'Actualizar' : 'Crear'} Promoción\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n\r\n      <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\r\n        {promotions.map((promo) => (\r\n          <Card key={promo.id} className={`hover:shadow-lg transition-shadow ${!promo.active ? 'opacity-60' : ''}`}>\r\n            <CardHeader>\r\n              <div className=\"flex justify-between items-start\">\r\n                <div className=\"flex-1\">\r\n                  <CardTitle className=\"flex items-center gap-2\">\r\n                    <Ticket className=\"h-5 w-5 text-orange-500\" />\r\n                    {promo.name}\r\n                  </CardTitle>\r\n                  <CardDescription className=\"mt-2\">{promo.description}</CardDescription>\r\n                </div>\r\n                <div className=\"flex gap-1\">\r\n                  <Button\r\n                    size=\"icon\"\r\n                    variant=\"ghost\"\r\n                    onClick={() => handleOpenDialog(promo)}\r\n                  >\r\n                    <Edit className=\"h-4 w-4\" />\r\n                  </Button>\r\n                  <Button\r\n                    size=\"icon\"\r\n                    variant=\"ghost\"\r\n                    onClick={() => handleDeletePromotion(promo.id)}\r\n                  >\r\n                    <Trash2 className=\"h-4 w-4 text-red-500\" />\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"flex items-baseline gap-2\">\r\n                <span className=\"text-3xl font-bold text-orange-600\">\r\n                  {promo.discount_percentage ? `${promo.discount_percentage}%` : `S/ ${promo.discount_amount?.toFixed(2)}`}\r\n                </span>\r\n                <span className=\"text-sm text-muted-foreground\">de descuento</span>\r\n              </div>\r\n              {(promo.start_date || promo.end_date) && (\r\n                <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                  <Calendar className=\"h-4 w-4\" />\r\n                  <span>\r\n                    {promo.start_date && new Date(promo.start_date).toLocaleDateString()}\r\n                    {promo.start_date && promo.end_date && ' - '}\r\n                    {promo.end_date && new Date(promo.end_date).toLocaleDateString()}\r\n                  </span>\r\n                </div>\r\n              )}\r\n              <div className=\"flex items-center justify-between pt-2 border-t\">\r\n                <span className=\"text-sm font-medium\">\r\n                  {promo.active ? 'Activa' : 'Inactiva'}\r\n                </span>\r\n                <Switch\r\n                  checked={promo.active}\r\n                  onCheckedChange={() => toggleActive(promo.id, promo.active)}\r\n                />\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2333, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/components/admin/coupons-management.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Switch } from '@/components/ui/switch'\r\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog'\r\nimport { createBrowserClient } from '@/lib/supabase/client'\r\nimport { Plus, Edit, Trash2, Gift, Copy, Calendar } from 'lucide-react'\r\nimport { useToast } from '@/hooks/use-toast'\r\n\r\ninterface Coupon {\r\n  id: string\r\n  code: string\r\n  description: string\r\n  discount_percentage: number | null\r\n  discount_amount: number | null\r\n  max_uses: number | null\r\n  current_uses: number\r\n  active: boolean\r\n  start_date: string | null\r\n  end_date: string | null\r\n  created_at: string\r\n}\r\n\r\nexport default function CouponsManagement() {\r\n  const [coupons, setCoupons] = useState<Coupon[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [editingCoupon, setEditingCoupon] = useState<Coupon | null>(null)\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\r\n  const { toast } = useToast()\r\n\r\n  const [formData, setFormData] = useState({\r\n    code: '',\r\n    description: '',\r\n    discount_type: 'percentage',\r\n    discount_percentage: '',\r\n    discount_amount: '',\r\n    max_uses: '',\r\n    active: true,\r\n    start_date: '',\r\n    end_date: '',\r\n  })\r\n\r\n  useEffect(() => {\r\n    loadCoupons()\r\n  }, [])\r\n\r\n  const loadCoupons = async () => {\r\n    const supabase = createBrowserClient()\r\n    const { data, error } = await supabase\r\n      .from('coupons')\r\n      .select('*')\r\n      .order('created_at', { ascending: false })\r\n\r\n    if (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error al cargar cupones',\r\n        description: error.message,\r\n        duration: 3000,\r\n      })\r\n    } else {\r\n      setCoupons(data || [])\r\n    }\r\n    setLoading(false)\r\n  }\r\n\r\n  const generateRandomCode = () => {\r\n    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'\r\n    let code = ''\r\n    for (let i = 0; i < 8; i++) {\r\n      code += chars.charAt(Math.floor(Math.random() * chars.length))\r\n    }\r\n    setFormData({ ...formData, code })\r\n  }\r\n\r\n  const handleOpenDialog = (coupon?: Coupon) => {\r\n    if (coupon) {\r\n      setEditingCoupon(coupon)\r\n      setFormData({\r\n        code: coupon.code,\r\n        description: coupon.description || '',\r\n        discount_type: coupon.discount_percentage ? 'percentage' : 'amount',\r\n        discount_percentage: coupon.discount_percentage?.toString() || '',\r\n        discount_amount: coupon.discount_amount?.toString() || '',\r\n        max_uses: coupon.max_uses?.toString() || '',\r\n        active: coupon.active,\r\n        start_date: coupon.start_date ? coupon.start_date.split('T')[0] : '',\r\n        end_date: coupon.end_date ? coupon.end_date.split('T')[0] : '',\r\n      })\r\n    } else {\r\n      setEditingCoupon(null)\r\n      setFormData({\r\n        code: '',\r\n        description: '',\r\n        discount_type: 'percentage',\r\n        discount_percentage: '',\r\n        discount_amount: '',\r\n        max_uses: '',\r\n        active: true,\r\n        start_date: '',\r\n        end_date: '',\r\n      })\r\n    }\r\n    setIsDialogOpen(true)\r\n  }\r\n\r\n  const handleSaveCoupon = async () => {\r\n    const supabase = createBrowserClient()\r\n\r\n    const couponData: any = {\r\n      code: formData.code.toUpperCase(),\r\n      description: formData.description,\r\n      max_uses: formData.max_uses ? parseInt(formData.max_uses) : null,\r\n      active: formData.active,\r\n      start_date: formData.start_date || null,\r\n      end_date: formData.end_date || null,\r\n    }\r\n\r\n    if (formData.discount_type === 'percentage') {\r\n      couponData.discount_percentage = parseInt(formData.discount_percentage)\r\n      couponData.discount_amount = null\r\n    } else {\r\n      couponData.discount_amount = parseFloat(formData.discount_amount)\r\n      couponData.discount_percentage = null\r\n    }\r\n\r\n    let error\r\n\r\n    if (editingCoupon) {\r\n      const result = await supabase\r\n        .from('coupons')\r\n        .update(couponData)\r\n        .eq('id', editingCoupon.id)\r\n      error = result.error\r\n    } else {\r\n      const result = await supabase\r\n        .from('coupons')\r\n        .insert([{ ...couponData, current_uses: 0 }])\r\n      error = result.error\r\n    }\r\n\r\n    if (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error al guardar cupón',\r\n        description: error.message,\r\n        duration: 3000,\r\n      })\r\n    } else {\r\n      toast({\r\n        variant: 'success',\r\n        title: editingCoupon ? 'Cupón actualizado' : 'Cupón creado',\r\n        description: `El cupón ha sido ${editingCoupon ? 'actualizado' : 'creado'} exitosamente`,\r\n        duration: 3000,\r\n      })\r\n      setIsDialogOpen(false)\r\n      loadCoupons()\r\n    }\r\n  }\r\n\r\n  const handleDeleteCoupon = async (id: string) => {\r\n    if (!confirm('¿Estás seguro de eliminar este cupón?')) return\r\n\r\n    const supabase = createBrowserClient()\r\n    const { error } = await supabase\r\n      .from('coupons')\r\n      .delete()\r\n      .eq('id', id)\r\n\r\n    if (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error al eliminar cupón',\r\n        description: error.message,\r\n        duration: 3000,\r\n      })\r\n    } else {\r\n      toast({\r\n        variant: 'success',\r\n        title: 'Cupón eliminado',\r\n        description: 'El cupón ha sido eliminado exitosamente',\r\n        duration: 3000,\r\n      })\r\n      loadCoupons()\r\n    }\r\n  }\r\n\r\n  const toggleActive = async (id: string, currentActive: boolean) => {\r\n    const supabase = createBrowserClient()\r\n    const { error } = await supabase\r\n      .from('coupons')\r\n      .update({ active: !currentActive })\r\n      .eq('id', id)\r\n\r\n    if (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error',\r\n        description: error.message,\r\n        duration: 3000,\r\n      })\r\n    } else {\r\n      loadCoupons()\r\n    }\r\n  }\r\n\r\n  const copyToClipboard = (code: string) => {\r\n    navigator.clipboard.writeText(code)\r\n    toast({\r\n      variant: 'success',\r\n      title: 'Código copiado',\r\n      description: `El código ${code} ha sido copiado al portapapeles`,\r\n      duration: 3000,\r\n    })\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold\">Gestión de Cupones</h2>\r\n          <p className=\"text-muted-foreground\">Crea códigos de descuento únicos para tus clientes</p>\r\n        </div>\r\n        <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\r\n          <DialogTrigger asChild>\r\n            <Button onClick={() => handleOpenDialog()} className=\"gap-2\">\r\n              <Plus className=\"h-4 w-4\" />\r\n              Nuevo Cupón\r\n            </Button>\r\n          </DialogTrigger>\r\n          <DialogContent className=\"max-w-2xl\">\r\n            <DialogHeader>\r\n              <DialogTitle>{editingCoupon ? 'Editar Cupón' : 'Nuevo Cupón'}</DialogTitle>\r\n              <DialogDescription>\r\n                {editingCoupon ? 'Modifica los detalles del cupón' : 'Crea un nuevo código de descuento'}\r\n              </DialogDescription>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4 py-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"coupon-code\">Código del Cupón</Label>\r\n                <div className=\"flex gap-2\">\r\n                  <Input\r\n                    id=\"coupon-code\"\r\n                    value={formData.code}\r\n                    onChange={(e) => setFormData({ ...formData, code: e.target.value.toUpperCase() })}\r\n                    placeholder=\"VERANO2024\"\r\n                    className=\"uppercase\"\r\n                  />\r\n                  <Button type=\"button\" variant=\"outline\" onClick={generateRandomCode}>\r\n                    Generar\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"coupon-description\">Descripción</Label>\r\n                <Textarea\r\n                  id=\"coupon-description\"\r\n                  value={formData.description}\r\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                  placeholder=\"Descripción del cupón\"\r\n                  rows={3}\r\n                />\r\n              </div>\r\n              <div className=\"space-y-4\">\r\n                <Label>Tipo de Descuento</Label>\r\n                <div className=\"flex gap-4\">\r\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"coupon_discount_type\"\r\n                      value=\"percentage\"\r\n                      checked={formData.discount_type === 'percentage'}\r\n                      onChange={(e) => setFormData({ ...formData, discount_type: e.target.value })}\r\n                      className=\"w-4 h-4\"\r\n                    />\r\n                    <span>Porcentaje (%)</span>\r\n                  </label>\r\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"coupon_discount_type\"\r\n                      value=\"amount\"\r\n                      checked={formData.discount_type === 'amount'}\r\n                      onChange={(e) => setFormData({ ...formData, discount_type: e.target.value })}\r\n                      className=\"w-4 h-4\"\r\n                    />\r\n                    <span>Monto Fijo (S/)</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              {formData.discount_type === 'percentage' ? (\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"coupon-discount-percentage\">Porcentaje de Descuento</Label>\r\n                  <Input\r\n                    id=\"coupon-discount-percentage\"\r\n                    type=\"number\"\r\n                    min=\"0\"\r\n                    max=\"100\"\r\n                    value={formData.discount_percentage}\r\n                    onChange={(e) => setFormData({ ...formData, discount_percentage: e.target.value })}\r\n                    placeholder=\"20\"\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"coupon-discount-amount\">Monto de Descuento (S/)</Label>\r\n                  <Input\r\n                    id=\"coupon-discount-amount\"\r\n                    type=\"number\"\r\n                    step=\"0.01\"\r\n                    value={formData.discount_amount}\r\n                    onChange={(e) => setFormData({ ...formData, discount_amount: e.target.value })}\r\n                    placeholder=\"10.00\"\r\n                  />\r\n                </div>\r\n              )}\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"max-uses\">Usos Máximos (opcional)</Label>\r\n                <Input\r\n                  id=\"max-uses\"\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  value={formData.max_uses}\r\n                  onChange={(e) => setFormData({ ...formData, max_uses: e.target.value })}\r\n                  placeholder=\"Ilimitado\"\r\n                />\r\n              </div>\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"coupon-start-date\">Fecha de Inicio</Label>\r\n                  <Input\r\n                    id=\"coupon-start-date\"\r\n                    type=\"date\"\r\n                    value={formData.start_date}\r\n                    onChange={(e) => setFormData({ ...formData, start_date: e.target.value })}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"coupon-end-date\">Fecha de Fin</Label>\r\n                  <Input\r\n                    id=\"coupon-end-date\"\r\n                    type=\"date\"\r\n                    value={formData.end_date}\r\n                    onChange={(e) => setFormData({ ...formData, end_date: e.target.value })}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <Label htmlFor=\"coupon-active-switch\">Activar Cupón</Label>\r\n                <Switch\r\n                  id=\"coupon-active-switch\"\r\n                  checked={formData.active}\r\n                  onCheckedChange={(checked) => setFormData({ ...formData, active: checked })}\r\n                />\r\n              </div>\r\n              <div className=\"flex gap-2 justify-end pt-4\">\r\n                <Button variant=\"outline\" onClick={() => setIsDialogOpen(false)}>\r\n                  Cancelar\r\n                </Button>\r\n                <Button onClick={handleSaveCoupon}>\r\n                  {editingCoupon ? 'Actualizar' : 'Crear'} Cupón\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n\r\n      <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\r\n        {coupons.map((coupon) => (\r\n          <Card key={coupon.id} className={`hover:shadow-lg transition-shadow ${!coupon.active ? 'opacity-60' : ''}`}>\r\n            <CardHeader>\r\n              <div className=\"flex justify-between items-start\">\r\n                <div className=\"flex-1\">\r\n                  <CardTitle className=\"flex items-center gap-2\">\r\n                    <Gift className=\"h-5 w-5 text-green-500\" />\r\n                    <code className=\"text-lg font-mono bg-slate-100 px-2 py-1 rounded\">\r\n                      {coupon.code}\r\n                    </code>\r\n                    <Button\r\n                      size=\"icon\"\r\n                      variant=\"ghost\"\r\n                      className=\"h-6 w-6\"\r\n                      onClick={() => copyToClipboard(coupon.code)}\r\n                    >\r\n                      <Copy className=\"h-3 w-3\" />\r\n                    </Button>\r\n                  </CardTitle>\r\n                  <CardDescription className=\"mt-2\">{coupon.description}</CardDescription>\r\n                </div>\r\n                <div className=\"flex gap-1\">\r\n                  <Button\r\n                    size=\"icon\"\r\n                    variant=\"ghost\"\r\n                    onClick={() => handleOpenDialog(coupon)}\r\n                  >\r\n                    <Edit className=\"h-4 w-4\" />\r\n                  </Button>\r\n                  <Button\r\n                    size=\"icon\"\r\n                    variant=\"ghost\"\r\n                    onClick={() => handleDeleteCoupon(coupon.id)}\r\n                  >\r\n                    <Trash2 className=\"h-4 w-4 text-red-500\" />\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"flex items-baseline gap-2\">\r\n                <span className=\"text-3xl font-bold text-green-600\">\r\n                  {coupon.discount_percentage ? `${coupon.discount_percentage}%` : `S/ ${coupon.discount_amount?.toFixed(2)}`}\r\n                </span>\r\n                <span className=\"text-sm text-muted-foreground\">de descuento</span>\r\n              </div>\r\n              <div className=\"space-y-2 text-sm\">\r\n                {coupon.max_uses && (\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-muted-foreground\">Usos:</span>\r\n                    <span className=\"font-medium\">\r\n                      {coupon.current_uses} / {coupon.max_uses}\r\n                    </span>\r\n                  </div>\r\n                )}\r\n                {(coupon.start_date || coupon.end_date) && (\r\n                  <div className=\"flex items-center gap-2 text-muted-foreground\">\r\n                    <Calendar className=\"h-4 w-4\" />\r\n                    <span>\r\n                      {coupon.start_date && new Date(coupon.start_date).toLocaleDateString()}\r\n                      {coupon.start_date && coupon.end_date && ' - '}\r\n                      {coupon.end_date && new Date(coupon.end_date).toLocaleDateString()}\r\n                    </span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"flex items-center justify-between pt-2 border-t\">\r\n                <span className=\"text-sm font-medium\">\r\n                  {coupon.active ? 'Activo' : 'Inactivo'}\r\n                </span>\r\n                <Switch\r\n                  checked={coupon.active}\r\n                  onCheckedChange={() => toggleActive(coupon.id, coupon.active)}\r\n                />\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3337, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst badgeVariants = cva(\r\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\r\n        secondary:\r\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\r\n        destructive:\r\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Badge({\r\n  className,\r\n  variant,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'span'> &\r\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot : 'span'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"badge\"\r\n      className={cn(badgeVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,qPAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,+SAAI,GAAG;IAE9B,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS","debugId":null}},
    {"offset": {"line": 3389, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/components/ui/table.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Table({ className, ...props }: React.ComponentProps<'table'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"table-container\"\r\n      className=\"relative w-full overflow-x-auto\"\r\n    >\r\n      <table\r\n        data-slot=\"table\"\r\n        className={cn('w-full caption-bottom text-sm', className)}\r\n        {...props}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction TableHeader({ className, ...props }: React.ComponentProps<'thead'>) {\r\n  return (\r\n    <thead\r\n      data-slot=\"table-header\"\r\n      className={cn('[&_tr]:border-b', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableBody({ className, ...props }: React.ComponentProps<'tbody'>) {\r\n  return (\r\n    <tbody\r\n      data-slot=\"table-body\"\r\n      className={cn('[&_tr:last-child]:border-0', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableFooter({ className, ...props }: React.ComponentProps<'tfoot'>) {\r\n  return (\r\n    <tfoot\r\n      data-slot=\"table-footer\"\r\n      className={cn(\r\n        'bg-muted/50 border-t font-medium [&>tr]:last:border-b-0',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableRow({ className, ...props }: React.ComponentProps<'tr'>) {\r\n  return (\r\n    <tr\r\n      data-slot=\"table-row\"\r\n      className={cn(\r\n        'hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableHead({ className, ...props }: React.ComponentProps<'th'>) {\r\n  return (\r\n    <th\r\n      data-slot=\"table-head\"\r\n      className={cn(\r\n        'text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableCell({ className, ...props }: React.ComponentProps<'td'>) {\r\n  return (\r\n    <td\r\n      data-slot=\"table-cell\"\r\n      className={cn(\r\n        'p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableCaption({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<'caption'>) {\r\n  return (\r\n    <caption\r\n      data-slot=\"table-caption\"\r\n      className={cn('text-muted-foreground mt-4 text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Table,\r\n  TableHeader,\r\n  TableBody,\r\n  TableFooter,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableCaption,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;AAJA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,4TAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,4TAAC;YACC,aAAU;YACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;KAbS;AAeT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,sJACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS","debugId":null}},
    {"offset": {"line": 3533, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/components/ui/dropdown-menu.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu'\r\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction DropdownMenu({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\r\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\r\n}\r\n\r\nfunction DropdownMenuPortal({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Trigger\r\n      data-slot=\"dropdown-menu-trigger\"\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuContent({\r\n  className,\r\n  sideOffset = 4,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Portal>\r\n      <DropdownMenuPrimitive.Content\r\n        data-slot=\"dropdown-menu-content\"\r\n        sideOffset={sideOffset}\r\n        className={cn(\r\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md',\r\n          className,\r\n        )}\r\n        {...props}\r\n      />\r\n    </DropdownMenuPrimitive.Portal>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuItem({\r\n  className,\r\n  inset,\r\n  variant = 'default',\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\r\n  inset?: boolean\r\n  variant?: 'default' | 'destructive'\r\n}) {\r\n  return (\r\n    <DropdownMenuPrimitive.Item\r\n      data-slot=\"dropdown-menu-item\"\r\n      data-inset={inset}\r\n      data-variant={variant}\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuCheckboxItem({\r\n  className,\r\n  children,\r\n  checked,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\r\n  return (\r\n    <DropdownMenuPrimitive.CheckboxItem\r\n      data-slot=\"dropdown-menu-checkbox-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      checked={checked}\r\n      {...props}\r\n    >\r\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\r\n        <DropdownMenuPrimitive.ItemIndicator>\r\n          <CheckIcon className=\"size-4\" />\r\n        </DropdownMenuPrimitive.ItemIndicator>\r\n      </span>\r\n      {children}\r\n    </DropdownMenuPrimitive.CheckboxItem>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuRadioGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\r\n  return (\r\n    <DropdownMenuPrimitive.RadioGroup\r\n      data-slot=\"dropdown-menu-radio-group\"\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuRadioItem({\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\r\n  return (\r\n    <DropdownMenuPrimitive.RadioItem\r\n      data-slot=\"dropdown-menu-radio-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\r\n        <DropdownMenuPrimitive.ItemIndicator>\r\n          <CircleIcon className=\"size-2 fill-current\" />\r\n        </DropdownMenuPrimitive.ItemIndicator>\r\n      </span>\r\n      {children}\r\n    </DropdownMenuPrimitive.RadioItem>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuLabel({\r\n  className,\r\n  inset,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\r\n  inset?: boolean\r\n}) {\r\n  return (\r\n    <DropdownMenuPrimitive.Label\r\n      data-slot=\"dropdown-menu-label\"\r\n      data-inset={inset}\r\n      className={cn(\r\n        'px-2 py-1.5 text-sm font-medium data-[inset]:pl-8',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuSeparator({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Separator\r\n      data-slot=\"dropdown-menu-separator\"\r\n      className={cn('bg-border -mx-1 my-1 h-px', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuShortcut({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<'span'>) {\r\n  return (\r\n    <span\r\n      data-slot=\"dropdown-menu-shortcut\"\r\n      className={cn(\r\n        'text-muted-foreground ml-auto text-xs tracking-widest',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuSub({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\r\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\r\n}\r\n\r\nfunction DropdownMenuSubTrigger({\r\n  className,\r\n  inset,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\r\n  inset?: boolean\r\n}) {\r\n  return (\r\n    <DropdownMenuPrimitive.SubTrigger\r\n      data-slot=\"dropdown-menu-sub-trigger\"\r\n      data-inset={inset}\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <ChevronRightIcon className=\"ml-auto size-4\" />\r\n    </DropdownMenuPrimitive.SubTrigger>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuSubContent({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\r\n  return (\r\n    <DropdownMenuPrimitive.SubContent\r\n      data-slot=\"dropdown-menu-sub-content\"\r\n      className={cn(\r\n        'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  DropdownMenu,\r\n  DropdownMenuPortal,\r\n  DropdownMenuTrigger,\r\n  DropdownMenuContent,\r\n  DropdownMenuGroup,\r\n  DropdownMenuLabel,\r\n  DropdownMenuItem,\r\n  DropdownMenuCheckboxItem,\r\n  DropdownMenuRadioGroup,\r\n  DropdownMenuRadioItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuShortcut,\r\n  DropdownMenuSub,\r\n  DropdownMenuSubTrigger,\r\n  DropdownMenuSubContent,\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3842, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/components/ui/select.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as SelectPrimitive from '@radix-ui/react-select'\r\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Select({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\r\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\r\n}\r\n\r\nfunction SelectGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\r\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\r\n}\r\n\r\nfunction SelectValue({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\r\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\r\n}\r\n\r\nfunction SelectTrigger({\r\n  className,\r\n  size = 'default',\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\r\n  size?: 'sm' | 'default'\r\n}) {\r\n  return (\r\n    <SelectPrimitive.Trigger\r\n      data-slot=\"select-trigger\"\r\n      data-size={size}\r\n      className={cn(\r\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <SelectPrimitive.Icon asChild>\r\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\r\n      </SelectPrimitive.Icon>\r\n    </SelectPrimitive.Trigger>\r\n  )\r\n}\r\n\r\nfunction SelectContent({\r\n  className,\r\n  children,\r\n  position = 'popper',\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\r\n  return (\r\n    <SelectPrimitive.Portal>\r\n      <SelectPrimitive.Content\r\n        data-slot=\"select-content\"\r\n        className={cn(\r\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md',\r\n          position === 'popper' &&\r\n            'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\r\n          className,\r\n        )}\r\n        position={position}\r\n        {...props}\r\n      >\r\n        <SelectScrollUpButton />\r\n        <SelectPrimitive.Viewport\r\n          className={cn(\r\n            'p-1',\r\n            position === 'popper' &&\r\n              'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1',\r\n          )}\r\n        >\r\n          {children}\r\n        </SelectPrimitive.Viewport>\r\n        <SelectScrollDownButton />\r\n      </SelectPrimitive.Content>\r\n    </SelectPrimitive.Portal>\r\n  )\r\n}\r\n\r\nfunction SelectLabel({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\r\n  return (\r\n    <SelectPrimitive.Label\r\n      data-slot=\"select-label\"\r\n      className={cn('text-muted-foreground px-2 py-1.5 text-xs', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SelectItem({\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\r\n  return (\r\n    <SelectPrimitive.Item\r\n      data-slot=\"select-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\r\n        <SelectPrimitive.ItemIndicator>\r\n          <CheckIcon className=\"size-4\" />\r\n        </SelectPrimitive.ItemIndicator>\r\n      </span>\r\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\r\n    </SelectPrimitive.Item>\r\n  )\r\n}\r\n\r\nfunction SelectSeparator({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\r\n  return (\r\n    <SelectPrimitive.Separator\r\n      data-slot=\"select-separator\"\r\n      className={cn('bg-border pointer-events-none -mx-1 my-1 h-px', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SelectScrollUpButton({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\r\n  return (\r\n    <SelectPrimitive.ScrollUpButton\r\n      data-slot=\"select-scroll-up-button\"\r\n      className={cn(\r\n        'flex cursor-default items-center justify-center py-1',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <ChevronUpIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollUpButton>\r\n  )\r\n}\r\n\r\nfunction SelectScrollDownButton({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\r\n  return (\r\n    <SelectPrimitive.ScrollDownButton\r\n      data-slot=\"select-scroll-down-button\"\r\n      className={cn(\r\n        'flex cursor-default items-center justify-center py-1',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <ChevronDownIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollDownButton>\r\n  )\r\n}\r\n\r\nexport {\r\n  Select,\r\n  SelectContent,\r\n  SelectGroup,\r\n  SelectItem,\r\n  SelectLabel,\r\n  SelectScrollDownButton,\r\n  SelectScrollUpButton,\r\n  SelectSeparator,\r\n  SelectTrigger,\r\n  SelectValue,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,4TAAC,0RAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,4TAAC,2RAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,4TAAC,2RAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,4TAAC,6RAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,qHAAE,EACX,gzBACA;QAED,GAAG,KAAK;;YAER;0BACD,4TAAC,0RAAoB;gBAAC,OAAO;0BAC3B,cAAA,4TAAC,kUAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;MAxBS;AA0BT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,GAAG,OACkD;IACrD,qBACE,4TAAC,4RAAsB;kBACrB,cAAA,4TAAC,6RAAuB;YACtB,aAAU;YACV,WAAW,IAAA,qHAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,4TAAC;;;;;8BACD,4TAAC,8RAAwB;oBACvB,WAAW,IAAA,qHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,4TAAC;;;;;;;;;;;;;;;;AAIT;MAjCS;AAmCT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,4TAAC,2RAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,4TAAC,0RAAoB;QACnB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,4TAAC;gBAAK,WAAU;0BACd,cAAA,4TAAC,mSAA6B;8BAC5B,cAAA,4TAAC,4SAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,4TAAC,8RAAwB;0BAAE;;;;;;;;;;;;AAGjC;MAtBS;AAwBT,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,4TAAC,+RAAyB;QACxB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,4TAAC,oSAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,4TAAC,4TAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;MAhBS;AAkBT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,4TAAC,sSAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,4TAAC,kUAAe;YAAC,WAAU;;;;;;;;;;;AAGjC;MAhBS","debugId":null}},
    {"offset": {"line": 4099, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/components/ui/checkbox.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as CheckboxPrimitive from '@radix-ui/react-checkbox'\r\nimport { CheckIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Checkbox({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\r\n  return (\r\n    <CheckboxPrimitive.Root\r\n      data-slot=\"checkbox\"\r\n      className={cn(\r\n        'peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <CheckboxPrimitive.Indicator\r\n        data-slot=\"checkbox-indicator\"\r\n        className=\"flex items-center justify-center text-current transition-none\"\r\n      >\r\n        <CheckIcon className=\"size-3.5\" />\r\n      </CheckboxPrimitive.Indicator>\r\n    </CheckboxPrimitive.Root>\r\n  )\r\n}\r\n\r\nexport { Checkbox }\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,4TAAC,yRAAsB;QACrB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,+eACA;QAED,GAAG,KAAK;kBAET,cAAA,4TAAC,8RAA2B;YAC1B,aAAU;YACV,WAAU;sBAEV,cAAA,4TAAC,4SAAS;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI7B;KArBS","debugId":null}},
    {"offset": {"line": 4149, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/app/actions/admin-actions.ts"],"sourcesContent":["'use server'\r\n\r\nimport { createClient } from '@supabase/supabase-js'\r\nimport { revalidatePath } from 'next/cache'\r\n\r\nexport async function deleteUsers(userIds: string[]) {\r\n  try {\r\n    const supabase = createClient(\r\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n      process.env.SUPABASE_SERVICE_ROLE_KEY!\r\n    )\r\n\r\n    // Supabase admin deleteUser only takes one ID. We need to loop.\r\n    const results = await Promise.all(\r\n      userIds.map(id => supabase.auth.admin.deleteUser(id))\r\n    )\r\n\r\n    const errors = results.filter(r => r.error).map(r => r.error?.message)\r\n\r\n    if (errors.length > 0) {\r\n      return { success: false, error: `Errores al eliminar: ${errors.join(', ')}` }\r\n    }\r\n\r\n    revalidatePath('/admin')\r\n    return { success: true }\r\n  } catch (error) {\r\n    return { success: false, error: 'Error interno del servidor' }\r\n  }\r\n}\r\n\r\nexport async function updateUserPassword(userId: string, password: string) {\r\n  const supabase = createClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.SUPABASE_SERVICE_ROLE_KEY!,\r\n    {\r\n      auth: {\r\n        autoRefreshToken: false,\r\n        persistSession: false\r\n      }\r\n    }\r\n  )\r\n\r\n  const { error } = await supabase.auth.admin.updateUserById(userId, {\r\n    password: password\r\n  })\r\n\r\n  if (error) {\r\n    return { success: false, error: error.message }\r\n  }\r\n\r\n  revalidatePath('/admin')\r\n  return { success: true }\r\n}\r\n\r\nexport async function createSubscription(data: any) {\r\n  const supabase = createClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.SUPABASE_SERVICE_ROLE_KEY!,\r\n    {\r\n      auth: {\r\n        autoRefreshToken: false,\r\n        persistSession: false\r\n      }\r\n    }\r\n  )\r\n\r\n  // Calcular fechas (30 días por defecto)\r\n  const startDate = new Date()\r\n  const endDate = new Date(startDate)\r\n  endDate.setDate(startDate.getDate() + 30)\r\n\r\n  const { error } = await supabase\r\n    .from('subscriptions')\r\n    .insert({\r\n      user_id: data.user_id,\r\n      plan_id: data.plan_id,\r\n      plan_name: data.plan_name,\r\n      price: parseFloat(data.price),\r\n      status: 'active',\r\n      next_billing_date: endDate.toISOString()\r\n    })\r\n\r\n  if (error) {\r\n    return { success: false, error: error.message }\r\n  }\r\n\r\n  revalidatePath('/admin')\r\n  return { success: true }\r\n}\r\n\r\nexport async function createUser(data: any) {\r\n  try {\r\n    if (!process.env.SUPABASE_SERVICE_ROLE_KEY) {\r\n      return { success: false, error: \"Configuration Error: SUPABASE_SERVICE_ROLE_KEY is missing\" }\r\n    }\r\n\r\n    const supabase = createClient(\r\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n      process.env.SUPABASE_SERVICE_ROLE_KEY!,\r\n      {\r\n        auth: {\r\n          autoRefreshToken: false,\r\n          persistSession: false\r\n        }\r\n      }\r\n    )\r\n\r\n    // Validate input\r\n    if (!data.email || !data.password) {\r\n      return { success: false, error: \"Email y contraseña son obligatorios\" }\r\n    }\r\n    if (data.password.length < 6) {\r\n      return { success: false, error: \"La contraseña debe tener al menos 6 caracteres\" }\r\n    }\r\n\r\n    // 1. Crear usuario en Auth\r\n    const { data: authUser, error: authError } = await supabase.auth.admin.createUser({\r\n      email: data.email,\r\n      password: data.password,\r\n      email_confirm: true,\r\n      user_metadata: {\r\n        first_name: data.first_name,\r\n        last_name: data.last_name,\r\n        full_name: `${data.first_name} ${data.last_name}`.trim()\r\n      }\r\n    })\r\n\r\n    if (authError) return { success: false, error: `Auth Error: ${authError.message}` }\r\n    if (!authUser.user) return { success: false, error: 'No se pudo crear el usuario (No user returned)' }\r\n\r\n    // Force confirm email explicitly\r\n    const { data: updateData, error: confirmError } = await supabase.auth.admin.updateUserById(\r\n      authUser.user.id,\r\n      { email_confirm: true }\r\n    )\r\n\r\n    if (confirmError) {\r\n      console.error('Error forcing email confirmation:', confirmError)\r\n      return { success: false, error: `User created but email confirmation failed: ${confirmError.message}` }\r\n    }\r\n\r\n    // Verify confirmation stuck\r\n    if (!updateData.user?.email_confirmed_at) {\r\n      return { success: false, error: `User created but email_confirmed_at is still null. Update returned: ${JSON.stringify(updateData.user)}` }\r\n    }\r\n\r\n    const userId = authUser.user.id\r\n\r\n    // 2. Actualizar perfil\r\n    const { error: profileError } = await supabase\r\n      .from('profiles')\r\n      .upsert({\r\n        id: userId,\r\n        email: data.email,\r\n        first_name: data.first_name,\r\n        last_name: data.last_name,\r\n        whatsapp: data.whatsapp,\r\n        role: 'user'\r\n      })\r\n\r\n    if (profileError) {\r\n      return { success: false, error: `Usuario creado pero error en perfil: ${profileError.message}` }\r\n    }\r\n\r\n    // 3. Crear suscripción si hay plan seleccionado\r\n    if (data.plan_id) {\r\n      // Calcular fecha de fin (30 días por defecto)\r\n      const startDate = new Date()\r\n      const endDate = new Date(startDate)\r\n      endDate.setDate(startDate.getDate() + 30)\r\n\r\n      const { error: subError } = await supabase\r\n        .from('subscriptions')\r\n        .insert({\r\n          user_id: userId,\r\n          plan_id: data.plan_id,\r\n          plan_name: data.plan_name,\r\n          price: parseFloat(data.price),\r\n          status: 'active',\r\n          next_billing_date: endDate.toISOString()\r\n        })\r\n\r\n      if (subError) console.error('Error creando suscripción:', subError)\r\n    }\r\n\r\n    // 4. Crear credenciales IPTV si se proporcionaron\r\n    if (data.iptv_username && data.iptv_password) {\r\n      const { error: credError } = await supabase\r\n        .from('credentials')\r\n        .insert({\r\n          user_id: userId,\r\n          username: data.iptv_username,\r\n          password: data.iptv_password\r\n        })\r\n      if (credError) console.error('Error creando credenciales:', credError)\r\n    }\r\n\r\n    revalidatePath('/admin')\r\n    return { success: true, userId }\r\n  } catch (error) {\r\n    console.error('Error en createUser:', error)\r\n    return { success: false, error: 'Error interno del servidor al crear usuario' }\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;IAKsB,cAAA,WAAA,GAAA,IAAA,iXAAA,EAAA,8CAAA,sWAAA,EAAA,KAAA,GAAA,4WAAA,EAAA","debugId":null}},
    {"offset": {"line": 4164, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/app/actions/admin-actions.ts"],"sourcesContent":["'use server'\r\n\r\nimport { createClient } from '@supabase/supabase-js'\r\nimport { revalidatePath } from 'next/cache'\r\n\r\nexport async function deleteUsers(userIds: string[]) {\r\n  try {\r\n    const supabase = createClient(\r\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n      process.env.SUPABASE_SERVICE_ROLE_KEY!\r\n    )\r\n\r\n    // Supabase admin deleteUser only takes one ID. We need to loop.\r\n    const results = await Promise.all(\r\n      userIds.map(id => supabase.auth.admin.deleteUser(id))\r\n    )\r\n\r\n    const errors = results.filter(r => r.error).map(r => r.error?.message)\r\n\r\n    if (errors.length > 0) {\r\n      return { success: false, error: `Errores al eliminar: ${errors.join(', ')}` }\r\n    }\r\n\r\n    revalidatePath('/admin')\r\n    return { success: true }\r\n  } catch (error) {\r\n    return { success: false, error: 'Error interno del servidor' }\r\n  }\r\n}\r\n\r\nexport async function updateUserPassword(userId: string, password: string) {\r\n  const supabase = createClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.SUPABASE_SERVICE_ROLE_KEY!,\r\n    {\r\n      auth: {\r\n        autoRefreshToken: false,\r\n        persistSession: false\r\n      }\r\n    }\r\n  )\r\n\r\n  const { error } = await supabase.auth.admin.updateUserById(userId, {\r\n    password: password\r\n  })\r\n\r\n  if (error) {\r\n    return { success: false, error: error.message }\r\n  }\r\n\r\n  revalidatePath('/admin')\r\n  return { success: true }\r\n}\r\n\r\nexport async function createSubscription(data: any) {\r\n  const supabase = createClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.SUPABASE_SERVICE_ROLE_KEY!,\r\n    {\r\n      auth: {\r\n        autoRefreshToken: false,\r\n        persistSession: false\r\n      }\r\n    }\r\n  )\r\n\r\n  // Calcular fechas (30 días por defecto)\r\n  const startDate = new Date()\r\n  const endDate = new Date(startDate)\r\n  endDate.setDate(startDate.getDate() + 30)\r\n\r\n  const { error } = await supabase\r\n    .from('subscriptions')\r\n    .insert({\r\n      user_id: data.user_id,\r\n      plan_id: data.plan_id,\r\n      plan_name: data.plan_name,\r\n      price: parseFloat(data.price),\r\n      status: 'active',\r\n      next_billing_date: endDate.toISOString()\r\n    })\r\n\r\n  if (error) {\r\n    return { success: false, error: error.message }\r\n  }\r\n\r\n  revalidatePath('/admin')\r\n  return { success: true }\r\n}\r\n\r\nexport async function createUser(data: any) {\r\n  try {\r\n    if (!process.env.SUPABASE_SERVICE_ROLE_KEY) {\r\n      return { success: false, error: \"Configuration Error: SUPABASE_SERVICE_ROLE_KEY is missing\" }\r\n    }\r\n\r\n    const supabase = createClient(\r\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n      process.env.SUPABASE_SERVICE_ROLE_KEY!,\r\n      {\r\n        auth: {\r\n          autoRefreshToken: false,\r\n          persistSession: false\r\n        }\r\n      }\r\n    )\r\n\r\n    // Validate input\r\n    if (!data.email || !data.password) {\r\n      return { success: false, error: \"Email y contraseña son obligatorios\" }\r\n    }\r\n    if (data.password.length < 6) {\r\n      return { success: false, error: \"La contraseña debe tener al menos 6 caracteres\" }\r\n    }\r\n\r\n    // 1. Crear usuario en Auth\r\n    const { data: authUser, error: authError } = await supabase.auth.admin.createUser({\r\n      email: data.email,\r\n      password: data.password,\r\n      email_confirm: true,\r\n      user_metadata: {\r\n        first_name: data.first_name,\r\n        last_name: data.last_name,\r\n        full_name: `${data.first_name} ${data.last_name}`.trim()\r\n      }\r\n    })\r\n\r\n    if (authError) return { success: false, error: `Auth Error: ${authError.message}` }\r\n    if (!authUser.user) return { success: false, error: 'No se pudo crear el usuario (No user returned)' }\r\n\r\n    // Force confirm email explicitly\r\n    const { data: updateData, error: confirmError } = await supabase.auth.admin.updateUserById(\r\n      authUser.user.id,\r\n      { email_confirm: true }\r\n    )\r\n\r\n    if (confirmError) {\r\n      console.error('Error forcing email confirmation:', confirmError)\r\n      return { success: false, error: `User created but email confirmation failed: ${confirmError.message}` }\r\n    }\r\n\r\n    // Verify confirmation stuck\r\n    if (!updateData.user?.email_confirmed_at) {\r\n      return { success: false, error: `User created but email_confirmed_at is still null. Update returned: ${JSON.stringify(updateData.user)}` }\r\n    }\r\n\r\n    const userId = authUser.user.id\r\n\r\n    // 2. Actualizar perfil\r\n    const { error: profileError } = await supabase\r\n      .from('profiles')\r\n      .upsert({\r\n        id: userId,\r\n        email: data.email,\r\n        first_name: data.first_name,\r\n        last_name: data.last_name,\r\n        whatsapp: data.whatsapp,\r\n        role: 'user'\r\n      })\r\n\r\n    if (profileError) {\r\n      return { success: false, error: `Usuario creado pero error en perfil: ${profileError.message}` }\r\n    }\r\n\r\n    // 3. Crear suscripción si hay plan seleccionado\r\n    if (data.plan_id) {\r\n      // Calcular fecha de fin (30 días por defecto)\r\n      const startDate = new Date()\r\n      const endDate = new Date(startDate)\r\n      endDate.setDate(startDate.getDate() + 30)\r\n\r\n      const { error: subError } = await supabase\r\n        .from('subscriptions')\r\n        .insert({\r\n          user_id: userId,\r\n          plan_id: data.plan_id,\r\n          plan_name: data.plan_name,\r\n          price: parseFloat(data.price),\r\n          status: 'active',\r\n          next_billing_date: endDate.toISOString()\r\n        })\r\n\r\n      if (subError) console.error('Error creando suscripción:', subError)\r\n    }\r\n\r\n    // 4. Crear credenciales IPTV si se proporcionaron\r\n    if (data.iptv_username && data.iptv_password) {\r\n      const { error: credError } = await supabase\r\n        .from('credentials')\r\n        .insert({\r\n          user_id: userId,\r\n          username: data.iptv_username,\r\n          password: data.iptv_password\r\n        })\r\n      if (credError) console.error('Error creando credenciales:', credError)\r\n    }\r\n\r\n    revalidatePath('/admin')\r\n    return { success: true, userId }\r\n  } catch (error) {\r\n    console.error('Error en createUser:', error)\r\n    return { success: false, error: 'Error interno del servidor al crear usuario' }\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;IA0FsB,aAAA,WAAA,GAAA,IAAA,iXAAA,EAAA,8CAAA,sWAAA,EAAA,KAAA,GAAA,4WAAA,EAAA","debugId":null}},
    {"offset": {"line": 4179, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/app/actions/admin-actions.ts"],"sourcesContent":["'use server'\r\n\r\nimport { createClient } from '@supabase/supabase-js'\r\nimport { revalidatePath } from 'next/cache'\r\n\r\nexport async function deleteUsers(userIds: string[]) {\r\n  try {\r\n    const supabase = createClient(\r\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n      process.env.SUPABASE_SERVICE_ROLE_KEY!\r\n    )\r\n\r\n    // Supabase admin deleteUser only takes one ID. We need to loop.\r\n    const results = await Promise.all(\r\n      userIds.map(id => supabase.auth.admin.deleteUser(id))\r\n    )\r\n\r\n    const errors = results.filter(r => r.error).map(r => r.error?.message)\r\n\r\n    if (errors.length > 0) {\r\n      return { success: false, error: `Errores al eliminar: ${errors.join(', ')}` }\r\n    }\r\n\r\n    revalidatePath('/admin')\r\n    return { success: true }\r\n  } catch (error) {\r\n    return { success: false, error: 'Error interno del servidor' }\r\n  }\r\n}\r\n\r\nexport async function updateUserPassword(userId: string, password: string) {\r\n  const supabase = createClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.SUPABASE_SERVICE_ROLE_KEY!,\r\n    {\r\n      auth: {\r\n        autoRefreshToken: false,\r\n        persistSession: false\r\n      }\r\n    }\r\n  )\r\n\r\n  const { error } = await supabase.auth.admin.updateUserById(userId, {\r\n    password: password\r\n  })\r\n\r\n  if (error) {\r\n    return { success: false, error: error.message }\r\n  }\r\n\r\n  revalidatePath('/admin')\r\n  return { success: true }\r\n}\r\n\r\nexport async function createSubscription(data: any) {\r\n  const supabase = createClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.SUPABASE_SERVICE_ROLE_KEY!,\r\n    {\r\n      auth: {\r\n        autoRefreshToken: false,\r\n        persistSession: false\r\n      }\r\n    }\r\n  )\r\n\r\n  // Calcular fechas (30 días por defecto)\r\n  const startDate = new Date()\r\n  const endDate = new Date(startDate)\r\n  endDate.setDate(startDate.getDate() + 30)\r\n\r\n  const { error } = await supabase\r\n    .from('subscriptions')\r\n    .insert({\r\n      user_id: data.user_id,\r\n      plan_id: data.plan_id,\r\n      plan_name: data.plan_name,\r\n      price: parseFloat(data.price),\r\n      status: 'active',\r\n      next_billing_date: endDate.toISOString()\r\n    })\r\n\r\n  if (error) {\r\n    return { success: false, error: error.message }\r\n  }\r\n\r\n  revalidatePath('/admin')\r\n  return { success: true }\r\n}\r\n\r\nexport async function createUser(data: any) {\r\n  try {\r\n    if (!process.env.SUPABASE_SERVICE_ROLE_KEY) {\r\n      return { success: false, error: \"Configuration Error: SUPABASE_SERVICE_ROLE_KEY is missing\" }\r\n    }\r\n\r\n    const supabase = createClient(\r\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n      process.env.SUPABASE_SERVICE_ROLE_KEY!,\r\n      {\r\n        auth: {\r\n          autoRefreshToken: false,\r\n          persistSession: false\r\n        }\r\n      }\r\n    )\r\n\r\n    // Validate input\r\n    if (!data.email || !data.password) {\r\n      return { success: false, error: \"Email y contraseña son obligatorios\" }\r\n    }\r\n    if (data.password.length < 6) {\r\n      return { success: false, error: \"La contraseña debe tener al menos 6 caracteres\" }\r\n    }\r\n\r\n    // 1. Crear usuario en Auth\r\n    const { data: authUser, error: authError } = await supabase.auth.admin.createUser({\r\n      email: data.email,\r\n      password: data.password,\r\n      email_confirm: true,\r\n      user_metadata: {\r\n        first_name: data.first_name,\r\n        last_name: data.last_name,\r\n        full_name: `${data.first_name} ${data.last_name}`.trim()\r\n      }\r\n    })\r\n\r\n    if (authError) return { success: false, error: `Auth Error: ${authError.message}` }\r\n    if (!authUser.user) return { success: false, error: 'No se pudo crear el usuario (No user returned)' }\r\n\r\n    // Force confirm email explicitly\r\n    const { data: updateData, error: confirmError } = await supabase.auth.admin.updateUserById(\r\n      authUser.user.id,\r\n      { email_confirm: true }\r\n    )\r\n\r\n    if (confirmError) {\r\n      console.error('Error forcing email confirmation:', confirmError)\r\n      return { success: false, error: `User created but email confirmation failed: ${confirmError.message}` }\r\n    }\r\n\r\n    // Verify confirmation stuck\r\n    if (!updateData.user?.email_confirmed_at) {\r\n      return { success: false, error: `User created but email_confirmed_at is still null. Update returned: ${JSON.stringify(updateData.user)}` }\r\n    }\r\n\r\n    const userId = authUser.user.id\r\n\r\n    // 2. Actualizar perfil\r\n    const { error: profileError } = await supabase\r\n      .from('profiles')\r\n      .upsert({\r\n        id: userId,\r\n        email: data.email,\r\n        first_name: data.first_name,\r\n        last_name: data.last_name,\r\n        whatsapp: data.whatsapp,\r\n        role: 'user'\r\n      })\r\n\r\n    if (profileError) {\r\n      return { success: false, error: `Usuario creado pero error en perfil: ${profileError.message}` }\r\n    }\r\n\r\n    // 3. Crear suscripción si hay plan seleccionado\r\n    if (data.plan_id) {\r\n      // Calcular fecha de fin (30 días por defecto)\r\n      const startDate = new Date()\r\n      const endDate = new Date(startDate)\r\n      endDate.setDate(startDate.getDate() + 30)\r\n\r\n      const { error: subError } = await supabase\r\n        .from('subscriptions')\r\n        .insert({\r\n          user_id: userId,\r\n          plan_id: data.plan_id,\r\n          plan_name: data.plan_name,\r\n          price: parseFloat(data.price),\r\n          status: 'active',\r\n          next_billing_date: endDate.toISOString()\r\n        })\r\n\r\n      if (subError) console.error('Error creando suscripción:', subError)\r\n    }\r\n\r\n    // 4. Crear credenciales IPTV si se proporcionaron\r\n    if (data.iptv_username && data.iptv_password) {\r\n      const { error: credError } = await supabase\r\n        .from('credentials')\r\n        .insert({\r\n          user_id: userId,\r\n          username: data.iptv_username,\r\n          password: data.iptv_password\r\n        })\r\n      if (credError) console.error('Error creando credenciales:', credError)\r\n    }\r\n\r\n    revalidatePath('/admin')\r\n    return { success: true, userId }\r\n  } catch (error) {\r\n    console.error('Error en createUser:', error)\r\n    return { success: false, error: 'Error interno del servidor al crear usuario' }\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;IA8BsB,qBAAA,WAAA,GAAA,IAAA,iXAAA,EAAA,8CAAA,sWAAA,EAAA,KAAA,GAAA,4WAAA,EAAA","debugId":null}},
    {"offset": {"line": 4194, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/app/actions/admin-actions.ts"],"sourcesContent":["'use server'\r\n\r\nimport { createClient } from '@supabase/supabase-js'\r\nimport { revalidatePath } from 'next/cache'\r\n\r\nexport async function deleteUsers(userIds: string[]) {\r\n  try {\r\n    const supabase = createClient(\r\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n      process.env.SUPABASE_SERVICE_ROLE_KEY!\r\n    )\r\n\r\n    // Supabase admin deleteUser only takes one ID. We need to loop.\r\n    const results = await Promise.all(\r\n      userIds.map(id => supabase.auth.admin.deleteUser(id))\r\n    )\r\n\r\n    const errors = results.filter(r => r.error).map(r => r.error?.message)\r\n\r\n    if (errors.length > 0) {\r\n      return { success: false, error: `Errores al eliminar: ${errors.join(', ')}` }\r\n    }\r\n\r\n    revalidatePath('/admin')\r\n    return { success: true }\r\n  } catch (error) {\r\n    return { success: false, error: 'Error interno del servidor' }\r\n  }\r\n}\r\n\r\nexport async function updateUserPassword(userId: string, password: string) {\r\n  const supabase = createClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.SUPABASE_SERVICE_ROLE_KEY!,\r\n    {\r\n      auth: {\r\n        autoRefreshToken: false,\r\n        persistSession: false\r\n      }\r\n    }\r\n  )\r\n\r\n  const { error } = await supabase.auth.admin.updateUserById(userId, {\r\n    password: password\r\n  })\r\n\r\n  if (error) {\r\n    return { success: false, error: error.message }\r\n  }\r\n\r\n  revalidatePath('/admin')\r\n  return { success: true }\r\n}\r\n\r\nexport async function createSubscription(data: any) {\r\n  const supabase = createClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.SUPABASE_SERVICE_ROLE_KEY!,\r\n    {\r\n      auth: {\r\n        autoRefreshToken: false,\r\n        persistSession: false\r\n      }\r\n    }\r\n  )\r\n\r\n  // Calcular fechas (30 días por defecto)\r\n  const startDate = new Date()\r\n  const endDate = new Date(startDate)\r\n  endDate.setDate(startDate.getDate() + 30)\r\n\r\n  const { error } = await supabase\r\n    .from('subscriptions')\r\n    .insert({\r\n      user_id: data.user_id,\r\n      plan_id: data.plan_id,\r\n      plan_name: data.plan_name,\r\n      price: parseFloat(data.price),\r\n      status: 'active',\r\n      next_billing_date: endDate.toISOString()\r\n    })\r\n\r\n  if (error) {\r\n    return { success: false, error: error.message }\r\n  }\r\n\r\n  revalidatePath('/admin')\r\n  return { success: true }\r\n}\r\n\r\nexport async function createUser(data: any) {\r\n  try {\r\n    if (!process.env.SUPABASE_SERVICE_ROLE_KEY) {\r\n      return { success: false, error: \"Configuration Error: SUPABASE_SERVICE_ROLE_KEY is missing\" }\r\n    }\r\n\r\n    const supabase = createClient(\r\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n      process.env.SUPABASE_SERVICE_ROLE_KEY!,\r\n      {\r\n        auth: {\r\n          autoRefreshToken: false,\r\n          persistSession: false\r\n        }\r\n      }\r\n    )\r\n\r\n    // Validate input\r\n    if (!data.email || !data.password) {\r\n      return { success: false, error: \"Email y contraseña son obligatorios\" }\r\n    }\r\n    if (data.password.length < 6) {\r\n      return { success: false, error: \"La contraseña debe tener al menos 6 caracteres\" }\r\n    }\r\n\r\n    // 1. Crear usuario en Auth\r\n    const { data: authUser, error: authError } = await supabase.auth.admin.createUser({\r\n      email: data.email,\r\n      password: data.password,\r\n      email_confirm: true,\r\n      user_metadata: {\r\n        first_name: data.first_name,\r\n        last_name: data.last_name,\r\n        full_name: `${data.first_name} ${data.last_name}`.trim()\r\n      }\r\n    })\r\n\r\n    if (authError) return { success: false, error: `Auth Error: ${authError.message}` }\r\n    if (!authUser.user) return { success: false, error: 'No se pudo crear el usuario (No user returned)' }\r\n\r\n    // Force confirm email explicitly\r\n    const { data: updateData, error: confirmError } = await supabase.auth.admin.updateUserById(\r\n      authUser.user.id,\r\n      { email_confirm: true }\r\n    )\r\n\r\n    if (confirmError) {\r\n      console.error('Error forcing email confirmation:', confirmError)\r\n      return { success: false, error: `User created but email confirmation failed: ${confirmError.message}` }\r\n    }\r\n\r\n    // Verify confirmation stuck\r\n    if (!updateData.user?.email_confirmed_at) {\r\n      return { success: false, error: `User created but email_confirmed_at is still null. Update returned: ${JSON.stringify(updateData.user)}` }\r\n    }\r\n\r\n    const userId = authUser.user.id\r\n\r\n    // 2. Actualizar perfil\r\n    const { error: profileError } = await supabase\r\n      .from('profiles')\r\n      .upsert({\r\n        id: userId,\r\n        email: data.email,\r\n        first_name: data.first_name,\r\n        last_name: data.last_name,\r\n        whatsapp: data.whatsapp,\r\n        role: 'user'\r\n      })\r\n\r\n    if (profileError) {\r\n      return { success: false, error: `Usuario creado pero error en perfil: ${profileError.message}` }\r\n    }\r\n\r\n    // 3. Crear suscripción si hay plan seleccionado\r\n    if (data.plan_id) {\r\n      // Calcular fecha de fin (30 días por defecto)\r\n      const startDate = new Date()\r\n      const endDate = new Date(startDate)\r\n      endDate.setDate(startDate.getDate() + 30)\r\n\r\n      const { error: subError } = await supabase\r\n        .from('subscriptions')\r\n        .insert({\r\n          user_id: userId,\r\n          plan_id: data.plan_id,\r\n          plan_name: data.plan_name,\r\n          price: parseFloat(data.price),\r\n          status: 'active',\r\n          next_billing_date: endDate.toISOString()\r\n        })\r\n\r\n      if (subError) console.error('Error creando suscripción:', subError)\r\n    }\r\n\r\n    // 4. Crear credenciales IPTV si se proporcionaron\r\n    if (data.iptv_username && data.iptv_password) {\r\n      const { error: credError } = await supabase\r\n        .from('credentials')\r\n        .insert({\r\n          user_id: userId,\r\n          username: data.iptv_username,\r\n          password: data.iptv_password\r\n        })\r\n      if (credError) console.error('Error creando credenciales:', credError)\r\n    }\r\n\r\n    revalidatePath('/admin')\r\n    return { success: true, userId }\r\n  } catch (error) {\r\n    console.error('Error en createUser:', error)\r\n    return { success: false, error: 'Error interno del servidor al crear usuario' }\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;IAsDsB,qBAAA,WAAA,GAAA,IAAA,iXAAA,EAAA,8CAAA,sWAAA,EAAA,KAAA,GAAA,4WAAA,EAAA","debugId":null}},
    {"offset": {"line": 4209, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/components/admin/users/user-details-modal.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from '@/components/ui/dialog'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Card, CardContent } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { User, Mail, Tv, CreditCard, Lock, Save, RefreshCw, DollarSign, Plus, Shield, FileText, Send, History } from 'lucide-react'\r\nimport { format } from 'date-fns'\r\nimport { es } from 'date-fns/locale'\r\nimport { UserProfile, Plan, UserLog, Invoice } from './types'\r\n\r\ninterface UserDetailsModalProps {\r\n    user: UserProfile | null\r\n    isOpen: boolean\r\n    onClose: () => void\r\n    availablePlans: Plan[]\r\n    onUpdateProfile: (userId: string, data: { first_name: string; last_name: string; email: string; whatsapp: string }) => Promise<void>\r\n    onUpdateIptvCredentials: (userId: string, data: { username: string; password: string }) => Promise<void>\r\n    onUpdateSubscriptionDetails: (userId: string, data: { plan_name: string; price: number; next_billing_date?: string }) => Promise<void>\r\n    onUpdateSubscriptionStatus: (userId: string, status: string) => Promise<void>\r\n    onCreateSubscription: (userId: string, data: { plan_name: string; price: number }) => Promise<void>\r\n    onManualPasswordUpdate: (userId: string, password: string) => Promise<void>\r\n    onSendPasswordReset: (email: string) => Promise<void>\r\n    userLogs: UserLog[]\r\n    userInvoices: Invoice[]\r\n    loadingLogs: boolean\r\n    loadingInvoices: boolean\r\n}\r\n\r\nexport function UserDetailsModal({\r\n    user,\r\n    isOpen,\r\n    onClose,\r\n    availablePlans,\r\n    onUpdateProfile,\r\n    onUpdateIptvCredentials,\r\n    onUpdateSubscriptionDetails,\r\n    onUpdateSubscriptionStatus,\r\n    onCreateSubscription,\r\n    onManualPasswordUpdate,\r\n    onSendPasswordReset,\r\n    userLogs,\r\n    userInvoices,\r\n    loadingLogs,\r\n    loadingInvoices\r\n}: UserDetailsModalProps) {\r\n    const [activeTab, setActiveTab] = useState('details')\r\n    const [isSubmitting, setIsSubmitting] = useState(false)\r\n\r\n    // Forms State\r\n    const [profileForm, setProfileForm] = useState({ first_name: '', last_name: '', email: '', whatsapp: '' })\r\n    const [iptvForm, setIptvForm] = useState({ username: '', password: '' })\r\n    const [planForm, setPlanForm] = useState({ plan_name: '' })\r\n    const [priceForm, setPriceForm] = useState({ price: '' })\r\n    const [billingDateForm, setBillingDateForm] = useState({ date: '' })\r\n    const [manualPassword, setManualPassword] = useState('')\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            setProfileForm({\r\n                first_name: user.first_name || '',\r\n                last_name: user.last_name || '',\r\n                email: user.email || '',\r\n                whatsapp: user.whatsapp || ''\r\n            })\r\n            setIptvForm({\r\n                username: user.credentials?.username || '',\r\n                password: user.credentials?.password || ''\r\n            })\r\n            setPlanForm({\r\n                plan_name: user.subscription?.plan_name || ''\r\n            })\r\n            setPriceForm({\r\n                price: user.subscription?.price?.toString() || ''\r\n            })\r\n            setBillingDateForm({\r\n                date: user.subscription?.next_billing_date ? new Date(user.subscription.next_billing_date).toISOString().split('T')[0] : ''\r\n            })\r\n            setManualPassword('')\r\n        }\r\n    }, [user])\r\n\r\n    const handleProfileSubmit = async () => {\r\n        if (!user) return\r\n        setIsSubmitting(true)\r\n        try {\r\n            await onUpdateProfile(user.id, profileForm)\r\n        } finally {\r\n            setIsSubmitting(false)\r\n        }\r\n    }\r\n\r\n    const handleIptvSubmit = async () => {\r\n        if (!user) return\r\n        setIsSubmitting(true)\r\n        try {\r\n            await onUpdateIptvCredentials(user.id, iptvForm)\r\n        } finally {\r\n            setIsSubmitting(false)\r\n        }\r\n    }\r\n\r\n    const handleSubscriptionSubmit = async () => {\r\n        if (!user) return\r\n        setIsSubmitting(true)\r\n        try {\r\n            await onUpdateSubscriptionDetails(user.id, {\r\n                plan_name: planForm.plan_name,\r\n                price: parseFloat(priceForm.price) || 0,\r\n                next_billing_date: billingDateForm.date\r\n            })\r\n        } finally {\r\n            setIsSubmitting(false)\r\n        }\r\n    }\r\n\r\n    const handleCreateSubscriptionSubmit = async () => {\r\n        if (!user) return\r\n        setIsSubmitting(true)\r\n        try {\r\n            await onCreateSubscription(user.id, {\r\n                plan_name: planForm.plan_name,\r\n                price: parseFloat(priceForm.price) || 0\r\n            })\r\n        } finally {\r\n            setIsSubmitting(false)\r\n        }\r\n    }\r\n\r\n    const handleManualPasswordSubmit = async () => {\r\n        if (!user) return\r\n        setIsSubmitting(true)\r\n        try {\r\n            await onManualPasswordUpdate(user.id, manualPassword)\r\n            setManualPassword('')\r\n        } finally {\r\n            setIsSubmitting(false)\r\n        }\r\n    }\r\n\r\n    if (!user) return null\r\n\r\n    return (\r\n        <Dialog open={isOpen} onOpenChange={(open) => !open && onClose()}>\r\n            <DialogContent className=\"max-w-[95vw] sm:max-w-5xl h-[95vh] flex flex-col p-0\">\r\n                <DialogHeader className=\"px-6 pt-6 pb-4 border-b\">\r\n                    <DialogTitle className=\"text-lg sm:text-xl\">Gestión de Cliente: {`${user.first_name || ''} ${user.last_name || ''}`.trim()}</DialogTitle>\r\n                    <DialogDescription>Administra la cuenta, servicios y comunicaciones</DialogDescription>\r\n                </DialogHeader>\r\n\r\n                <Tabs value={activeTab} onValueChange={setActiveTab} className=\"flex-1 flex flex-col overflow-hidden\">\r\n                    <div className=\"px-6 pt-4 pb-2\">\r\n                        <div className=\"overflow-x-auto pb-2 -mx-6 px-6 md:mx-0 md:px-0 md:pb-0\">\r\n                            <TabsList className=\"inline-flex h-auto w-auto p-1 min-w-full md:grid md:w-full md:grid-cols-4 gap-2\">\r\n                                <TabsTrigger value=\"details\" className=\"px-4 py-2 text-xs sm:text-sm whitespace-nowrap\">Detalles</TabsTrigger>\r\n                                <TabsTrigger value=\"billing\" className=\"px-4 py-2 text-xs sm:text-sm whitespace-nowrap\">Facturación</TabsTrigger>\r\n                                <TabsTrigger value=\"communications\" className=\"px-4 py-2 text-xs sm:text-sm whitespace-nowrap\">Comunicación</TabsTrigger>\r\n                                <TabsTrigger value=\"history\" className=\"px-4 py-2 text-xs sm:text-sm whitespace-nowrap\">Historial</TabsTrigger>\r\n                            </TabsList>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <TabsContent value=\"details\" className=\"flex-1 overflow-y-auto px-6 py-4 mt-0\">\r\n                        <div className=\"grid gap-6 md:grid-cols-2 pb-6\">\r\n                            {/* Left Column */}\r\n                            <div className=\"flex flex-col gap-6\">\r\n                                {/* Personal Info */}\r\n                                <div className=\"flex flex-col gap-4\">\r\n                                    <h3 className=\"font-semibold flex items-center gap-2 text-primary border-b pb-2\">\r\n                                        <User className=\"h-4 w-4\" /> Información Personal\r\n                                    </h3>\r\n                                    <Card className=\"bg-muted/30\">\r\n                                        <CardContent className=\"p-4 space-y-4\">\r\n                                            <div className=\"space-y-2\">\r\n                                                <Label htmlFor=\"first-name\" className=\"text-sm font-medium\">Nombre</Label>\r\n                                                <Input\r\n                                                    id=\"first-name\"\r\n                                                    value={profileForm.first_name}\r\n                                                    onChange={(e) => setProfileForm({ ...profileForm, first_name: e.target.value })}\r\n                                                    className=\"h-9 bg-background\"\r\n                                                    placeholder=\"Nombre del cliente\"\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"space-y-2\">\r\n                                                <Label htmlFor=\"last-name\" className=\"text-sm font-medium\">Apellido</Label>\r\n                                                <Input\r\n                                                    id=\"last-name\"\r\n                                                    value={profileForm.last_name}\r\n                                                    onChange={(e) => setProfileForm({ ...profileForm, last_name: e.target.value })}\r\n                                                    className=\"h-9 bg-background\"\r\n                                                    placeholder=\"Apellido del cliente\"\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"space-y-2\">\r\n                                                <Label htmlFor=\"email\" className=\"text-sm font-medium\">Email</Label>\r\n                                                <Input\r\n                                                    id=\"email\"\r\n                                                    type=\"email\"\r\n                                                    value={profileForm.email}\r\n                                                    onChange={(e) => setProfileForm({ ...profileForm, email: e.target.value })}\r\n                                                    className=\"h-9 bg-background\"\r\n                                                    placeholder=\"correo@ejemplo.com\"\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"space-y-2\">\r\n                                                <Label htmlFor=\"whatsapp\" className=\"text-sm font-medium\">WhatsApp</Label>\r\n                                                <Input\r\n                                                    id=\"whatsapp\"\r\n                                                    value={profileForm.whatsapp}\r\n                                                    onChange={(e) => setProfileForm({ ...profileForm, whatsapp: e.target.value })}\r\n                                                    className=\"h-9 bg-background\"\r\n                                                    placeholder=\"+51 999 999 999\"\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"pt-2 border-t space-y-2\">\r\n                                                <div className=\"flex justify-between items-center text-sm\">\r\n                                                    <span className=\"text-muted-foreground\">Rol:</span>\r\n                                                    <Badge variant=\"outline\" className=\"capitalize\">{user.role}</Badge>\r\n                                                </div>\r\n                                                <div className=\"flex justify-between items-center text-sm\">\r\n                                                    <span className=\"text-muted-foreground\">Registro:</span>\r\n                                                    <span className=\"font-medium\">\r\n                                                        {user.created_at ? format(new Date(user.created_at), 'dd/MM/yyyy', { locale: es }) : '-'}\r\n                                                    </span>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"pt-2\">\r\n                                                <Button onClick={handleProfileSubmit} disabled={isSubmitting} className=\"w-full\" size=\"sm\">\r\n                                                    <Save className=\"mr-2 h-4 w-4\" /> Guardar Información Personal\r\n                                                </Button>\r\n                                            </div>\r\n                                        </CardContent>\r\n                                    </Card>\r\n                                </div>\r\n\r\n                                {/* IPTV Credentials */}\r\n                                <div className=\"flex flex-col gap-4\">\r\n                                    <h3 className=\"font-semibold flex items-center gap-2 text-primary border-b pb-2\">\r\n                                        <Tv className=\"h-4 w-4\" /> Credenciales IPTV\r\n                                    </h3>\r\n                                    <Card className=\"bg-muted/30\">\r\n                                        <CardContent className=\"p-4 space-y-4\">\r\n                                            <div className=\"space-y-2\">\r\n                                                <Label className=\"text-sm font-medium\">Usuario IPTV</Label>\r\n                                                <Input\r\n                                                    value={iptvForm.username}\r\n                                                    onChange={(e) => setIptvForm({ ...iptvForm, username: e.target.value })}\r\n                                                    className=\"bg-background\"\r\n                                                    placeholder=\"Usuario del servicio\"\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"space-y-2\">\r\n                                                <Label className=\"text-sm font-medium\">Contraseña IPTV</Label>\r\n                                                <div className=\"flex gap-2\">\r\n                                                    <Input\r\n                                                        value={iptvForm.password}\r\n                                                        onChange={(e) => setIptvForm({ ...iptvForm, password: e.target.value })}\r\n                                                        className=\"bg-background\"\r\n                                                        placeholder=\"Contraseña del servicio\"\r\n                                                    />\r\n                                                    <Button variant=\"outline\" size=\"icon\" onClick={() => setIptvForm({ ...iptvForm, password: 'Temp' + Math.random().toString(36).slice(-8) })}>\r\n                                                        <RefreshCw className=\"h-4 w-4\" />\r\n                                                    </Button>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"pt-2\">\r\n                                                <Button onClick={handleIptvSubmit} disabled={isSubmitting} className=\"w-full\" size=\"sm\">\r\n                                                    <Save className=\"mr-2 h-4 w-4\" /> Actualizar Credenciales\r\n                                                </Button>\r\n                                            </div>\r\n                                        </CardContent>\r\n                                    </Card>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Right Column */}\r\n                            <div className=\"flex flex-col gap-6\">\r\n                                {/* Subscription Info */}\r\n                                <div className=\"flex flex-col gap-4\">\r\n                                    <h3 className=\"font-semibold flex items-center gap-2 text-primary border-b pb-2\">\r\n                                        <CreditCard className=\"h-4 w-4\" /> Suscripción Actual\r\n                                    </h3>\r\n                                    <Card className=\"bg-muted/30\">\r\n                                        <CardContent className=\"p-4 space-y-4\">\r\n                                            {user.subscription ? (\r\n                                                <>\r\n                                                    <div className=\"grid gap-4\">\r\n                                                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                                                            <div className=\"space-y-2\">\r\n                                                                <Label className=\"text-sm font-medium\">Plan</Label>\r\n                                                                <Select\r\n                                                                    value={planForm.plan_name}\r\n                                                                    onValueChange={(val) => setPlanForm({ plan_name: val })}\r\n                                                                >\r\n                                                                    <SelectTrigger className=\"h-9 bg-background\">\r\n                                                                        <SelectValue placeholder=\"Seleccionar plan\" />\r\n                                                                    </SelectTrigger>\r\n                                                                    <SelectContent>\r\n                                                                        {availablePlans.map(plan => (\r\n                                                                            <SelectItem key={plan.id} value={plan.name}>{plan.name}</SelectItem>\r\n                                                                        ))}\r\n                                                                    </SelectContent>\r\n                                                                </Select>\r\n                                                            </div>\r\n\r\n                                                            <div className=\"space-y-2\">\r\n                                                                <Label className=\"text-sm font-medium\">Precio Mensual</Label>\r\n                                                                <div className=\"relative\">\r\n                                                                    <DollarSign className=\"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-muted-foreground\" />\r\n                                                                    <Input\r\n                                                                        type=\"number\"\r\n                                                                        step=\"0.01\"\r\n                                                                        value={priceForm.price}\r\n                                                                        onChange={(e) => setPriceForm({ price: e.target.value })}\r\n                                                                        className=\"h-9 pl-7 bg-background\"\r\n                                                                    />\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n\r\n                                                        <div className=\"space-y-2\">\r\n                                                            <Label className=\"text-sm font-medium\">Próximo Pago</Label>\r\n                                                            <Input\r\n                                                                type=\"date\"\r\n                                                                value={billingDateForm.date}\r\n                                                                onChange={(e) => setBillingDateForm({ date: e.target.value })}\r\n                                                                className=\"h-9 bg-background\"\r\n                                                            />\r\n                                                        </div>\r\n\r\n                                                        <Button\r\n                                                            onClick={handleSubscriptionSubmit}\r\n                                                            disabled={isSubmitting}\r\n                                                            className=\"w-full\"\r\n                                                            size=\"sm\"\r\n                                                        >\r\n                                                            <Save className=\"mr-2 h-4 w-4\" /> Guardar Cambios de Suscripción\r\n                                                        </Button>\r\n                                                    </div>\r\n\r\n                                                    <div className=\"pt-3 border-t space-y-2\">\r\n                                                        <Label className=\"text-sm font-medium\">Estado de Suscripción</Label>\r\n                                                        <div className=\"flex flex-wrap gap-2\">\r\n                                                            <Button\r\n                                                                size=\"sm\"\r\n                                                                variant={user.subscription.status === 'active' ? 'default' : 'outline'}\r\n                                                                className={`h-8 flex-1 ${user.subscription.status === 'active' ? 'bg-green-600 hover:bg-green-700' : 'text-green-600 border-green-200 hover:bg-green-50'}`}\r\n                                                                onClick={() => onUpdateSubscriptionStatus(user.id, 'active')}\r\n                                                                disabled={isSubmitting}\r\n                                                            >\r\n                                                                Activo\r\n                                                            </Button>\r\n                                                            <Button\r\n                                                                size=\"sm\"\r\n                                                                variant={user.subscription.status === 'inactive' ? 'default' : 'outline'}\r\n                                                                className={`h-8 flex-1 ${user.subscription.status === 'inactive' ? 'bg-yellow-600 hover:bg-yellow-700' : 'text-yellow-600 border-yellow-200 hover:bg-yellow-50'}`}\r\n                                                                onClick={() => onUpdateSubscriptionStatus(user.id, 'inactive')}\r\n                                                                disabled={isSubmitting}\r\n                                                            >\r\n                                                                Inactivo\r\n                                                            </Button>\r\n                                                            <Button\r\n                                                                size=\"sm\"\r\n                                                                variant={user.subscription.status === 'cancelled' ? 'default' : 'outline'}\r\n                                                                className={`h-8 flex-1 ${user.subscription.status === 'cancelled' ? 'bg-red-600 hover:bg-red-700' : 'text-red-600 border-red-200 hover:bg-red-50'}`}\r\n                                                                onClick={() => onUpdateSubscriptionStatus(user.id, 'cancelled')}\r\n                                                                disabled={isSubmitting}\r\n                                                            >\r\n                                                                Cancelado\r\n                                                            </Button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </>\r\n                                            ) : (\r\n                                                <div className=\"space-y-4\">\r\n                                                    <div className=\"text-center py-4 text-muted-foreground border-b mb-4\">\r\n                                                        <CreditCard className=\"h-8 w-8 mx-auto mb-2 opacity-20\" />\r\n                                                        <p className=\"text-sm\">El usuario no tiene una suscripción activa</p>\r\n                                                    </div>\r\n\r\n                                                    <div className=\"space-y-2\">\r\n                                                        <Label className=\"text-sm font-medium\">Agregar Suscripción Manual</Label>\r\n                                                        <div className=\"grid gap-4\">\r\n                                                            <div className=\"space-y-2\">\r\n                                                                <Label className=\"text-xs text-muted-foreground\">Plan</Label>\r\n                                                                <Select\r\n                                                                    value={planForm.plan_name}\r\n                                                                    onValueChange={(val) => {\r\n                                                                        const plan = availablePlans.find(p => p.name === val)\r\n                                                                        setPlanForm({ plan_name: val })\r\n                                                                        if (plan) setPriceForm({ price: plan.price.toString() })\r\n                                                                    }}\r\n                                                                >\r\n                                                                    <SelectTrigger className=\"h-9 bg-background\">\r\n                                                                        <SelectValue placeholder=\"Seleccionar plan\" />\r\n                                                                    </SelectTrigger>\r\n                                                                    <SelectContent>\r\n                                                                        {availablePlans.map(plan => (\r\n                                                                            <SelectItem key={plan.id} value={plan.name}>{plan.name} - ${plan.price}</SelectItem>\r\n                                                                        ))}\r\n                                                                    </SelectContent>\r\n                                                                </Select>\r\n                                                            </div>\r\n                                                            <div className=\"space-y-2\">\r\n                                                                <Label className=\"text-xs text-muted-foreground\">Precio Acordado</Label>\r\n                                                                <div className=\"relative\">\r\n                                                                    <DollarSign className=\"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-muted-foreground\" />\r\n                                                                    <Input\r\n                                                                        type=\"number\"\r\n                                                                        step=\"0.01\"\r\n                                                                        value={priceForm.price}\r\n                                                                        onChange={(e) => setPriceForm({ price: e.target.value })}\r\n                                                                        className=\"h-9 pl-7 bg-background\"\r\n                                                                        placeholder=\"0.00\"\r\n                                                                    />\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <Button\r\n                                                                onClick={handleCreateSubscriptionSubmit}\r\n                                                                disabled={isSubmitting || !planForm.plan_name}\r\n                                                                className=\"w-full\"\r\n                                                            >\r\n                                                                <Plus className=\"mr-2 h-4 w-4\" /> Crear Suscripción\r\n                                                            </Button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )}\r\n                                        </CardContent>\r\n                                    </Card>\r\n                                </div>\r\n\r\n                                {/* Security */}\r\n                                <div className=\"flex flex-col gap-4\">\r\n                                    <h3 className=\"font-semibold flex items-center gap-2 text-primary border-b pb-2\">\r\n                                        <Lock className=\"h-4 w-4\" /> Seguridad de la Cuenta\r\n                                    </h3>\r\n                                    <Card className=\"bg-muted/30\">\r\n                                        <CardContent className=\"p-4 space-y-4\">\r\n                                            <div className=\"flex items-center justify-between p-3 border rounded-lg bg-background\">\r\n                                                <div className=\"space-y-1\">\r\n                                                    <h4 className=\"font-medium text-sm\">Restablecer Contraseña</h4>\r\n                                                    <p className=\"text-xs text-muted-foreground\">\r\n                                                        Envía correo para nueva contraseña.\r\n                                                    </p>\r\n                                                </div>\r\n                                                <Button onClick={() => user.email && onSendPasswordReset(user.email)} disabled={isSubmitting || !user.email} size=\"sm\" variant=\"outline\">\r\n                                                    <Mail className=\"mr-2 h-3 w-3\" /> Enviar\r\n                                                </Button>\r\n                                            </div>\r\n\r\n                                            <div className=\"space-y-3 p-3 border rounded-lg bg-background\">\r\n                                                <div className=\"space-y-1\">\r\n                                                    <h4 className=\"font-medium text-sm\">Cambio Manual de Contraseña</h4>\r\n                                                    <p className=\"text-xs text-muted-foreground\">\r\n                                                        Establece una nueva contraseña directamente.\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div className=\"flex gap-2\">\r\n                                                    <Input\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"Nueva contraseña\"\r\n                                                        value={manualPassword}\r\n                                                        onChange={(e) => setManualPassword(e.target.value)}\r\n                                                        className=\"h-9 text-sm\"\r\n                                                    />\r\n                                                    <Button\r\n                                                        variant=\"outline\"\r\n                                                        size=\"icon\"\r\n                                                        className=\"h-9 w-9 shrink-0\"\r\n                                                        onClick={() => setManualPassword(Math.random().toString(36).slice(-8) + Math.random().toString(36).slice(-8))}\r\n                                                        title=\"Generar aleatoria\"\r\n                                                    >\r\n                                                        <RefreshCw className=\"h-4 w-4\" />\r\n                                                    </Button>\r\n                                                </div>\r\n                                                <Button\r\n                                                    onClick={handleManualPasswordSubmit}\r\n                                                    disabled={isSubmitting || !manualPassword}\r\n                                                    className=\"w-full\"\r\n                                                    size=\"sm\"\r\n                                                >\r\n                                                    <Save className=\"mr-2 h-4 w-4\" /> Guardar Nueva Contraseña\r\n                                                </Button>\r\n                                            </div>\r\n\r\n                                            <div className=\"flex items-center justify-between p-3 border rounded-lg bg-red-50 border-red-100\">\r\n                                                <div className=\"space-y-1\">\r\n                                                    <h4 className=\"font-medium text-sm text-red-700\">Zona de Peligro</h4>\r\n                                                    <p className=\"text-xs text-red-600/80\">\r\n                                                        Acciones críticas de cuenta.\r\n                                                    </p>\r\n                                                </div>\r\n                                                <Button variant=\"destructive\" size=\"sm\">\r\n                                                    <Shield className=\"mr-2 h-3 w-3\" /> Suspender\r\n                                                </Button>\r\n                                            </div>\r\n                                        </CardContent>\r\n                                    </Card>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </TabsContent>\r\n\r\n                    <TabsContent value=\"billing\" className=\"space-y-4 py-4 overflow-y-auto px-6\">\r\n                        <div className=\"space-y-6\">\r\n                            {/* Current Payment Info */}\r\n                            <div className=\"space-y-4\">\r\n                                <h3 className=\"font-semibold flex items-center gap-2 text-primary border-b pb-2\">\r\n                                    <DollarSign className=\"h-4 w-4\" /> Información de Pago Actual\r\n                                </h3>\r\n                                <div className=\"grid gap-4 md:grid-cols-2\">\r\n                                    <Card className=\"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200\">\r\n                                        <CardContent className=\"p-4\">\r\n                                            <div className=\"flex items-center justify-between mb-2\">\r\n                                                <span className=\"text-sm text-green-700 font-medium\">Precio Actual</span>\r\n                                                <DollarSign className=\"h-5 w-5 text-green-600\" />\r\n                                            </div>\r\n                                            <div className=\"text-2xl font-bold text-green-800\">\r\n                                                ${user.subscription?.price?.toFixed(2) || '0.00'}\r\n                                            </div>\r\n                                            <p className=\"text-xs text-green-600 mt-1\">Por mes</p>\r\n                                        </CardContent>\r\n                                    </Card>\r\n                                    <Card className=\"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200\">\r\n                                        <CardContent className=\"p-4\">\r\n                                            <div className=\"flex items-center justify-between mb-2\">\r\n                                                <span className=\"text-sm text-blue-700 font-medium\">Próxima Facturación</span>\r\n                                                <History className=\"h-5 w-5 text-blue-600\" />\r\n                                            </div>\r\n                                            <div className=\"text-2xl font-bold text-blue-800\">\r\n                                                {user.subscription?.next_billing_date ? format(new Date(user.subscription.next_billing_date), 'dd MMM yyyy', { locale: es }) : 'No programada'}\r\n                                            </div>\r\n                                            <p className=\"text-xs text-blue-600 mt-1\">Renovación automática</p>\r\n                                        </CardContent>\r\n                                    </Card>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Invoices Table */}\r\n                            <div className=\"space-y-4\">\r\n                                <h3 className=\"font-semibold flex items-center gap-2 text-primary border-b pb-2\">\r\n                                    <FileText className=\"h-4 w-4\" /> Historial de Facturas\r\n                                </h3>\r\n                                <div className=\"border rounded-md\">\r\n                                    {loadingInvoices ? (\r\n                                        <div className=\"p-8 text-center text-muted-foreground\">Cargando facturas...</div>\r\n                                    ) : userInvoices.length > 0 ? (\r\n                                        <div className=\"overflow-x-auto\">\r\n                                            <table className=\"w-full text-sm\">\r\n                                                <thead className=\"bg-muted/50\">\r\n                                                    <tr>\r\n                                                        <th className=\"px-4 py-3 text-left font-medium\">ID</th>\r\n                                                        <th className=\"px-4 py-3 text-left font-medium\">Fecha</th>\r\n                                                        <th className=\"px-4 py-3 text-left font-medium\">Monto</th>\r\n                                                        <th className=\"px-4 py-3 text-left font-medium\">Estado</th>\r\n                                                    </tr>\r\n                                                </thead>\r\n                                                <tbody className=\"divide-y\">\r\n                                                    {userInvoices.map((invoice) => (\r\n                                                        <tr key={invoice.id}>\r\n                                                            <td className=\"px-4 py-3 font-mono text-xs\">{invoice.id.slice(0, 8)}...</td>\r\n                                                            <td className=\"px-4 py-3\">{format(new Date(invoice.invoice_date), 'dd/MM/yyyy')}</td>\r\n                                                            <td className=\"px-4 py-3\">${invoice.amount.toFixed(2)}</td>\r\n                                                            <td className=\"px-4 py-3\">\r\n                                                                <Badge variant={invoice.status === 'paid' ? 'default' : 'secondary'} className={invoice.status === 'paid' ? 'bg-green-100 text-green-800 hover:bg-green-100' : ''}>\r\n                                                                    {invoice.status === 'paid' ? 'Pagado' : invoice.status}\r\n                                                                </Badge>\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    ))}\r\n                                                </tbody>\r\n                                            </table>\r\n                                        </div>\r\n                                    ) : (\r\n                                        <div className=\"p-8 text-center text-muted-foreground\">No hay facturas registradas</div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </TabsContent>\r\n\r\n                    <TabsContent value=\"communications\" className=\"flex-1 overflow-y-auto px-6 py-4 mt-0\">\r\n                        <div className=\"space-y-6\">\r\n                            <div className=\"flex flex-col items-center justify-center py-12 text-center space-y-4 border-2 border-dashed rounded-lg\">\r\n                                <div className=\"p-4 bg-muted rounded-full\">\r\n                                    <Send className=\"h-8 w-8 text-muted-foreground\" />\r\n                                </div>\r\n                                <div className=\"space-y-2\">\r\n                                    <h3 className=\"font-semibold text-lg\">Centro de Comunicaciones</h3>\r\n                                    <p className=\"text-muted-foreground max-w-sm mx-auto\">\r\n                                        Próximamente podrás enviar correos y mensajes de WhatsApp directamente desde aquí.\r\n                                    </p>\r\n                                </div>\r\n                                <Button variant=\"outline\" disabled>\r\n                                    Nueva Comunicación\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    </TabsContent>\r\n\r\n                    <TabsContent value=\"history\" className=\"flex-1 overflow-y-auto px-6 py-4 mt-0\">\r\n                        <div className=\"space-y-4\">\r\n                            <h3 className=\"font-semibold flex items-center gap-2 text-primary border-b pb-2\">\r\n                                <History className=\"h-4 w-4\" /> Registro de Actividad\r\n                            </h3>\r\n                            <div className=\"space-y-4\">\r\n                                {loadingLogs ? (\r\n                                    <div className=\"text-center py-8 text-muted-foreground\">Cargando historial...</div>\r\n                                ) : userLogs.length > 0 ? (\r\n                                    <div className=\"relative pl-4 border-l-2 border-muted space-y-6\">\r\n                                        {userLogs.map((log) => (\r\n                                            <div key={log.id} className=\"relative\">\r\n                                                <div className=\"absolute -left-[21px] top-1 h-3 w-3 rounded-full bg-primary/20 border-2 border-primary\" />\r\n                                                <div className=\"space-y-1\">\r\n                                                    <div className=\"flex items-center gap-2\">\r\n                                                        <span className=\"font-medium text-sm\">{log.action}</span>\r\n                                                        <span className=\"text-xs text-muted-foreground\">\r\n                                                            {format(new Date(log.created_at), 'dd MMM yyyy HH:mm', { locale: es })}\r\n                                                        </span>\r\n                                                    </div>\r\n                                                    <div className=\"text-xs text-muted-foreground bg-muted/30 p-2 rounded border font-mono\">\r\n                                                        {JSON.stringify(log.details, null, 2)}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                ) : (\r\n                                    <div className=\"text-center py-8 text-muted-foreground\">No hay actividad registrada</div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </TabsContent>\r\n                </Tabs>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6179, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/lib/utils/subscription.ts"],"sourcesContent":["/**\r\n * Utility functions for subscription status handling\r\n */\r\n\r\nexport function getStatusColor(status?: string): string {\r\n    switch (status) {\r\n        case 'active':\r\n            return 'bg-green-500/10 text-green-500 hover:bg-green-500/20'\r\n        case 'inactive':\r\n            return 'bg-yellow-500/10 text-yellow-500 hover:bg-yellow-500/20'\r\n        case 'cancelled':\r\n            return 'bg-red-500/10 text-red-500 hover:bg-red-500/20'\r\n        default:\r\n            return 'bg-gray-500/10 text-gray-500 hover:bg-gray-500/20'\r\n    }\r\n}\r\n\r\nexport function getStatusLabel(status?: string): string {\r\n    switch (status) {\r\n        case 'active':\r\n            return 'Activo'\r\n        case 'inactive':\r\n            return 'Inactivo'\r\n        case 'cancelled':\r\n            return 'Cancelado'\r\n        default:\r\n            return 'Sin Plan'\r\n    }\r\n}\r\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;AAEM,SAAS,eAAe,MAAe;IAC1C,OAAQ;QACJ,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX;YACI,OAAO;IACf;AACJ;AAEO,SAAS,eAAe,MAAe;IAC1C,OAAQ;QACJ,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX;YACI,OAAO;IACf;AACJ","debugId":null}},
    {"offset": {"line": 6218, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/components/admin/users-management.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from '@/components/ui/table'\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu'\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogFooter,\r\n} from '@/components/ui/dialog'\r\n\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { createBrowserClient } from '@/lib/supabase/client'\r\nimport { Search, MoreHorizontal, User, Bell, RefreshCw, CheckSquare, Square, Trash2, AlertTriangle, Tag, Plus, Calendar, History, CreditCard, XCircle, Phone, DollarSign, Shield } from 'lucide-react'\r\nimport { Checkbox } from '@/components/ui/checkbox'\r\nimport { useToast } from '@/hooks/use-toast'\r\nimport { format } from 'date-fns'\r\nimport { es } from 'date-fns/locale'\r\nimport { deleteUsers, createUser, updateUserPassword, createSubscription } from '@/app/actions/admin-actions'\r\nimport { UserDetailsModal } from './users/user-details-modal'\r\nimport { UserProfile, Plan, UserLog, Invoice, NotificationBatch } from './users/types'\r\nimport { getStatusColor, getStatusLabel } from '@/lib/utils/subscription'\r\n\r\nexport default function UsersManagement() {\r\n  const [users, setUsers] = useState<UserProfile[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [statusFilter, setStatusFilter] = useState('all')\r\n  const [planFilter, setPlanFilter] = useState('all')\r\n  const [selectedUser, setSelectedUser] = useState<UserProfile | null>(null)\r\n  const [isDetailsOpen, setIsDetailsOpen] = useState(false)\r\n\r\n  const [availablePlans, setAvailablePlans] = useState<Plan[]>([])\r\n\r\n  // Estados para formularios\r\n  const [notificationForm, setNotificationForm] = useState({ title: '', message: '', type: 'info' })\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n\r\n  const [selectedIds, setSelectedIds] = useState<Set<string>>(new Set())\r\n  const [isBulkNotifyOpen, setIsBulkNotifyOpen] = useState(false)\r\n  const [isBulkPlanOpen, setIsBulkPlanOpen] = useState(false)\r\n  const [isBulkStatusOpen, setIsBulkStatusOpen] = useState(false)\r\n  const [isBulkDateOpen, setIsBulkDateOpen] = useState(false)\r\n  const [isBulkDeleteOpen, setIsBulkDeleteOpen] = useState(false)\r\n  const [bulkPlan, setBulkPlan] = useState('')\r\n  const [bulkStatus, setBulkStatus] = useState('')\r\n  const [bulkDate, setBulkDate] = useState('')\r\n  const [notificationBatches, setNotificationBatches] = useState<NotificationBatch[]>([])\r\n  const [showBatches, setShowBatches] = useState(false)\r\n\r\n  const [userLogs, setUserLogs] = useState<UserLog[]>([])\r\n  const [loadingLogs, setLoadingLogs] = useState(false)\r\n\r\n  const [userInvoices, setUserInvoices] = useState<Invoice[]>([])\r\n  const [loadingInvoices, setLoadingInvoices] = useState(false)\r\n\r\n  const [isCreateUserOpen, setIsCreateUserOpen] = useState(false)\r\n  const [createUserForm, setCreateUserForm] = useState({\r\n    email: '',\r\n    password: '',\r\n    first_name: '',\r\n    last_name: '',\r\n    whatsapp: '',\r\n    plan_id: '',\r\n    plan_name: '',\r\n    price: '',\r\n    iptv_username: '',\r\n    iptv_password: ''\r\n  })\r\n\r\n  const { toast } = useToast()\r\n\r\n  useEffect(() => {\r\n    loadUsers()\r\n    loadAvailablePlans()\r\n    loadNotificationBatches()\r\n  }, [])\r\n\r\n  const loadAvailablePlans = async () => {\r\n    const supabase = createBrowserClient()\r\n\r\n    const { data: plans, error } = await supabase\r\n      .from('plans')\r\n      .select('id, name, price')\r\n      .order('name')\r\n\r\n    if (!error && plans) {\r\n      setAvailablePlans(plans)\r\n    }\r\n  }\r\n\r\n  const loadUsers = async () => {\r\n    const supabase = createBrowserClient()\r\n\r\n    // 1. Fetch profiles\r\n    const { data: profiles, error: profilesError } = await supabase\r\n      .from('profiles')\r\n      .select('*')\r\n      .order('created_at', { ascending: false })\r\n\r\n    if (profilesError) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error al cargar usuarios',\r\n        description: profilesError.message,\r\n      })\r\n      setLoading(false)\r\n      return\r\n    }\r\n\r\n    // 2. Fetch subscriptions and credentials for all users\r\n    const { data: subscriptions } = await supabase\r\n      .from('subscriptions')\r\n      .select('*')\r\n\r\n    const { data: credentials } = await supabase\r\n      .from('credentials')\r\n      .select('*')\r\n\r\n    // 3. Merge data\r\n    const mergedUsers = profiles.map(profile => ({\r\n      ...profile,\r\n      subscription: subscriptions?.find(sub => sub.user_id === profile.id) || null,\r\n      credentials: credentials?.find(cred => cred.user_id === profile.id) || null\r\n    }))\r\n\r\n    setUsers(mergedUsers)\r\n    setLoading(false)\r\n  }\r\n\r\n  const loadNotificationBatches = async () => {\r\n    const supabase = createBrowserClient()\r\n    const { data, error } = await supabase\r\n      .from('notification_batches')\r\n      .select('*')\r\n      .order('created_at', { ascending: false })\r\n\r\n    if (data) setNotificationBatches(data)\r\n  }\r\n\r\n  const loadUserLogs = async (userId: string) => {\r\n    setLoadingLogs(true)\r\n    const supabase = createBrowserClient()\r\n    const { data, error } = await supabase\r\n      .from('user_logs')\r\n      .select('*')\r\n      .eq('user_id', userId)\r\n      .order('created_at', { ascending: false })\r\n\r\n    if (data) {\r\n      setUserLogs(data)\r\n    }\r\n    setLoadingLogs(false)\r\n  }\r\n\r\n  const loadUserInvoices = async (userId: string) => {\r\n    setLoadingInvoices(true)\r\n    const supabase = createBrowserClient()\r\n    const { data, error } = await supabase\r\n      .from('invoices')\r\n      .select('*')\r\n      .eq('user_id', userId)\r\n      .order('created_at', { ascending: false })\r\n      .limit(10)\r\n\r\n    if (data) {\r\n      setUserInvoices(data)\r\n    }\r\n    setLoadingInvoices(false)\r\n  }\r\n\r\n  const logAction = async (userId: string, action: string, details: any) => {\r\n    const supabase = createBrowserClient()\r\n    const { data: { user } } = await supabase.auth.getUser()\r\n\r\n    await supabase.from('user_logs').insert({\r\n      user_id: userId,\r\n      admin_id: user?.id,\r\n      action,\r\n      details\r\n    })\r\n\r\n    // Reload logs if we are viewing them\r\n    if (selectedUser?.id === userId) {\r\n      loadUserLogs(userId)\r\n    }\r\n  }\r\n\r\n  const filteredUsers = users.filter(user => {\r\n    const fullName = `${user.first_name || ''} ${user.last_name || ''}`.trim()\r\n    const matchesSearch = fullName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      (user.email?.toLowerCase() || '').includes(searchTerm.toLowerCase()) ||\r\n      (user.whatsapp || '').includes(searchTerm)\r\n\r\n    const matchesStatus = statusFilter === 'all' || user.subscription?.status === statusFilter\r\n    const matchesPlan = planFilter === 'all' || user.subscription?.plan_name === planFilter\r\n\r\n    return matchesSearch && matchesStatus && matchesPlan\r\n  })\r\n\r\n  const handleViewDetails = (user: UserProfile) => {\r\n    setSelectedUser(user)\r\n    setIsDetailsOpen(true)\r\n\r\n    loadUserLogs(user.id)\r\n    loadUserInvoices(user.id)\r\n  }\r\n\r\n  const handleUpdateProfile = async (userId: string, data: { first_name: string; last_name: string; email: string; whatsapp: string }) => {\r\n    setIsSubmitting(true)\r\n    const supabase = createBrowserClient()\r\n\r\n    const { error } = await supabase\r\n      .from('profiles')\r\n      .update({\r\n        first_name: data.first_name,\r\n        last_name: data.last_name,\r\n        email: data.email,\r\n        whatsapp: data.whatsapp\r\n      })\r\n      .eq('id', userId)\r\n\r\n    if (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error al actualizar perfil',\r\n        description: error.message,\r\n      })\r\n    } else {\r\n      toast({\r\n        title: 'Perfil actualizado',\r\n        description: 'Los datos del usuario han sido actualizados correctamente.',\r\n      })\r\n      loadUsers()\r\n      if (selectedUser) {\r\n        logAction(userId, 'UPDATE_PROFILE', { previous: selectedUser, new: data })\r\n        setSelectedUser({ ...selectedUser, ...data })\r\n      }\r\n    }\r\n    setIsSubmitting(false)\r\n  }\r\n\r\n  const handleCreateUser = async () => {\r\n    if (!createUserForm.email || !createUserForm.password) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Campos requeridos',\r\n        description: 'El email y la contraseña son obligatorios.',\r\n      })\r\n      return\r\n    }\r\n\r\n    setIsSubmitting(true)\r\n\r\n    // Buscar el nombre del plan si se seleccionó uno\r\n    let planName = ''\r\n    if (createUserForm.plan_id) {\r\n      const plan = availablePlans.find(p => p.id === createUserForm.plan_id)\r\n      if (plan) planName = plan.name\r\n    }\r\n\r\n    if (!createUserForm.email || !createUserForm.password) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Campos requeridos',\r\n        description: 'Por favor ingresa email y contraseña.',\r\n      })\r\n      return\r\n    }\r\n\r\n    if (createUserForm.password.length < 6) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Contraseña muy corta',\r\n        description: 'La contraseña debe tener al menos 6 caracteres.',\r\n      })\r\n      return\r\n    }\r\n\r\n    const result = await createUser({\r\n      ...createUserForm,\r\n      plan_name: planName\r\n    })\r\n\r\n    if (result.success) {\r\n      toast({\r\n        title: 'Usuario creado',\r\n        description: 'El usuario ha sido creado exitosamente.',\r\n      })\r\n      setIsCreateUserOpen(false)\r\n      setCreateUserForm({\r\n        email: '',\r\n        password: '',\r\n        first_name: '',\r\n        last_name: '',\r\n        whatsapp: '',\r\n        plan_id: '',\r\n        plan_name: '',\r\n        price: '',\r\n        iptv_username: '',\r\n        iptv_password: ''\r\n      })\r\n      loadUsers()\r\n    } else {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error al crear usuario',\r\n        description: result.error,\r\n      })\r\n    }\r\n    setIsSubmitting(false)\r\n  }\r\n\r\n\r\n  const handleUpdateSubscriptionDetails = async (userId: string, data: { plan_name: string; price: number; next_billing_date?: string }) => {\r\n    if (!selectedUser?.subscription?.id) return\r\n    setIsSubmitting(true)\r\n\r\n    const supabase = createBrowserClient()\r\n    const updates: any = {}\r\n    let hasChanges = false\r\n\r\n    // 1. Check Plan\r\n    if (data.plan_name && data.plan_name !== selectedUser.subscription.plan_name) {\r\n      const plan = availablePlans.find(p => p.name === data.plan_name)\r\n      if (plan) {\r\n        updates.plan_id = plan.id\r\n        updates.plan_name = plan.name\r\n        hasChanges = true\r\n      }\r\n    }\r\n\r\n    // 2. Check Price\r\n    if (data.price !== undefined && data.price !== selectedUser.subscription.price) {\r\n      updates.price = data.price\r\n      hasChanges = true\r\n    }\r\n\r\n    // 3. Check Date\r\n    if (data.next_billing_date) {\r\n      const newDate = new Date(data.next_billing_date)\r\n      const oldDate = new Date(selectedUser.subscription.next_billing_date)\r\n      if (newDate.toISOString().split('T')[0] !== oldDate.toISOString().split('T')[0]) {\r\n        updates.next_billing_date = newDate.toISOString()\r\n        hasChanges = true\r\n      }\r\n    }\r\n\r\n    if (!hasChanges) {\r\n      setIsSubmitting(false)\r\n      return\r\n    }\r\n\r\n    updates.updated_at = new Date().toISOString()\r\n\r\n    const { error } = await supabase\r\n      .from('subscriptions')\r\n      .update(updates)\r\n      .eq('id', selectedUser.subscription.id)\r\n\r\n    if (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error al actualizar suscripción',\r\n        description: error.message\r\n      })\r\n    } else {\r\n      toast({\r\n        title: 'Suscripción actualizada',\r\n        description: 'Los detalles de la suscripción han sido guardados.'\r\n      })\r\n\r\n      // Update local state optimistically\r\n      const updatedUser = {\r\n        ...selectedUser,\r\n        subscription: {\r\n          ...selectedUser.subscription,\r\n          ...updates\r\n        }\r\n      }\r\n      setSelectedUser(updatedUser)\r\n      setUsers(users.map(u => u.id === updatedUser.id ? updatedUser : u))\r\n\r\n      logAction(userId, 'UPDATE_SUBSCRIPTION', { updates })\r\n    }\r\n    setIsSubmitting(false)\r\n  }\r\n\r\n  const handleCreateSubscription = async (userId: string, data: { plan_name: string; price: number }) => {\r\n    setIsSubmitting(true)\r\n    const selectedPlan = availablePlans.find(p => p.name === data.plan_name)\r\n\r\n    if (!selectedPlan) {\r\n      toast({ variant: 'destructive', title: 'Error', description: 'Plan no válido' })\r\n      setIsSubmitting(false)\r\n      return\r\n    }\r\n\r\n    const result = await createSubscription({\r\n      user_id: userId,\r\n      plan_id: selectedPlan.id,\r\n      plan_name: selectedPlan.name,\r\n      price: data.price || selectedPlan.price\r\n    })\r\n\r\n    if (result.success) {\r\n      toast({ title: 'Suscripción creada exitosamente' })\r\n      loadUsers()\r\n      setIsDetailsOpen(false)\r\n    } else {\r\n      toast({ variant: 'destructive', title: 'Error', description: result.error })\r\n    }\r\n    setIsSubmitting(false)\r\n  }\r\n\r\n  const handleManualPasswordUpdate = async (userId: string, password: string) => {\r\n    setIsSubmitting(true)\r\n    const result = await updateUserPassword(userId, password)\r\n\r\n    if (result.success) {\r\n      toast({\r\n        title: 'Contraseña actualizada',\r\n        description: 'La contraseña del usuario ha sido cambiada exitosamente.',\r\n      })\r\n      logAction(userId, 'UPDATE_PASSWORD_MANUAL', { userId })\r\n    } else {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error',\r\n        description: result.error,\r\n      })\r\n    }\r\n    setIsSubmitting(false)\r\n  }\r\n\r\n\r\n\r\n  const handleSendPasswordReset = async (email: string) => {\r\n    setIsSubmitting(true)\r\n    const supabase = createBrowserClient()\r\n\r\n    const { error } = await supabase.auth.resetPasswordForEmail(email, {\r\n      redirectTo: `${window.location.origin}/auth/update-password`,\r\n    })\r\n\r\n    if (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error al enviar correo',\r\n        description: error.message\r\n      })\r\n    } else {\r\n      toast({\r\n        variant: 'success',\r\n        title: 'Correo enviado',\r\n        description: `Se ha enviado un correo de restablecimiento a ${email}`\r\n      })\r\n      if (selectedUser) {\r\n        await logAction(selectedUser.id, 'send_password_reset', {})\r\n      }\r\n    }\r\n    setIsSubmitting(false)\r\n  }\r\n\r\n  const handleUpdateIptvCredentials = async (userId: string, data: { username: string; password: string }) => {\r\n    setIsSubmitting(true)\r\n    const supabase = createBrowserClient()\r\n\r\n    const oldUsername = selectedUser?.credentials?.username\r\n\r\n    const { error } = await supabase\r\n      .from('credentials')\r\n      .update({\r\n        username: data.username,\r\n        password: data.password,\r\n        updated_at: new Date().toISOString()\r\n      })\r\n      .eq('user_id', userId)\r\n\r\n    if (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error al actualizar',\r\n        description: error.message\r\n      })\r\n    } else {\r\n      toast({\r\n        variant: 'success',\r\n        title: 'Credenciales actualizadas',\r\n        description: 'Las credenciales IPTV han sido actualizadas correctamente'\r\n      })\r\n      // Actualizar estado local\r\n      setUsers(users.map(u =>\r\n        u.id === userId\r\n          ? { ...u, credentials: { ...u.credentials!, username: data.username, password: data.password } }\r\n          : u\r\n      ))\r\n\r\n      if (selectedUser && selectedUser.id === userId) {\r\n        setSelectedUser({ ...selectedUser, credentials: { ...selectedUser.credentials!, username: data.username, password: data.password } })\r\n      }\r\n\r\n      logAction(userId, 'update_credentials', {\r\n        previous_username: oldUsername,\r\n        new_username: data.username\r\n      })\r\n    }\r\n    setIsSubmitting(false)\r\n  }\r\n\r\n  const handleUpdateStatus = async (userId: string, status: string) => {\r\n    setIsSubmitting(true)\r\n    const supabase = createBrowserClient()\r\n\r\n    const { error } = await supabase\r\n      .from('subscriptions')\r\n      .update({\r\n        status: status,\r\n        updated_at: new Date().toISOString()\r\n      })\r\n      .eq('user_id', userId)\r\n\r\n    if (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error al actualizar estado',\r\n        description: error.message\r\n      })\r\n    } else {\r\n      toast({\r\n        variant: 'success',\r\n        title: 'Estado actualizado',\r\n        description: `El estado de la suscripción se ha actualizado a ${status}`\r\n      })\r\n\r\n      // Update local state\r\n      setUsers(users.map(u =>\r\n        u.id === userId && u.subscription\r\n          ? { ...u, subscription: { ...u.subscription, status: status } }\r\n          : u\r\n      ))\r\n\r\n      if (selectedUser && selectedUser.id === userId && selectedUser.subscription) {\r\n        setSelectedUser({ ...selectedUser, subscription: { ...selectedUser.subscription, status: status } })\r\n      }\r\n\r\n      logAction(userId, 'update_status', { status })\r\n    }\r\n    setIsSubmitting(false)\r\n  }\r\n\r\n  const handleSendNotification = async () => {\r\n    if (!selectedUser?.id) return\r\n\r\n    setIsSubmitting(true)\r\n    const supabase = createBrowserClient()\r\n\r\n    const { error } = await supabase\r\n      .from('notifications')\r\n      .insert({\r\n        user_id: selectedUser.id,\r\n        title: notificationForm.title,\r\n        message: notificationForm.message,\r\n        type: notificationForm.type\r\n      })\r\n\r\n    if (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Error al enviar',\r\n        description: error.message\r\n      })\r\n    } else {\r\n      toast({\r\n        variant: 'success',\r\n        title: 'Notificación enviada',\r\n        description: 'El usuario verá el mensaje en su dashboard'\r\n      })\r\n      await logAction(selectedUser.id, 'send_notification', {\r\n        title: notificationForm.title,\r\n        type: notificationForm.type\r\n      })\r\n\r\n      setNotificationForm({ title: '', message: '', type: 'info' })\r\n    }\r\n    setIsSubmitting(false)\r\n  }\r\n\r\n  const handleSendEmail = async () => {\r\n    // Simulación de envío de correo ya que requiere integración backend\r\n    setIsSubmitting(true)\r\n    await new Promise(resolve => setTimeout(resolve, 1000))\r\n\r\n    toast({\r\n      variant: 'success',\r\n      title: 'Correo enviado',\r\n      description: `Se ha enviado un correo a ${selectedUser?.email}`\r\n    })\r\n    if (selectedUser?.id) {\r\n      await logAction(selectedUser.id, 'send_email', {\r\n        to: selectedUser.email,\r\n        subject: 'Simulado', // Placeholder\r\n        body: 'Simulado' // Placeholder\r\n      })\r\n    }\r\n    setIsSubmitting(false)\r\n  }\r\n\r\n  const toggleSelectAll = () => {\r\n    if (selectedIds.size === filteredUsers.length) {\r\n      setSelectedIds(new Set())\r\n    } else {\r\n      setSelectedIds(new Set(filteredUsers.map(u => u.id)))\r\n    }\r\n  }\r\n\r\n  const toggleSelect = (id: string) => {\r\n    const newSelected = new Set(selectedIds)\r\n    if (newSelected.has(id)) {\r\n      newSelected.delete(id)\r\n    } else {\r\n      newSelected.add(id)\r\n    }\r\n    setSelectedIds(newSelected)\r\n  }\r\n\r\n  const handleBulkNotify = async () => {\r\n    if (selectedIds.size === 0) return\r\n    setIsSubmitting(true)\r\n\r\n    const supabase = createBrowserClient()\r\n\r\n    // 1. Create Batch\r\n    const { data: batch, error: batchError } = await supabase\r\n      .from('notification_batches')\r\n      .insert({\r\n        title: notificationForm.title,\r\n        message: notificationForm.message,\r\n        type: notificationForm.type,\r\n        target_count: selectedIds.size\r\n      })\r\n      .select()\r\n      .single()\r\n\r\n    if (batchError || !batch) {\r\n      toast({ variant: 'destructive', title: 'Error', description: 'No se pudo crear el envío masivo' })\r\n      setIsSubmitting(false)\r\n      return\r\n    }\r\n\r\n    // 2. Create Notifications\r\n    const notifications = Array.from(selectedIds).map(userId => ({\r\n      user_id: userId,\r\n      title: notificationForm.title,\r\n      message: notificationForm.message,\r\n      type: notificationForm.type,\r\n      batch_id: batch.id\r\n    }))\r\n\r\n    const { error: notifError } = await supabase\r\n      .from('notifications')\r\n      .insert(notifications)\r\n\r\n    if (notifError) {\r\n      toast({ variant: 'destructive', title: 'Error parcial', description: 'Algunas notificaciones fallaron' })\r\n    } else {\r\n      toast({ variant: 'success', title: 'Enviado', description: `Se enviaron ${selectedIds.size} notificaciones` })\r\n      setIsBulkNotifyOpen(false)\r\n      setNotificationForm({ title: '', message: '', type: 'info' })\r\n      setSelectedIds(new Set())\r\n      loadNotificationBatches()\r\n      // Log action for each user\r\n      Array.from(selectedIds).forEach(userId => {\r\n        logAction(userId, 'receive_bulk_notification', {\r\n          batch_id: batch.id,\r\n          title: notificationForm.title\r\n        })\r\n      })\r\n    }\r\n    setIsSubmitting(false)\r\n  }\r\n\r\n  const handleBulkChangePlan = async () => {\r\n    if (selectedIds.size === 0 || !bulkPlan) return\r\n    setIsSubmitting(true)\r\n\r\n    const supabase = createBrowserClient()\r\n\r\n    // Get plan details to update price as well (optional, but good practice)\r\n    const { data: planData } = await supabase\r\n      .from('plans')\r\n      .select('price')\r\n      .eq('name', bulkPlan)\r\n      .single()\r\n\r\n    const updates: any = {\r\n      plan_name: bulkPlan,\r\n      updated_at: new Date().toISOString()\r\n    }\r\n\r\n    if (planData) {\r\n      updates.price = planData.price\r\n    }\r\n\r\n    const { error } = await supabase\r\n      .from('subscriptions')\r\n      .update(updates)\r\n      .in('user_id', Array.from(selectedIds))\r\n\r\n    if (error) {\r\n      toast({ variant: 'destructive', title: 'Error', description: 'No se pudieron actualizar los planes' })\r\n    } else {\r\n      toast({ variant: 'success', title: 'Planes actualizados', description: `Se actualizó el plan de ${selectedIds.size} usuarios` })\r\n      setIsBulkPlanOpen(false)\r\n      setSelectedIds(new Set())\r\n      loadUsers() // Reload to show changes\r\n      // Log action for each user\r\n      Array.from(selectedIds).forEach(userId => {\r\n        logAction(userId, 'change_plan', {\r\n          previous: 'N/A', // difficult to get previous for bulk\r\n          new: bulkPlan,\r\n          new_price: planData?.price\r\n        })\r\n      })\r\n    }\r\n    setIsSubmitting(false)\r\n  }\r\n\r\n  const handleBulkChangeStatus = async () => {\r\n    if (selectedIds.size === 0 || !bulkStatus) return\r\n    setIsSubmitting(true)\r\n\r\n    const supabase = createBrowserClient()\r\n\r\n    const { error } = await supabase\r\n      .from('subscriptions')\r\n      .update({\r\n        status: bulkStatus,\r\n        updated_at: new Date().toISOString()\r\n      })\r\n      .in('user_id', Array.from(selectedIds))\r\n\r\n    if (error) {\r\n      toast({ variant: 'destructive', title: 'Error', description: 'No se pudieron actualizar los estados' })\r\n    } else {\r\n      toast({ variant: 'success', title: 'Estados actualizados', description: `Se actualizó el estado de ${selectedIds.size} usuarios` })\r\n      setIsBulkStatusOpen(false)\r\n      setSelectedIds(new Set())\r\n      loadUsers() // Reload to show changes\r\n      // Log action for each user\r\n      Array.from(selectedIds).forEach(userId => {\r\n        logAction(userId, 'change_status', {\r\n          previous: 'N/A', // difficult to get previous for bulk\r\n          new: bulkStatus\r\n        })\r\n      })\r\n    }\r\n    setIsSubmitting(false)\r\n  }\r\n\r\n  const handleBulkChangeDate = async () => {\r\n    if (selectedIds.size === 0 || !bulkDate) return\r\n    setIsSubmitting(true)\r\n\r\n    const supabase = createBrowserClient()\r\n    const newDate = new Date(bulkDate)\r\n\r\n    const { error } = await supabase\r\n      .from('subscriptions')\r\n      .update({\r\n        next_billing_date: newDate.toISOString(),\r\n        updated_at: new Date().toISOString()\r\n      })\r\n      .in('user_id', Array.from(selectedIds))\r\n\r\n    if (error) {\r\n      toast({ variant: 'destructive', title: 'Error', description: 'No se pudieron actualizar las fechas' })\r\n    } else {\r\n      toast({ variant: 'success', title: 'Fechas actualizadas', description: `Se actualizó la fecha de facturación de ${selectedIds.size} usuarios` })\r\n      setIsBulkDateOpen(false)\r\n      setSelectedIds(new Set())\r\n      loadUsers() // Reload to show changes\r\n      // Log action for each user\r\n      Array.from(selectedIds).forEach(userId => {\r\n        logAction(userId, 'update_billing_date', {\r\n          previous: 'N/A', // difficult to get previous for bulk\r\n          new: newDate.toISOString()\r\n        })\r\n      })\r\n    }\r\n    setIsSubmitting(false)\r\n  }\r\n\r\n  const handleBulkDelete = async () => {\r\n    if (selectedIds.size === 0) return\r\n    setIsSubmitting(true)\r\n\r\n    const result = await deleteUsers(Array.from(selectedIds))\r\n\r\n    if (!result.success) {\r\n      toast({ variant: 'destructive', title: 'Error', description: result.error })\r\n    } else {\r\n      toast({ variant: 'success', title: 'Usuarios eliminados', description: `Se eliminaron ${selectedIds.size} usuarios permanentemente` })\r\n      setIsBulkDeleteOpen(false)\r\n      setSelectedIds(new Set())\r\n      loadUsers()\r\n      // Log action for each user\r\n      Array.from(selectedIds).forEach(userId => {\r\n        logAction(userId, 'bulk_delete', {})\r\n      })\r\n    }\r\n    setIsSubmitting(false)\r\n  }\r\n\r\n  const handleDeleteBatch = async (batchId: string) => {\r\n    const supabase = createBrowserClient()\r\n    const { error } = await supabase\r\n      .from('notification_batches')\r\n      .delete()\r\n      .eq('id', batchId)\r\n\r\n    if (error) {\r\n      toast({ variant: 'destructive', title: 'Error', description: 'No se pudo eliminar el envío' })\r\n    } else {\r\n      toast({ variant: 'success', title: 'Eliminado', description: 'Se eliminaron las notificaciones enviadas' })\r\n      loadNotificationBatches()\r\n      await logAction('system', 'delete_notification_batch', { batch_id: batchId })\r\n    }\r\n  }\r\n\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold\">Gestión de Usuarios</h2>\r\n          <p className=\"text-muted-foreground\">Administra tus clientes y suscripciones</p>\r\n        </div>\r\n        <Button variant=\"outline\" onClick={() => setShowBatches(!showBatches)}>\r\n          <History className=\"mr-2 h-4 w-4\" />\r\n          {showBatches ? 'Ver Usuarios' : 'Historial de Envíos'}\r\n        </Button>\r\n      </div>\r\n\r\n      {showBatches ? (\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>Historial de Notificaciones Masivas</CardTitle>\r\n            <CardDescription>Gestiona los envíos realizados. Eliminar un envío borrará las notificaciones de los usuarios.</CardDescription>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <Table>\r\n              <TableHeader>\r\n                <TableRow>\r\n                  <TableHead>Fecha</TableHead>\r\n                  <TableHead>Título</TableHead>\r\n                  <TableHead>Mensaje</TableHead>\r\n                  <TableHead>Destinatarios</TableHead>\r\n                  <TableHead className=\"text-right\">Acciones</TableHead>\r\n                </TableRow>\r\n              </TableHeader>\r\n              <TableBody>\r\n                {notificationBatches.map(batch => (\r\n                  <TableRow key={batch.id}>\r\n                    <TableCell>{format(new Date(batch.created_at), 'PPP p', { locale: es })}</TableCell>\r\n                    <TableCell className=\"font-medium\">{batch.title}</TableCell>\r\n                    <TableCell className=\"max-w-md truncate\">{batch.message}</TableCell>\r\n                    <TableCell>\r\n                      <Badge variant=\"secondary\">{batch.target_count} usuarios</Badge>\r\n                    </TableCell>\r\n                    <TableCell className=\"text-right\">\r\n                      <Button\r\n                        variant=\"destructive\"\r\n                        size=\"sm\"\r\n                        onClick={() => handleDeleteBatch(batch.id)}\r\n                      >\r\n                        <Trash2 className=\"h-4 w-4 mr-2\" /> Eliminar / Cancelar\r\n                      </Button>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n                {notificationBatches.length === 0 && (\r\n                  <TableRow>\r\n                    <TableCell colSpan={5} className=\"text-center py-8 text-muted-foreground\">\r\n                      No hay envíos masivos registrados\r\n                    </TableCell>\r\n                  </TableRow>\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </CardContent>\r\n        </Card>\r\n      ) : (\r\n        <>\r\n          <Card className=\"overflow-hidden border-none shadow-md\">\r\n            <div className=\"p-4 border-b bg-muted/30 flex flex-col md:flex-row gap-4 justify-between items-center\">\r\n              <div className=\"relative w-full md:w-96\">\r\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-primary\" />\r\n                <Input\r\n                  placeholder=\"Buscar por nombre, email...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  className=\"pl-9 border-primary/30 focus-visible:ring-primary bg-background shadow-sm\"\r\n                />\r\n              </div>\r\n              <div className=\"flex flex-col sm:flex-row gap-3 w-full md:w-auto\">\r\n                <Button onClick={() => setIsCreateUserOpen(true)} className=\"gap-2 w-full sm:w-auto\">\r\n                  <User className=\"h-4 w-4\" />\r\n                  Agregar Usuario\r\n                </Button>\r\n                <Select value={statusFilter} onValueChange={setStatusFilter}>\r\n                  <SelectTrigger className=\"w-full sm:w-[160px] bg-background\">\r\n                    <SelectValue placeholder=\"Estado\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"all\">Todos los estados</SelectItem>\r\n                    <SelectItem value=\"active\">Activo</SelectItem>\r\n                    <SelectItem value=\"inactive\">Inactivo</SelectItem>\r\n                    <SelectItem value=\"cancelled\">Cancelado</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n                <Select value={planFilter} onValueChange={setPlanFilter}>\r\n                  <SelectTrigger className=\"w-full sm:w-[180px] bg-background\">\r\n                    <SelectValue placeholder=\"Plan\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"all\">Todos los planes</SelectItem>\r\n                    {availablePlans.map(plan => (\r\n                      <SelectItem key={plan.id} value={plan.name}>{plan.name}</SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n            </div>\r\n\r\n            {\r\n              selectedIds.size > 0 && (\r\n                <div className=\"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 bg-background border shadow-xl rounded-full px-6 py-3 flex items-center gap-4 animate-in slide-in-from-bottom-4 duration-200\">\r\n                  <span className=\"text-sm font-medium flex items-center gap-2 border-r pr-4\">\r\n                    <div className=\"bg-primary text-primary-foreground rounded-full w-5 h-5 flex items-center justify-center text-xs\">\r\n                      {selectedIds.size}\r\n                    </div>\r\n                    seleccionados\r\n                  </span>\r\n                  <div className=\"flex gap-2 items-center\">\r\n                    <Button size=\"sm\" variant=\"ghost\" onClick={() => setIsBulkPlanOpen(true)} title=\"Cambiar Plan\">\r\n                      <CreditCard className=\"h-4 w-4\" />\r\n                    </Button>\r\n                    <Button size=\"sm\" variant=\"ghost\" onClick={() => setIsBulkStatusOpen(true)} title=\"Cambiar Estado\">\r\n                      <RefreshCw className=\"h-4 w-4\" />\r\n                    </Button>\r\n                    <Button size=\"sm\" variant=\"ghost\" onClick={() => setIsBulkDateOpen(true)} title=\"Cambiar Fecha\">\r\n                      <Calendar className=\"h-4 w-4\" />\r\n                    </Button>\r\n                    <Button size=\"sm\" variant=\"ghost\" onClick={() => setIsBulkNotifyOpen(true)} title=\"Enviar Notificación\">\r\n                      <Bell className=\"h-4 w-4\" />\r\n                    </Button>\r\n                    <div className=\"h-4 w-px bg-border mx-1\" />\r\n                    <Button size=\"sm\" variant=\"ghost\" className=\"text-destructive hover:text-destructive hover:bg-destructive/10\" onClick={() => setIsBulkDeleteOpen(true)} title=\"Eliminar\">\r\n                      <Trash2 className=\"h-4 w-4\" />\r\n                    </Button>\r\n                    <Button size=\"sm\" variant=\"ghost\" onClick={() => setSelectedIds(new Set())}>\r\n                      <XCircle className=\"h-4 w-4\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )\r\n            }\r\n\r\n            < CardContent className=\"p-0\" >\r\n              <div className=\"overflow-x-auto\">\r\n                <Table className=\"w-full min-w-[1000px]\">\r\n                  <TableHeader>\r\n                    <TableRow className=\"bg-muted/50 hover:bg-muted/50\">\r\n                      <TableHead className=\"w-[50px] pl-4\">\r\n                        <div className=\"flex items-center justify-center\">\r\n                          <Checkbox\r\n                            checked={filteredUsers.length > 0 && selectedIds.size === filteredUsers.length}\r\n                            onCheckedChange={toggleSelectAll}\r\n                            className=\"h-5 w-5 scale-125 border-2 border-muted-foreground/50 data-[state=checked]:border-primary data-[state=checked]:bg-primary transition-all\"\r\n                          />\r\n                        </div>\r\n                      </TableHead>\r\n                      <TableHead className=\"w-[20%]\">Usuario</TableHead>\r\n                      <TableHead className=\"w-[15%]\">Contacto</TableHead>\r\n                      <TableHead className=\"w-[12%]\">Plan Actual</TableHead>\r\n                      <TableHead className=\"w-[12%]\">Costo</TableHead>\r\n                      <TableHead className=\"w-[12%]\">Próximo Pago</TableHead>\r\n                      <TableHead className=\"w-[10%]\">Estado</TableHead>\r\n                      <TableHead className=\"w-[14%]\">Registro</TableHead>\r\n                      <TableHead className=\"text-right w-[5%]\">Acciones</TableHead>\r\n                    </TableRow>\r\n                  </TableHeader>\r\n                  <TableBody>\r\n                    {filteredUsers.length === 0 ? (\r\n                      <TableRow>\r\n                        <TableCell colSpan={9} className=\"text-center py-12 text-muted-foreground\">\r\n                          <div className=\"flex flex-col items-center gap-2\">\r\n                            <User className=\"h-8 w-8 opacity-20\" />\r\n                            <p>No se encontraron usuarios con los filtros seleccionados</p>\r\n                          </div>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ) : (\r\n                      filteredUsers.map((user) => (\r\n                        <TableRow\r\n                          key={user.id}\r\n                          className={`hover: bg - muted / 50 transition - colors cursor - pointer ${selectedIds.has(user.id) ? 'bg-primary/5 border-l-2 border-l-primary' : 'border-l-2 border-l-transparent'} `}\r\n                          onClick={(e) => {\r\n                            if ((e.target as HTMLElement).closest('button') || (e.target as HTMLElement).closest('a') || (e.target as HTMLElement).closest('[role=\"checkbox\"]')) return;\r\n                            toggleSelect(user.id);\r\n                          }}\r\n                        >\r\n                          <TableCell className=\"pl-4 py-4\">\r\n                            <div className=\"flex items-center justify-center\" onClick={(e) => e.stopPropagation()}>\r\n                              <Checkbox\r\n                                checked={selectedIds.has(user.id)}\r\n                                onCheckedChange={() => toggleSelect(user.id)}\r\n                                className=\"h-5 w-5 scale-125 border-2 border-muted-foreground/50 data-[state=checked]:border-primary data-[state=checked]:bg-primary transition-all\"\r\n                              />\r\n                            </div>\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            <div className=\"flex flex-col max-w-[200px]\">\r\n                              <span className=\"font-medium truncate\" title={`${user.first_name || ''} ${user.last_name || ''} `.trim()}>{`${user.first_name || ''} ${user.last_name || ''} `.trim() || 'Sin nombre'}</span>\r\n                              <span className=\"text-xs text-muted-foreground truncate\" title={user.email || ''}>{user.email}</span>\r\n                            </div>\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            <div className=\"flex items-center gap-2 text-sm\">\r\n                              {user.whatsapp ? (\r\n                                <>\r\n                                  <Phone className=\"h-3 w-3 text-green-500 shrink-0\" />\r\n                                  <span className=\"truncate\">{user.whatsapp}</span>\r\n                                </>\r\n                              ) : (\r\n                                <span className=\"text-muted-foreground text-xs\">-</span>\r\n                              )}\r\n                            </div>\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            {user.subscription ? (\r\n                              <Badge variant=\"outline\" className=\"font-normal bg-background\">\r\n                                {user.subscription.plan_name}\r\n                              </Badge>\r\n                            ) : (\r\n                              <span className=\"text-xs text-muted-foreground\">Sin suscripción</span>\r\n                            )}\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            {user.subscription ? (\r\n                              <div className=\"flex items-center gap-1 font-semibold text-primary\">\r\n                                <DollarSign className=\"h-3 w-3\" />\r\n                                {user.subscription.price.toFixed(2)}\r\n                              </div>\r\n                            ) : (\r\n                              <span className=\"text-xs text-muted-foreground\">-</span>\r\n                            )}\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            {user.subscription?.next_billing_date ? (\r\n                              <div className=\"flex items-center gap-1 text-sm text-muted-foreground\">\r\n                                <Calendar className=\"h-3 w-3\" />\r\n                                {format(new Date(user.subscription.next_billing_date), 'dd/MM/yyyy')}\r\n                              </div>\r\n                            ) : (\r\n                              <span className=\"text-xs text-muted-foreground\">-</span>\r\n                            )}\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            <Badge className={getStatusColor(user.subscription?.status)}>\r\n                              {getStatusLabel(user.subscription?.status)}\r\n                            </Badge>\r\n                          </TableCell>\r\n                          <TableCell className=\"text-sm text-muted-foreground\">\r\n                            {format(new Date(user.created_at), 'dd/MM/yyyy', { locale: es })}\r\n                          </TableCell>\r\n                          <TableCell className=\"text-right\">\r\n                            <DropdownMenu>\r\n                              <DropdownMenuTrigger asChild>\r\n                                <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\r\n                                  <MoreHorizontal className=\"h-4 w-4\" />\r\n                                </Button>\r\n                              </DropdownMenuTrigger>\r\n                              <DropdownMenuContent align=\"end\">\r\n                                <DropdownMenuLabel>Acciones</DropdownMenuLabel>\r\n                                <DropdownMenuItem onClick={() => handleViewDetails(user)}>\r\n                                  <User className=\"mr-2 h-4 w-4\" /> Ver Detalles\r\n                                </DropdownMenuItem>\r\n                                <DropdownMenuSeparator />\r\n                                <DropdownMenuItem className=\"text-red-600\">\r\n                                  <Shield className=\"mr-2 h-4 w-4\" /> Suspender Cuenta\r\n                                </DropdownMenuItem>\r\n                              </DropdownMenuContent>\r\n                            </DropdownMenu>\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      ))\r\n                    )}\r\n                  </TableBody>\r\n                </Table>\r\n              </div>\r\n            </CardContent >\r\n          </Card >\r\n        </>\r\n      )}\r\n\r\n      <Dialog open={isBulkNotifyOpen} onOpenChange={setIsBulkNotifyOpen}>\r\n        <DialogContent className=\"max-w-[90vw] sm:max-w-lg\">\r\n          <DialogHeader>\r\n            <DialogTitle>Enviar Notificación Masiva</DialogTitle>\r\n            <DialogDescription>\r\n              Se enviará a {selectedIds.size} usuarios seleccionados.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4 py-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label>Título</Label>\r\n              <Input\r\n                placeholder=\"Ej: Mantenimiento programado\"\r\n                value={notificationForm.title}\r\n                onChange={(e) => setNotificationForm({ ...notificationForm, title: e.target.value })}\r\n              />\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Label>Tipo</Label>\r\n              <Select\r\n                value={notificationForm.type}\r\n                onValueChange={(val) => setNotificationForm({ ...notificationForm, type: val })}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"info\">Información</SelectItem>\r\n                  <SelectItem value=\"success\">Éxito</SelectItem>\r\n                  <SelectItem value=\"warning\">Advertencia</SelectItem>\r\n                  <SelectItem value=\"error\">Error</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Label>Mensaje</Label>\r\n              <Textarea\r\n                placeholder=\"Escribe el mensaje para los usuarios...\"\r\n                value={notificationForm.message}\r\n                onChange={(e) => setNotificationForm({ ...notificationForm, message: e.target.value })}\r\n              />\r\n            </div>\r\n          </div>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setIsBulkNotifyOpen(false)}>Cancelar</Button>\r\n            <Button onClick={handleBulkNotify} disabled={isSubmitting}>\r\n              {isSubmitting ? 'Enviando...' : 'Enviar a Todos'}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <Dialog open={isBulkPlanOpen} onOpenChange={setIsBulkPlanOpen}>\r\n        <DialogContent className=\"max-w-[90vw] sm:max-w-lg\">\r\n          <DialogHeader>\r\n            <DialogTitle>Cambiar Plan Masivamente</DialogTitle>\r\n            <DialogDescription>\r\n              Selecciona el nuevo plan para los {selectedIds.size} usuarios seleccionados.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4 py-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label>Nuevo Plan</Label>\r\n              <Select value={bulkPlan} onValueChange={setBulkPlan}>\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Seleccionar plan\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {availablePlans.map(plan => (\r\n                    <SelectItem key={plan.id} value={plan.name}>{plan.name}</SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setIsBulkPlanOpen(false)}>Cancelar</Button>\r\n            <Button onClick={handleBulkChangePlan} disabled={isSubmitting || !bulkPlan}>\r\n              {isSubmitting ? 'Actualizando...' : 'Actualizar Planes'}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <Dialog open={isBulkStatusOpen} onOpenChange={setIsBulkStatusOpen}>\r\n        <DialogContent className=\"max-w-[90vw] sm:max-w-lg\">\r\n          <DialogHeader>\r\n            <DialogTitle>Cambiar Estado Masivamente</DialogTitle>\r\n            <DialogDescription>\r\n              Selecciona el nuevo estado para los {selectedIds.size} usuarios seleccionados.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4 py-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label>Nuevo Estado</Label>\r\n              <Select value={bulkStatus} onValueChange={setBulkStatus}>\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Seleccionar estado\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"active\">Activo</SelectItem>\r\n                  <SelectItem value=\"inactive\">Inactivo</SelectItem>\r\n                  <SelectItem value=\"cancelled\">Cancelado</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setIsBulkStatusOpen(false)}>Cancelar</Button>\r\n            <Button onClick={handleBulkChangeStatus} disabled={isSubmitting || !bulkStatus}>\r\n              {isSubmitting ? 'Actualizando...' : 'Actualizar Estados'}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <Dialog open={isBulkDateOpen} onOpenChange={setIsBulkDateOpen}>\r\n        <DialogContent className=\"max-w-[90vw] sm:max-w-lg\">\r\n          <DialogHeader>\r\n            <DialogTitle>Cambiar Fecha de Facturación Masivamente</DialogTitle>\r\n            <DialogDescription>\r\n              Selecciona la nueva fecha de facturación para los {selectedIds.size} usuarios seleccionados.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4 py-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label>Nueva Fecha</Label>\r\n              <Input\r\n                type=\"date\"\r\n                value={bulkDate}\r\n                onChange={(e) => setBulkDate(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setIsBulkDateOpen(false)}>Cancelar</Button>\r\n            <Button onClick={handleBulkChangeDate} disabled={isSubmitting || !bulkDate}>\r\n              {isSubmitting ? 'Actualizando...' : 'Actualizar Fechas'}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <Dialog open={isBulkDeleteOpen} onOpenChange={setIsBulkDeleteOpen}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-red-600 flex items-center gap-2\">\r\n              <AlertTriangle className=\"h-5 w-5\" /> Eliminar Usuarios\r\n            </DialogTitle>\r\n            <DialogDescription>\r\n              ¿Estás seguro de que deseas eliminar a los {selectedIds.size} usuarios seleccionados? Esta acción es irreversible y eliminará todos sus datos, suscripciones y credenciales.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setIsBulkDeleteOpen(false)}>Cancelar</Button>\r\n            <Button variant=\"destructive\" onClick={handleBulkDelete} disabled={isSubmitting}>\r\n              {isSubmitting ? 'Eliminando...' : 'Sí, Eliminar Usuarios'}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* User Details Dialog */}\r\n      <UserDetailsModal\r\n        user={selectedUser}\r\n        isOpen={isDetailsOpen}\r\n        onClose={() => setIsDetailsOpen(false)}\r\n        availablePlans={availablePlans}\r\n        onUpdateProfile={handleUpdateProfile}\r\n        onUpdateIptvCredentials={handleUpdateIptvCredentials}\r\n        onUpdateSubscriptionDetails={handleUpdateSubscriptionDetails}\r\n        onUpdateSubscriptionStatus={handleUpdateStatus}\r\n        onCreateSubscription={handleCreateSubscription}\r\n        onManualPasswordUpdate={handleManualPasswordUpdate}\r\n        onSendPasswordReset={handleSendPasswordReset}\r\n        userLogs={userLogs}\r\n        userInvoices={userInvoices}\r\n        loadingLogs={loadingLogs}\r\n        loadingInvoices={loadingInvoices}\r\n      />\r\n      <Dialog open={isCreateUserOpen} onOpenChange={setIsCreateUserOpen}>\r\n        <DialogContent className=\"max-w-[95vw] sm:max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle>Agregar Nuevo Usuario</DialogTitle>\r\n            <DialogDescription>\r\n              Crea un nuevo usuario manualmente. Se creará la cuenta de acceso y opcionalmente la suscripción.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <div className=\"grid gap-6 py-4\">\r\n            <div className=\"grid gap-4\">\r\n              <h3 className=\"text-sm font-medium text-muted-foreground border-b pb-2\">Credenciales de Acceso (Obligatorio)</h3>\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"new-email\">Email <span className=\"text-red-500\">*</span></Label>\r\n                  <Input\r\n                    id=\"new-email\"\r\n                    type=\"email\"\r\n                    placeholder=\"cliente@ejemplo.com\"\r\n                    value={createUserForm.email}\r\n                    onChange={(e) => setCreateUserForm({ ...createUserForm, email: e.target.value })}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"new-password\">Contraseña <span className=\"text-red-500\">*</span></Label>\r\n                  <Input\r\n                    id=\"new-password\"\r\n                    type=\"text\"\r\n                    placeholder=\"Contraseña segura\"\r\n                    value={createUserForm.password}\r\n                    onChange={(e) => setCreateUserForm({ ...createUserForm, password: e.target.value })}\r\n                    required\r\n                  />\r\n                  <p className=\"text-[10px] text-muted-foreground\">Mínimo 6 caracteres</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid gap-4\">\r\n              <h3 className=\"text-sm font-medium text-muted-foreground border-b pb-2\">Información Personal</h3>\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"new-firstname\">Nombre</Label>\r\n                  <Input\r\n                    id=\"new-firstname\"\r\n                    placeholder=\"Juan\"\r\n                    value={createUserForm.first_name}\r\n                    onChange={(e) => setCreateUserForm({ ...createUserForm, first_name: e.target.value })}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"new-lastname\">Apellido</Label>\r\n                  <Input\r\n                    id=\"new-lastname\"\r\n                    placeholder=\"Pérez\"\r\n                    value={createUserForm.last_name}\r\n                    onChange={(e) => setCreateUserForm({ ...createUserForm, last_name: e.target.value })}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"new-whatsapp\">WhatsApp</Label>\r\n                  <Input\r\n                    id=\"new-whatsapp\"\r\n                    placeholder=\"+593...\"\r\n                    value={createUserForm.whatsapp}\r\n                    onChange={(e) => setCreateUserForm({ ...createUserForm, whatsapp: e.target.value })}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid gap-4\">\r\n              <h3 className=\"text-sm font-medium text-muted-foreground border-b pb-2\">Suscripción Inicial (Opcional)</h3>\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label>Plan</Label>\r\n                  <Select\r\n                    value={createUserForm.plan_id}\r\n                    onValueChange={(val) => {\r\n                      const plan = availablePlans.find(p => p.id === val)\r\n                      setCreateUserForm({\r\n                        ...createUserForm,\r\n                        plan_id: val,\r\n                        price: plan ? plan.price.toString() : ''\r\n                      })\r\n                    }}\r\n                  >\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\"Seleccionar plan\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {availablePlans.map(plan => (\r\n                        <SelectItem key={plan.id} value={plan.id}>{plan.name} - ${plan.price}</SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"new-price\">Precio Acordado</Label>\r\n                  <div className=\"relative\">\r\n                    <DollarSign className=\"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground\" />\r\n                    <Input\r\n                      id=\"new-price\"\r\n                      className=\"pl-9\"\r\n                      placeholder=\"0.00\"\r\n                      value={createUserForm.price}\r\n                      onChange={(e) => setCreateUserForm({ ...createUserForm, price: e.target.value })}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid gap-4\">\r\n              <h3 className=\"text-sm font-medium text-muted-foreground border-b pb-2\">Credenciales IPTV (Opcional)</h3>\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"new-iptv-user\">Usuario IPTV</Label>\r\n                  <Input\r\n                    id=\"new-iptv-user\"\r\n                    placeholder=\"user123\"\r\n                    value={createUserForm.iptv_username}\r\n                    onChange={(e) => setCreateUserForm({ ...createUserForm, iptv_username: e.target.value })}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"new-iptv-pass\">Contraseña IPTV</Label>\r\n                  <Input\r\n                    id=\"new-iptv-pass\"\r\n                    placeholder=\"pass123\"\r\n                    value={createUserForm.iptv_password}\r\n                    onChange={(e) => setCreateUserForm({ ...createUserForm, iptv_password: e.target.value })}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setIsCreateUserOpen(false)}>Cancelar</Button>\r\n            <Button onClick={handleCreateUser} disabled={isSubmitting}>\r\n              {isSubmitting ? 'Creando...' : 'Crear Usuario'}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 9343, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/components/admin/admin-overview.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { createBrowserClient } from '@/lib/supabase/client'\r\nimport { Users, Package, Ticket, Gift, DollarSign, TrendingUp } from 'lucide-react'\r\n\r\nexport default function AdminOverview() {\r\n  const [stats, setStats] = useState({\r\n    totalUsers: 0,\r\n    activePlans: 0,\r\n    activePromotions: 0,\r\n    activeCoupons: 0,\r\n    monthlyRevenue: 0,\r\n  })\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    loadStats()\r\n  }, [])\r\n\r\n  const loadStats = async () => {\r\n    const supabase = createBrowserClient()\r\n\r\n    const [profilesResult, plansResult, promotionsResult, couponsResult] = await Promise.all([\r\n      supabase.from('profiles').select('*', { count: 'exact', head: true }),\r\n      supabase.from('plans').select('*', { count: 'exact' }),\r\n      supabase.from('promotions').select('*', { count: 'exact' }).eq('active', true),\r\n      supabase.from('coupons').select('*', { count: 'exact' }).eq('active', true),\r\n    ])\r\n\r\n    setStats({\r\n      totalUsers: profilesResult.count || 0,\r\n      activePlans: plansResult.count || plansResult.data?.length || 0,\r\n      activePromotions: promotionsResult.count || promotionsResult.data?.length || 0,\r\n      activeCoupons: couponsResult.count || couponsResult.data?.length || 0,\r\n      monthlyRevenue: 0, // TODO: Calcular desde invoices\r\n    })\r\n    setLoading(false)\r\n  }\r\n\r\n  const statCards = [\r\n    {\r\n      title: 'Usuarios Totales',\r\n      value: stats.totalUsers,\r\n      icon: Users,\r\n      color: 'text-blue-600',\r\n      bgColor: 'bg-blue-50',\r\n    },\r\n    {\r\n      title: 'Paquetes Activos',\r\n      value: stats.activePlans,\r\n      icon: Package,\r\n      color: 'text-purple-600',\r\n      bgColor: 'bg-purple-50',\r\n    },\r\n    {\r\n      title: 'Promociones Activas',\r\n      value: stats.activePromotions,\r\n      icon: Ticket,\r\n      color: 'text-orange-600',\r\n      bgColor: 'bg-orange-50',\r\n    },\r\n    {\r\n      title: 'Cupones Activos',\r\n      value: stats.activeCoupons,\r\n      icon: Gift,\r\n      color: 'text-green-600',\r\n      bgColor: 'bg-green-50',\r\n    },\r\n  ]\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-4\">\r\n      {statCards.map((stat) => (\r\n        <Card key={stat.title} className=\"hover:shadow-lg transition-shadow\">\r\n          <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">\r\n              {stat.title}\r\n            </CardTitle>\r\n            <div className={`${stat.bgColor} p-2 rounded-lg`}>\r\n              <stat.icon className={`h-5 w-5 ${stat.color}`} />\r\n            </div>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-3xl font-bold\">{stat.value}</div>\r\n          </CardContent>\r\n        </Card>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wSAAQ,EAAC;QACjC,YAAY;QACZ,aAAa;QACb,kBAAkB;QAClB,eAAe;QACf,gBAAgB;IAClB;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wSAAQ,EAAC;IAEvC,IAAA,ySAAS;mCAAC;YACR;QACF;kCAAG,EAAE;IAEL,MAAM,YAAY;QAChB,MAAM,WAAW,IAAA,mJAAmB;QAEpC,MAAM,CAAC,gBAAgB,aAAa,kBAAkB,cAAc,GAAG,MAAM,QAAQ,GAAG,CAAC;YACvF,SAAS,IAAI,CAAC,YAAY,MAAM,CAAC,KAAK;gBAAE,OAAO;gBAAS,MAAM;YAAK;YACnE,SAAS,IAAI,CAAC,SAAS,MAAM,CAAC,KAAK;gBAAE,OAAO;YAAQ;YACpD,SAAS,IAAI,CAAC,cAAc,MAAM,CAAC,KAAK;gBAAE,OAAO;YAAQ,GAAG,EAAE,CAAC,UAAU;YACzE,SAAS,IAAI,CAAC,WAAW,MAAM,CAAC,KAAK;gBAAE,OAAO;YAAQ,GAAG,EAAE,CAAC,UAAU;SACvE;QAED,SAAS;YACP,YAAY,eAAe,KAAK,IAAI;YACpC,aAAa,YAAY,KAAK,IAAI,YAAY,IAAI,EAAE,UAAU;YAC9D,kBAAkB,iBAAiB,KAAK,IAAI,iBAAiB,IAAI,EAAE,UAAU;YAC7E,eAAe,cAAc,KAAK,IAAI,cAAc,IAAI,EAAE,UAAU;YACpE,gBAAgB;QAClB;QACA,WAAW;IACb;IAEA,MAAM,YAAY;QAChB;YACE,OAAO;YACP,OAAO,MAAM,UAAU;YACvB,MAAM,oSAAK;YACX,OAAO;YACP,SAAS;QACX;QACA;YACE,OAAO;YACP,OAAO,MAAM,WAAW;YACxB,MAAM,0SAAO;YACb,OAAO;YACP,SAAS;QACX;QACA;YACE,OAAO;YACP,OAAO,MAAM,gBAAgB;YAC7B,MAAM,uSAAM;YACZ,OAAO;YACP,SAAS;QACX;QACA;YACE,OAAO;YACP,OAAO,MAAM,aAAa;YAC1B,MAAM,iSAAI;YACV,OAAO;YACP,SAAS;QACX;KACD;IAED,IAAI,SAAS;QACX,qBACE,4TAAC;YAAI,WAAU;sBACb,cAAA,4TAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,qBACE,4TAAC;QAAI,WAAU;kBACZ,UAAU,GAAG,CAAC,CAAC,qBACd,4TAAC,oIAAI;gBAAkB,WAAU;;kCAC/B,4TAAC,0IAAU;wBAAC,WAAU;;0CACpB,4TAAC,yIAAS;gCAAC,WAAU;0CAClB,KAAK,KAAK;;;;;;0CAEb,4TAAC;gCAAI,WAAW,GAAG,KAAK,OAAO,CAAC,eAAe,CAAC;0CAC9C,cAAA,4TAAC,KAAK,IAAI;oCAAC,WAAW,CAAC,QAAQ,EAAE,KAAK,KAAK,EAAE;;;;;;;;;;;;;;;;;kCAGjD,4TAAC,2IAAW;kCACV,cAAA,4TAAC;4BAAI,WAAU;sCAAsB,KAAK,KAAK;;;;;;;;;;;;eAVxC,KAAK,KAAK;;;;;;;;;;AAgB7B;GA5FwB;KAAA","debugId":null}},
    {"offset": {"line": 9522, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Documents/GitHub/tv-store/components/admin-dashboard.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Package, Ticket, Gift, BarChart3, LogOut, Users } from 'lucide-react'\r\nimport PlansManagement from '@/components/admin/plans-management'\r\nimport PromotionsManagement from '@/components/admin/promotions-management'\r\nimport CouponsManagement from '@/components/admin/coupons-management'\r\nimport UsersManagement from '@/components/admin/users-management'\r\nimport AdminOverview from '@/components/admin/admin-overview'\r\nimport { createBrowserClient } from '@/lib/supabase/client'\r\nimport { useRouter } from 'next/navigation'\r\n\r\nexport default function AdminDashboard() {\r\n  const router = useRouter()\r\n\r\n  const handleLogout = async () => {\r\n    const supabase = createBrowserClient()\r\n    await supabase.auth.signOut()\r\n    router.push('/auth/login')\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4 md:p-8\">\r\n      <div className=\"max-w-7xl mx-auto space-y-8\">\r\n        <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n          <div>\r\n            <h1 className=\"text-2xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\r\n              Panel de Administración\r\n            </h1>\r\n            <p className=\"text-sm md:text-base text-muted-foreground mt-1 md:mt-2\">\r\n              Gestiona paquetes, promociones, cupones y usuarios de tu servicio IPTV\r\n            </p>\r\n          </div>\r\n          <Button variant=\"outline\" onClick={handleLogout} className=\"gap-2 w-full md:w-auto\">\r\n            <LogOut className=\"h-4 w-4\" />\r\n            Cerrar Sesión\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Tabs Navigation */}\r\n        <Tabs defaultValue=\"overview\" className=\"space-y-6\">\r\n          <div className=\"overflow-x-auto pb-2 -mx-4 px-4 md:mx-0 md:px-0 md:pb-0\">\r\n            <TabsList className=\"inline-flex h-auto w-auto p-1 min-w-full md:grid md:w-full md:grid-cols-5 gap-2\">\r\n              <TabsTrigger value=\"overview\" className=\"flex items-center gap-2 px-4 py-3 md:py-2 md:px-3\">\r\n                <BarChart3 className=\"h-4 w-4 shrink-0\" />\r\n                <span className=\"whitespace-nowrap inline md:hidden lg:inline\">Resumen</span>\r\n              </TabsTrigger>\r\n              <TabsTrigger value=\"users\" className=\"flex items-center gap-2 px-4 py-3 md:py-2 md:px-3\">\r\n                <Users className=\"h-4 w-4 shrink-0\" />\r\n                <span className=\"whitespace-nowrap inline md:hidden lg:inline\">Usuarios</span>\r\n              </TabsTrigger>\r\n              <TabsTrigger value=\"plans\" className=\"flex items-center gap-2 px-4 py-3 md:py-2 md:px-3\">\r\n                <Package className=\"h-4 w-4 shrink-0\" />\r\n                <span className=\"whitespace-nowrap inline md:hidden lg:inline\">Paquetes</span>\r\n              </TabsTrigger>\r\n              <TabsTrigger value=\"promotions\" className=\"flex items-center gap-2 px-4 py-3 md:py-2 md:px-3\">\r\n                <Ticket className=\"h-4 w-4 shrink-0\" />\r\n                <span className=\"whitespace-nowrap inline md:hidden lg:inline\">Promociones</span>\r\n              </TabsTrigger>\r\n              <TabsTrigger value=\"coupons\" className=\"flex items-center gap-2 px-4 py-3 md:py-2 md:px-3\">\r\n                <Gift className=\"h-4 w-4 shrink-0\" />\r\n                <span className=\"whitespace-nowrap inline md:hidden lg:inline\">Cupones</span>\r\n              </TabsTrigger>\r\n            </TabsList>\r\n          </div>\r\n\r\n          <TabsContent value=\"overview\">\r\n            <AdminOverview />\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"users\">\r\n            <UsersManagement />\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"plans\">\r\n            <PlansManagement />\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"promotions\">\r\n            <PromotionsManagement />\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"coupons\">\r\n            <CouponsManagement />\r\n          </TabsContent>\r\n        </Tabs>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAbA;;;;;;;;;;;AAee,SAAS;;IACtB,MAAM,SAAS,IAAA,iRAAS;IAExB,MAAM,eAAe;QACnB,MAAM,WAAW,IAAA,mJAAmB;QACpC,MAAM,SAAS,IAAI,CAAC,OAAO;QAC3B,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,4TAAC;QAAI,WAAU;kBACb,cAAA,4TAAC;YAAI,WAAU;;8BACb,4TAAC;oBAAI,WAAU;;sCACb,4TAAC;;8CACC,4TAAC;oCAAG,WAAU;8CAA4G;;;;;;8CAG1H,4TAAC;oCAAE,WAAU;8CAA0D;;;;;;;;;;;;sCAIzE,4TAAC,wIAAM;4BAAC,SAAQ;4BAAU,SAAS;4BAAc,WAAU;;8CACzD,4TAAC,2SAAM;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;;8BAMlC,4TAAC,oIAAI;oBAAC,cAAa;oBAAW,WAAU;;sCACtC,4TAAC;4BAAI,WAAU;sCACb,cAAA,4TAAC,wIAAQ;gCAAC,WAAU;;kDAClB,4TAAC,2IAAW;wCAAC,OAAM;wCAAW,WAAU;;0DACtC,4TAAC,sTAAS;gDAAC,WAAU;;;;;;0DACrB,4TAAC;gDAAK,WAAU;0DAA+C;;;;;;;;;;;;kDAEjE,4TAAC,2IAAW;wCAAC,OAAM;wCAAQ,WAAU;;0DACnC,4TAAC,oSAAK;gDAAC,WAAU;;;;;;0DACjB,4TAAC;gDAAK,WAAU;0DAA+C;;;;;;;;;;;;kDAEjE,4TAAC,2IAAW;wCAAC,OAAM;wCAAQ,WAAU;;0DACnC,4TAAC,0SAAO;gDAAC,WAAU;;;;;;0DACnB,4TAAC;gDAAK,WAAU;0DAA+C;;;;;;;;;;;;kDAEjE,4TAAC,2IAAW;wCAAC,OAAM;wCAAa,WAAU;;0DACxC,4TAAC,uSAAM;gDAAC,WAAU;;;;;;0DAClB,4TAAC;gDAAK,WAAU;0DAA+C;;;;;;;;;;;;kDAEjE,4TAAC,2IAAW;wCAAC,OAAM;wCAAU,WAAU;;0DACrC,4TAAC,iSAAI;gDAAC,WAAU;;;;;;0DAChB,4TAAC;gDAAK,WAAU;0DAA+C;;;;;;;;;;;;;;;;;;;;;;;sCAKrE,4TAAC,2IAAW;4BAAC,OAAM;sCACjB,cAAA,4TAAC,uJAAa;;;;;;;;;;sCAGhB,4TAAC,2IAAW;4BAAC,OAAM;sCACjB,cAAA,4TAAC,yJAAe;;;;;;;;;;sCAGlB,4TAAC,2IAAW;4BAAC,OAAM;sCACjB,cAAA,4TAAC,yJAAe;;;;;;;;;;sCAGlB,4TAAC,2IAAW;4BAAC,OAAM;sCACjB,cAAA,4TAAC,8JAAoB;;;;;;;;;;sCAGvB,4TAAC,2IAAW;4BAAC,OAAM;sCACjB,cAAA,4TAAC,2JAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM9B;GA7EwB;;QACP,iRAAS;;;KADF","debugId":null}}]
}