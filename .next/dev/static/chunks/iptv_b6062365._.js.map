{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/components/ui/tabs.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as TabsPrimitive from '@radix-ui/react-tabs'\n\nimport { cn } from '@/lib/utils'\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn('flex flex-col gap-2', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        'bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn('flex-1 outline-none', className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,oUAAC,mSAAkB;QACjB,aAAU;QACV,WAAW,IAAA,6HAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,oUAAC,mSAAkB;QACjB,aAAU;QACV,WAAW,IAAA,6HAAE,EACX,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,oUAAC,sSAAqB;QACpB,aAAU;QACV,WAAW,IAAA,6HAAE,EACX,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,oUAAC,sSAAqB;QACpB,aAAU;QACV,WAAW,IAAA,6HAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;MAXS","debugId":null}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,6PAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,uTAAI,GAAG;IAE9B,qBACE,oUAAC;QACC,aAAU;QACV,WAAW,IAAA,6HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 147, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,oUAAC;QACC,aAAU;QACV,WAAW,IAAA,6HAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oUAAC;QACC,aAAU;QACV,WAAW,IAAA,6HAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,oUAAC;QACC,aAAU;QACV,WAAW,IAAA,6HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,oUAAC;QACC,aAAU;QACV,WAAW,IAAA,6HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oUAAC;QACC,aAAU;QACV,WAAW,IAAA,6HAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,oUAAC;QACC,aAAU;QACV,WAAW,IAAA,6HAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oUAAC;QACC,aAAU;QACV,WAAW,IAAA,6HAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 267, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n      suppressHydrationWarning\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,oUAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,6HAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;QACT,wBAAwB;;;;;;AAG9B;KAfS","debugId":null}},
    {"offset": {"line": 299, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,oUAAC,iSAAmB;QAClB,aAAU;QACV,WAAW,IAAA,6HAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 332, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Textarea({ className, ...props }: React.ComponentProps<'textarea'>) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        'border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,oUAAC;QACC,aAAU;QACV,WAAW,IAAA,6HAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS","debugId":null}},
    {"offset": {"line": 362, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/components/ui/dialog.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\nimport { XIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn('text-lg leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,oUAAC,kSAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,oUAAC,qSAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS;AAMT,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,oUAAC,oSAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,oUAAC,mSAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,oUAAC,qSAAuB;QACtB,aAAU;QACV,WAAW,IAAA,6HAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,oUAAC;QAAa,aAAU;;0BACtB,oUAAC;;;;;0BACD,oUAAC,qSAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,6HAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,oUAAC,mSAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,oUAAC,wSAAK;;;;;0CACN,oUAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;MAhCS;AAkCT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,oUAAC;QACC,aAAU;QACV,WAAW,IAAA,6HAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,oUAAC;QACC,aAAU;QACV,WAAW,IAAA,6HAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,oUAAC,mSAAqB;QACpB,aAAU;QACV,WAAW,IAAA,6HAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,oUAAC,ySAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,6HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS","debugId":null}},
    {"offset": {"line": 568, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient as createSupabaseBrowserClient } from \"@supabase/ssr\"\n\nexport function createClient() {\n  return createSupabaseBrowserClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n  )\n}\n\nexport const createBrowserClient = createClient\n"],"names":[],"mappings":";;;;;;AAII;AAJJ;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,yTAA2B;AAIpC;AAEO,MAAM,sBAAsB","debugId":null}},
    {"offset": {"line": 589, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/components/admin/plans-management.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Textarea } from '@/components/ui/textarea'\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog'\nimport { createBrowserClient } from '@/lib/supabase/client'\nimport { Plus, Edit, Trash2, Package } from 'lucide-react'\nimport { useToast } from '@/hooks/use-toast'\n\ninterface Plan {\n  id: string\n  name: string\n  description: string\n  price: number\n  features: string[]\n  max_screens: number\n  plan_type: string\n  plan_type_id: string\n  created_at: string\n}\n\nexport default function PlansManagement() {\n  const [plans, setPlans] = useState<Plan[]>([])\n  const [loading, setLoading] = useState(true)\n  const [editingPlan, setEditingPlan] = useState<Plan | null>(null)\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\n  const { toast } = useToast()\n\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    price: '',\n    features: '',\n    max_screens: '1',\n    plan_type: '',\n    plan_type_id: '',\n  })\n\n  const parsePlanType = (planType: string) => {\n    if (!planType) return { id: '', name: '' }\n    const parts = planType.split(':')\n    if (parts.length === 2) {\n      return { id: parts[0], name: parts[1] }\n    }\n    return { id: '', name: planType }\n  }\n\n  // Helper function to combine ID and Name into single field \"ID:Name\"\n  const combinePlanType = (id: string, name: string) => {\n    if (!id || !name) return name || ''\n    return `${id}:${name}`\n  }\n\n  useEffect(() => {\n    loadPlans()\n  }, [])\n\n  const loadPlans = async () => {\n    const supabase = createBrowserClient()\n    const { data, error } = await supabase\n      .from('plans')\n      .select('*')\n      .order('price', { ascending: true })\n\n    if (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Error al cargar planes',\n        description: error.message,\n        duration: 3000,\n      })\n    } else {\n      setPlans(data || [])\n    }\n    setLoading(false)\n  }\n\n  const handleOpenDialog = (plan?: Plan) => {\n    if (plan) {\n      setEditingPlan(plan)\n      setFormData({\n        name: plan.name,\n        description: plan.description,\n        price: plan.price.toString(),\n        features: plan.features.join('\\n'),\n        max_screens: plan.max_screens?.toString() || '1',\n        plan_type: plan.plan_type || '',\n        plan_type_id: plan.plan_type_id || '',\n      })\n    } else {\n      setEditingPlan(null)\n      setFormData({\n        name: '',\n        description: '',\n        price: '',\n        features: '',\n        max_screens: '1',\n        plan_type: '',\n        plan_type_id: '',\n      })\n    }\n    setIsDialogOpen(true)\n  }\n\n  const handleSavePlan = async () => {\n    const supabase = createBrowserClient()\n\n    const planData: any = {\n      name: formData.name,\n      description: formData.description,\n      price: parseFloat(formData.price),\n      features: formData.features.split('\\n').filter(f => f.trim()),\n      max_screens: parseInt(formData.max_screens),\n      plan_type: formData.plan_type || null,\n      plan_type_id: formData.plan_type_id || null,\n    }\n\n    if (!editingPlan) {\n      planData.id = formData.name.toLowerCase().replace(/\\s+/g, '-').replace(/[^a-z0-9-]/g, '')\n      planData.id = `${planData.id}-${Date.now()}`\n    }\n\n    let error\n\n    if (editingPlan) {\n      const result = await supabase\n        .from('plans')\n        .update(planData)\n        .eq('id', editingPlan.id)\n      error = result.error\n    } else {\n      const result = await supabase\n        .from('plans')\n        .insert([planData])\n      error = result.error\n    }\n\n    if (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Error al guardar plan',\n        description: error.message,\n        duration: 3000,\n      })\n    } else {\n      toast({\n        variant: 'success',\n        title: editingPlan ? 'Plan actualizado' : 'Plan creado',\n        description: `El plan ha sido ${editingPlan ? 'actualizado' : 'creado'} exitosamente`,\n        duration: 3000,\n      })\n      setIsDialogOpen(false)\n      loadPlans()\n    }\n  }\n\n  const handleDeletePlan = async (id: string) => {\n    if (!confirm('¿Estás seguro de eliminar este plan?')) return\n\n    const supabase = createBrowserClient()\n    const { error } = await supabase\n      .from('plans')\n      .delete()\n      .eq('id', id)\n\n    if (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Error al eliminar plan',\n        description: error.message,\n        duration: 3000,\n      })\n    } else {\n      toast({\n        variant: 'success',\n        title: 'Plan eliminado',\n        description: 'El plan ha sido eliminado exitosamente',\n        duration: 3000,\n      })\n      loadPlans()\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h2 className=\"text-2xl font-bold\">Gestión de Paquetes</h2>\n          <p className=\"text-muted-foreground\">Administra los planes de suscripción disponibles</p>\n        </div>\n        <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n          <DialogTrigger asChild>\n            <Button onClick={() => handleOpenDialog()} className=\"gap-2\">\n              <Plus className=\"h-4 w-4\" />\n              Nuevo Paquete\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <DialogHeader>\n              <DialogTitle>{editingPlan ? 'Editar Paquete' : 'Nuevo Paquete'}</DialogTitle>\n              <DialogDescription>\n                {editingPlan ? 'Modifica los detalles del paquete' : 'Crea un nuevo paquete de suscripción'}\n              </DialogDescription>\n            </DialogHeader>\n            <div className=\"space-y-4 py-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"name\">Nombre del Paquete</Label>\n                <Input\n                  id=\"name\"\n                  value={formData.name}\n                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                  placeholder=\"Ej: Básico\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"description\">Descripción</Label>\n                <Textarea\n                  id=\"description\"\n                  value={formData.description}\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                  placeholder=\"Descripción del paquete\"\n                  rows={3}\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"price\">Precio (S/)</Label>\n                <Input\n                  id=\"price\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  value={formData.price}\n                  onChange={(e) => setFormData({ ...formData, price: e.target.value })}\n                  placeholder=\"0.00\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"max_screens\">Número de Pantallas Simultáneas</Label>\n                <Input\n                  id=\"max_screens\"\n                  type=\"number\"\n                  min=\"1\"\n                  max=\"10\"\n                  value={formData.max_screens}\n                  onChange={(e) => setFormData({ ...formData, max_screens: e.target.value })}\n                  placeholder=\"1\"\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  Cantidad de dispositivos que pueden ver simultáneamente\n                </p>\n              </div>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"plan_type_id\">ID del Tipo de Paquete</Label>\n                  <Input\n                    id=\"plan_type_id\"\n                    type=\"text\"\n                    value={formData.plan_type_id}\n                    onChange={(e) => setFormData({ ...formData, plan_type_id: e.target.value })}\n                    placeholder=\"Ej: 1, 4, 10 o 2,4,5\"\n                  />\n                  <p className=\"text-xs text-muted-foreground\">\n                    ID numérico para el backend (puede ser múltiple: 2,4,5)\n                  </p>\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"plan_type\">Nombre del Tipo de Paquete</Label>\n                  <Input\n                    id=\"plan_type\"\n                    value={formData.plan_type}\n                    onChange={(e) => setFormData({ ...formData, plan_type: e.target.value })}\n                    placeholder=\"Ej: Gold, Silver\"\n                  />\n                  <p className=\"text-xs text-muted-foreground\">\n                    Nombre del tipo de paquete\n                  </p>\n                </div>\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"features\">Características (una por línea)</Label>\n                <Textarea\n                  id=\"features\"\n                  value={formData.features}\n                  onChange={(e) => setFormData({ ...formData, features: e.target.value })}\n                  placeholder=\"Canales HD&#10;Soporte 24/7&#10;Sin publicidad\"\n                  rows={6}\n                />\n              </div>\n              <div className=\"flex gap-2 justify-end pt-4\">\n                <Button variant=\"outline\" onClick={() => setIsDialogOpen(false)}>\n                  Cancelar\n                </Button>\n                <Button onClick={handleSavePlan}>\n                  {editingPlan ? 'Actualizar' : 'Crear'} Paquete\n                </Button>\n              </div>\n            </div>\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\n        {plans.map((plan) => {\n          return (\n            <Card key={plan.id} className=\"hover:shadow-lg transition-shadow flex flex-col\">\n              <CardHeader className=\"pb-3\">\n                <div className=\"flex justify-between items-start gap-2\">\n                  <div className=\"flex-1 min-w-0\">\n                    <CardTitle className=\"flex items-center gap-2 text-base\">\n                      <Package className=\"h-4 w-4 text-primary flex-shrink-0\" />\n                      <span className=\"truncate\">{plan.name}</span>\n                    </CardTitle>\n                    <CardDescription className=\"mt-1 text-xs line-clamp-2\">{plan.description}</CardDescription>\n                  </div>\n                  <div className=\"flex gap-1 flex-shrink-0\">\n                    <Button\n                      size=\"icon\"\n                      variant=\"ghost\"\n                      className=\"h-7 w-7\"\n                      onClick={() => handleOpenDialog(plan)}\n                    >\n                      <Edit className=\"h-3.5 w-3.5\" />\n                    </Button>\n                    <Button\n                      size=\"icon\"\n                      variant=\"ghost\"\n                      className=\"h-7 w-7\"\n                      onClick={() => handleDeletePlan(plan.id)}\n                    >\n                      <Trash2 className=\"h-3.5 w-3.5 text-red-500\" />\n                    </Button>\n                  </div>\n                </div>\n              </CardHeader>\n              <CardContent className=\"space-y-3 flex-1 flex flex-col\">\n                <div className=\"text-2xl font-bold text-primary\">\n                  S/ {plan.price.toFixed(2)}\n                </div>\n                <div className=\"flex items-center gap-2 text-xs text-muted-foreground flex-wrap\">\n                  <span className=\"bg-primary/10 text-primary px-2 py-0.5 rounded font-medium\">\n                    {plan.max_screens} {plan.max_screens === 1 ? 'pantalla' : 'pantallas'}\n                  </span>\n                  {plan.plan_type && (\n                    <span className=\"bg-accent/10 text-accent px-2 py-0.5 rounded font-medium\">\n                      {plan.plan_type}\n                    </span>\n                  )}\n                  {plan.plan_type_id && (\n                    <span className=\"bg-muted text-muted-foreground px-2 py-0.5 rounded font-medium\">\n                      ID: {plan.plan_type_id}\n                    </span>\n                  )}\n                </div>\n                <div className=\"space-y-2 flex-1\">\n                  <ul className=\"space-y-1\">\n                    {plan.features.slice(0, 5).map((feature, idx) => (\n                      <li key={idx} className=\"text-xs flex items-start gap-1.5\">\n                        <span className=\"text-green-500 mt-0.5 flex-shrink-0\">✓</span>\n                        <span className=\"line-clamp-2\">{feature}</span>\n                      </li>\n                    ))}\n                    {plan.features.length > 5 && (\n                      <li className=\"text-xs text-muted-foreground italic\">\n                        +{plan.features.length - 5} más...\n                      </li>\n                    )}\n                  </ul>\n                </div>\n              </CardContent>\n            </Card>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1430, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/components/ui/switch.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SwitchPrimitive from '@radix-ui/react-switch'\n\nimport { cn } from '@/lib/utils'\n\nfunction Switch({\n  className,\n  ...props\n}: React.ComponentProps<typeof SwitchPrimitive.Root>) {\n  return (\n    <SwitchPrimitive.Root\n      data-slot=\"switch\"\n      className={cn(\n        'peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    >\n      <SwitchPrimitive.Thumb\n        data-slot=\"switch-thumb\"\n        className={\n          'bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0'\n        }\n      />\n    </SwitchPrimitive.Root>\n  )\n}\n\nexport { Switch }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,oUAAC,kSAAoB;QACnB,aAAU;QACV,WAAW,IAAA,6HAAE,EACX,6WACA;QAED,GAAG,KAAK;kBAET,cAAA,oUAAC,mSAAqB;YACpB,aAAU;YACV,WACE;;;;;;;;;;;AAKV;KArBS","debugId":null}},
    {"offset": {"line": 1471, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/components/admin/promotions-management.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Textarea } from '@/components/ui/textarea'\nimport { Switch } from '@/components/ui/switch'\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog'\nimport { createBrowserClient } from '@/lib/supabase/client'\nimport { Plus, Edit, Trash2, Ticket, Calendar } from 'lucide-react'\nimport { useToast } from '@/hooks/use-toast'\n\ninterface Promotion {\n  id: string\n  name: string\n  description: string\n  discount_percentage: number | null\n  discount_amount: number | null\n  active: boolean\n  start_date: string | null\n  end_date: string | null\n  created_at: string\n}\n\nexport default function PromotionsManagement() {\n  const [promotions, setPromotions] = useState<Promotion[]>([])\n  const [loading, setLoading] = useState(true)\n  const [editingPromotion, setEditingPromotion] = useState<Promotion | null>(null)\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\n  const { toast } = useToast()\n\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    discount_type: 'percentage',\n    discount_percentage: '',\n    discount_amount: '',\n    active: true,\n    start_date: '',\n    end_date: '',\n  })\n\n  useEffect(() => {\n    loadPromotions()\n  }, [])\n\n  const loadPromotions = async () => {\n    const supabase = createBrowserClient()\n    const { data, error } = await supabase\n      .from('promotions')\n      .select('*')\n      .order('created_at', { ascending: false })\n\n    if (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Error al cargar promociones',\n        description: error.message,\n        duration: 3000,\n      })\n    } else {\n      setPromotions(data || [])\n    }\n    setLoading(false)\n  }\n\n  const handleOpenDialog = (promotion?: Promotion) => {\n    if (promotion) {\n      setEditingPromotion(promotion)\n      setFormData({\n        name: promotion.name,\n        description: promotion.description || '',\n        discount_type: promotion.discount_percentage ? 'percentage' : 'amount',\n        discount_percentage: promotion.discount_percentage?.toString() || '',\n        discount_amount: promotion.discount_amount?.toString() || '',\n        active: promotion.active,\n        start_date: promotion.start_date ? promotion.start_date.split('T')[0] : '',\n        end_date: promotion.end_date ? promotion.end_date.split('T')[0] : '',\n      })\n    } else {\n      setEditingPromotion(null)\n      setFormData({\n        name: '',\n        description: '',\n        discount_type: 'percentage',\n        discount_percentage: '',\n        discount_amount: '',\n        active: true,\n        start_date: '',\n        end_date: '',\n      })\n    }\n    setIsDialogOpen(true)\n  }\n\n  const handleSavePromotion = async () => {\n    const supabase = createBrowserClient()\n\n    const promotionData: any = {\n      name: formData.name,\n      description: formData.description,\n      active: formData.active,\n      start_date: formData.start_date || null,\n      end_date: formData.end_date || null,\n    }\n\n    if (formData.discount_type === 'percentage') {\n      promotionData.discount_percentage = parseInt(formData.discount_percentage)\n      promotionData.discount_amount = null\n    } else {\n      promotionData.discount_amount = parseFloat(formData.discount_amount)\n      promotionData.discount_percentage = null\n    }\n\n    let error\n\n    if (editingPromotion) {\n      const result = await supabase\n        .from('promotions')\n        .update(promotionData)\n        .eq('id', editingPromotion.id)\n      error = result.error\n    } else {\n      const result = await supabase\n        .from('promotions')\n        .insert([promotionData])\n      error = result.error\n    }\n\n    if (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Error al guardar promoción',\n        description: error.message,\n        duration: 3000,\n      })\n    } else {\n      toast({\n        variant: 'success',\n        title: editingPromotion ? 'Promoción actualizada' : 'Promoción creada',\n        description: `La promoción ha sido ${editingPromotion ? 'actualizada' : 'creada'} exitosamente`,\n        duration: 3000,\n      })\n      setIsDialogOpen(false)\n      loadPromotions()\n    }\n  }\n\n  const handleDeletePromotion = async (id: string) => {\n    if (!confirm('¿Estás seguro de eliminar esta promoción?')) return\n\n    const supabase = createBrowserClient()\n    const { error } = await supabase\n      .from('promotions')\n      .delete()\n      .eq('id', id)\n\n    if (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Error al eliminar promoción',\n        description: error.message,\n        duration: 3000,\n      })\n    } else {\n      toast({\n        variant: 'success',\n        title: 'Promoción eliminada',\n        description: 'La promoción ha sido eliminada exitosamente',\n        duration: 3000,\n      })\n      loadPromotions()\n    }\n  }\n\n  const toggleActive = async (id: string, currentActive: boolean) => {\n    const supabase = createBrowserClient()\n    const { error } = await supabase\n      .from('promotions')\n      .update({ active: !currentActive })\n      .eq('id', id)\n\n    if (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Error',\n        description: error.message,\n        duration: 3000,\n      })\n    } else {\n      loadPromotions()\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h2 className=\"text-2xl font-bold\">Gestión de Promociones</h2>\n          <p className=\"text-muted-foreground\">Crea promociones temporales con descuentos</p>\n        </div>\n        <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n          <DialogTrigger asChild>\n            <Button onClick={() => handleOpenDialog()} className=\"gap-2\">\n              <Plus className=\"h-4 w-4\" />\n              Nueva Promoción\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-2xl\">\n            <DialogHeader>\n              <DialogTitle>{editingPromotion ? 'Editar Promoción' : 'Nueva Promoción'}</DialogTitle>\n              <DialogDescription>\n                {editingPromotion ? 'Modifica los detalles de la promoción' : 'Crea una nueva promoción temporal'}\n              </DialogDescription>\n            </DialogHeader>\n            <div className=\"space-y-4 py-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"promo-name\">Nombre de la Promoción</Label>\n                <Input\n                  id=\"promo-name\"\n                  value={formData.name}\n                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                  placeholder=\"Ej: Descuento de Verano\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"promo-description\">Descripción</Label>\n                <Textarea\n                  id=\"promo-description\"\n                  value={formData.description}\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                  placeholder=\"Descripción de la promoción\"\n                  rows={3}\n                />\n              </div>\n              <div className=\"space-y-4\">\n                <Label>Tipo de Descuento</Label>\n                <div className=\"flex gap-4\">\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\n                    <input\n                      type=\"radio\"\n                      name=\"discount_type\"\n                      value=\"percentage\"\n                      checked={formData.discount_type === 'percentage'}\n                      onChange={(e) => setFormData({ ...formData, discount_type: e.target.value })}\n                      className=\"w-4 h-4\"\n                    />\n                    <span>Porcentaje (%)</span>\n                  </label>\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\n                    <input\n                      type=\"radio\"\n                      name=\"discount_type\"\n                      value=\"amount\"\n                      checked={formData.discount_type === 'amount'}\n                      onChange={(e) => setFormData({ ...formData, discount_type: e.target.value })}\n                      className=\"w-4 h-4\"\n                    />\n                    <span>Monto Fijo (S/)</span>\n                  </label>\n                </div>\n              </div>\n              {formData.discount_type === 'percentage' ? (\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"discount-percentage\">Porcentaje de Descuento</Label>\n                  <Input\n                    id=\"discount-percentage\"\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"100\"\n                    value={formData.discount_percentage}\n                    onChange={(e) => setFormData({ ...formData, discount_percentage: e.target.value })}\n                    placeholder=\"20\"\n                  />\n                </div>\n              ) : (\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"discount-amount\">Monto de Descuento (S/)</Label>\n                  <Input\n                    id=\"discount-amount\"\n                    type=\"number\"\n                    step=\"0.01\"\n                    value={formData.discount_amount}\n                    onChange={(e) => setFormData({ ...formData, discount_amount: e.target.value })}\n                    placeholder=\"10.00\"\n                  />\n                </div>\n              )}\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"start-date\">Fecha de Inicio</Label>\n                  <Input\n                    id=\"start-date\"\n                    type=\"date\"\n                    value={formData.start_date}\n                    onChange={(e) => setFormData({ ...formData, start_date: e.target.value })}\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"end-date\">Fecha de Fin</Label>\n                  <Input\n                    id=\"end-date\"\n                    type=\"date\"\n                    value={formData.end_date}\n                    onChange={(e) => setFormData({ ...formData, end_date: e.target.value })}\n                  />\n                </div>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <Label htmlFor=\"active-switch\">Activar Promoción</Label>\n                <Switch\n                  id=\"active-switch\"\n                  checked={formData.active}\n                  onCheckedChange={(checked) => setFormData({ ...formData, active: checked })}\n                />\n              </div>\n              <div className=\"flex gap-2 justify-end pt-4\">\n                <Button variant=\"outline\" onClick={() => setIsDialogOpen(false)}>\n                  Cancelar\n                </Button>\n                <Button onClick={handleSavePromotion}>\n                  {editingPromotion ? 'Actualizar' : 'Crear'} Promoción\n                </Button>\n              </div>\n            </div>\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n        {promotions.map((promo) => (\n          <Card key={promo.id} className={`hover:shadow-lg transition-shadow ${!promo.active ? 'opacity-60' : ''}`}>\n            <CardHeader>\n              <div className=\"flex justify-between items-start\">\n                <div className=\"flex-1\">\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Ticket className=\"h-5 w-5 text-orange-500\" />\n                    {promo.name}\n                  </CardTitle>\n                  <CardDescription className=\"mt-2\">{promo.description}</CardDescription>\n                </div>\n                <div className=\"flex gap-1\">\n                  <Button\n                    size=\"icon\"\n                    variant=\"ghost\"\n                    onClick={() => handleOpenDialog(promo)}\n                  >\n                    <Edit className=\"h-4 w-4\" />\n                  </Button>\n                  <Button\n                    size=\"icon\"\n                    variant=\"ghost\"\n                    onClick={() => handleDeletePromotion(promo.id)}\n                  >\n                    <Trash2 className=\"h-4 w-4 text-red-500\" />\n                  </Button>\n                </div>\n              </div>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"flex items-baseline gap-2\">\n                <span className=\"text-3xl font-bold text-orange-600\">\n                  {promo.discount_percentage ? `${promo.discount_percentage}%` : `S/ ${promo.discount_amount?.toFixed(2)}`}\n                </span>\n                <span className=\"text-sm text-muted-foreground\">de descuento</span>\n              </div>\n              {(promo.start_date || promo.end_date) && (\n                <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                  <Calendar className=\"h-4 w-4\" />\n                  <span>\n                    {promo.start_date && new Date(promo.start_date).toLocaleDateString()}\n                    {promo.start_date && promo.end_date && ' - '}\n                    {promo.end_date && new Date(promo.end_date).toLocaleDateString()}\n                  </span>\n                </div>\n              )}\n              <div className=\"flex items-center justify-between pt-2 border-t\">\n                <span className=\"text-sm font-medium\">\n                  {promo.active ? 'Activa' : 'Inactiva'}\n                </span>\n                <Switch\n                  checked={promo.active}\n                  onCheckedChange={() => toggleActive(promo.id, promo.active)}\n                />\n              </div>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2333, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/components/admin/coupons-management.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Textarea } from '@/components/ui/textarea'\nimport { Switch } from '@/components/ui/switch'\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog'\nimport { createBrowserClient } from '@/lib/supabase/client'\nimport { Plus, Edit, Trash2, Gift, Copy, Calendar } from 'lucide-react'\nimport { useToast } from '@/hooks/use-toast'\n\ninterface Coupon {\n  id: string\n  code: string\n  description: string\n  discount_percentage: number | null\n  discount_amount: number | null\n  max_uses: number | null\n  current_uses: number\n  active: boolean\n  start_date: string | null\n  end_date: string | null\n  created_at: string\n}\n\nexport default function CouponsManagement() {\n  const [coupons, setCoupons] = useState<Coupon[]>([])\n  const [loading, setLoading] = useState(true)\n  const [editingCoupon, setEditingCoupon] = useState<Coupon | null>(null)\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\n  const { toast } = useToast()\n\n  const [formData, setFormData] = useState({\n    code: '',\n    description: '',\n    discount_type: 'percentage',\n    discount_percentage: '',\n    discount_amount: '',\n    max_uses: '',\n    active: true,\n    start_date: '',\n    end_date: '',\n  })\n\n  useEffect(() => {\n    loadCoupons()\n  }, [])\n\n  const loadCoupons = async () => {\n    const supabase = createBrowserClient()\n    const { data, error } = await supabase\n      .from('coupons')\n      .select('*')\n      .order('created_at', { ascending: false })\n\n    if (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Error al cargar cupones',\n        description: error.message,\n        duration: 3000,\n      })\n    } else {\n      setCoupons(data || [])\n    }\n    setLoading(false)\n  }\n\n  const generateRandomCode = () => {\n    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'\n    let code = ''\n    for (let i = 0; i < 8; i++) {\n      code += chars.charAt(Math.floor(Math.random() * chars.length))\n    }\n    setFormData({ ...formData, code })\n  }\n\n  const handleOpenDialog = (coupon?: Coupon) => {\n    if (coupon) {\n      setEditingCoupon(coupon)\n      setFormData({\n        code: coupon.code,\n        description: coupon.description || '',\n        discount_type: coupon.discount_percentage ? 'percentage' : 'amount',\n        discount_percentage: coupon.discount_percentage?.toString() || '',\n        discount_amount: coupon.discount_amount?.toString() || '',\n        max_uses: coupon.max_uses?.toString() || '',\n        active: coupon.active,\n        start_date: coupon.start_date ? coupon.start_date.split('T')[0] : '',\n        end_date: coupon.end_date ? coupon.end_date.split('T')[0] : '',\n      })\n    } else {\n      setEditingCoupon(null)\n      setFormData({\n        code: '',\n        description: '',\n        discount_type: 'percentage',\n        discount_percentage: '',\n        discount_amount: '',\n        max_uses: '',\n        active: true,\n        start_date: '',\n        end_date: '',\n      })\n    }\n    setIsDialogOpen(true)\n  }\n\n  const handleSaveCoupon = async () => {\n    const supabase = createBrowserClient()\n\n    const couponData: any = {\n      code: formData.code.toUpperCase(),\n      description: formData.description,\n      max_uses: formData.max_uses ? parseInt(formData.max_uses) : null,\n      active: formData.active,\n      start_date: formData.start_date || null,\n      end_date: formData.end_date || null,\n    }\n\n    if (formData.discount_type === 'percentage') {\n      couponData.discount_percentage = parseInt(formData.discount_percentage)\n      couponData.discount_amount = null\n    } else {\n      couponData.discount_amount = parseFloat(formData.discount_amount)\n      couponData.discount_percentage = null\n    }\n\n    let error\n\n    if (editingCoupon) {\n      const result = await supabase\n        .from('coupons')\n        .update(couponData)\n        .eq('id', editingCoupon.id)\n      error = result.error\n    } else {\n      const result = await supabase\n        .from('coupons')\n        .insert([{ ...couponData, current_uses: 0 }])\n      error = result.error\n    }\n\n    if (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Error al guardar cupón',\n        description: error.message,\n        duration: 3000,\n      })\n    } else {\n      toast({\n        variant: 'success',\n        title: editingCoupon ? 'Cupón actualizado' : 'Cupón creado',\n        description: `El cupón ha sido ${editingCoupon ? 'actualizado' : 'creado'} exitosamente`,\n        duration: 3000,\n      })\n      setIsDialogOpen(false)\n      loadCoupons()\n    }\n  }\n\n  const handleDeleteCoupon = async (id: string) => {\n    if (!confirm('¿Estás seguro de eliminar este cupón?')) return\n\n    const supabase = createBrowserClient()\n    const { error } = await supabase\n      .from('coupons')\n      .delete()\n      .eq('id', id)\n\n    if (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Error al eliminar cupón',\n        description: error.message,\n        duration: 3000,\n      })\n    } else {\n      toast({\n        variant: 'success',\n        title: 'Cupón eliminado',\n        description: 'El cupón ha sido eliminado exitosamente',\n        duration: 3000,\n      })\n      loadCoupons()\n    }\n  }\n\n  const toggleActive = async (id: string, currentActive: boolean) => {\n    const supabase = createBrowserClient()\n    const { error } = await supabase\n      .from('coupons')\n      .update({ active: !currentActive })\n      .eq('id', id)\n\n    if (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Error',\n        description: error.message,\n        duration: 3000,\n      })\n    } else {\n      loadCoupons()\n    }\n  }\n\n  const copyToClipboard = (code: string) => {\n    navigator.clipboard.writeText(code)\n    toast({\n      variant: 'success',\n      title: 'Código copiado',\n      description: `El código ${code} ha sido copiado al portapapeles`,\n      duration: 3000,\n    })\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h2 className=\"text-2xl font-bold\">Gestión de Cupones</h2>\n          <p className=\"text-muted-foreground\">Crea códigos de descuento únicos para tus clientes</p>\n        </div>\n        <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n          <DialogTrigger asChild>\n            <Button onClick={() => handleOpenDialog()} className=\"gap-2\">\n              <Plus className=\"h-4 w-4\" />\n              Nuevo Cupón\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-2xl\">\n            <DialogHeader>\n              <DialogTitle>{editingCoupon ? 'Editar Cupón' : 'Nuevo Cupón'}</DialogTitle>\n              <DialogDescription>\n                {editingCoupon ? 'Modifica los detalles del cupón' : 'Crea un nuevo código de descuento'}\n              </DialogDescription>\n            </DialogHeader>\n            <div className=\"space-y-4 py-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"coupon-code\">Código del Cupón</Label>\n                <div className=\"flex gap-2\">\n                  <Input\n                    id=\"coupon-code\"\n                    value={formData.code}\n                    onChange={(e) => setFormData({ ...formData, code: e.target.value.toUpperCase() })}\n                    placeholder=\"VERANO2024\"\n                    className=\"uppercase\"\n                  />\n                  <Button type=\"button\" variant=\"outline\" onClick={generateRandomCode}>\n                    Generar\n                  </Button>\n                </div>\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"coupon-description\">Descripción</Label>\n                <Textarea\n                  id=\"coupon-description\"\n                  value={formData.description}\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                  placeholder=\"Descripción del cupón\"\n                  rows={3}\n                />\n              </div>\n              <div className=\"space-y-4\">\n                <Label>Tipo de Descuento</Label>\n                <div className=\"flex gap-4\">\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\n                    <input\n                      type=\"radio\"\n                      name=\"coupon_discount_type\"\n                      value=\"percentage\"\n                      checked={formData.discount_type === 'percentage'}\n                      onChange={(e) => setFormData({ ...formData, discount_type: e.target.value })}\n                      className=\"w-4 h-4\"\n                    />\n                    <span>Porcentaje (%)</span>\n                  </label>\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\n                    <input\n                      type=\"radio\"\n                      name=\"coupon_discount_type\"\n                      value=\"amount\"\n                      checked={formData.discount_type === 'amount'}\n                      onChange={(e) => setFormData({ ...formData, discount_type: e.target.value })}\n                      className=\"w-4 h-4\"\n                    />\n                    <span>Monto Fijo (S/)</span>\n                  </label>\n                </div>\n              </div>\n              {formData.discount_type === 'percentage' ? (\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"coupon-discount-percentage\">Porcentaje de Descuento</Label>\n                  <Input\n                    id=\"coupon-discount-percentage\"\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"100\"\n                    value={formData.discount_percentage}\n                    onChange={(e) => setFormData({ ...formData, discount_percentage: e.target.value })}\n                    placeholder=\"20\"\n                  />\n                </div>\n              ) : (\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"coupon-discount-amount\">Monto de Descuento (S/)</Label>\n                  <Input\n                    id=\"coupon-discount-amount\"\n                    type=\"number\"\n                    step=\"0.01\"\n                    value={formData.discount_amount}\n                    onChange={(e) => setFormData({ ...formData, discount_amount: e.target.value })}\n                    placeholder=\"10.00\"\n                  />\n                </div>\n              )}\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"max-uses\">Usos Máximos (opcional)</Label>\n                <Input\n                  id=\"max-uses\"\n                  type=\"number\"\n                  min=\"1\"\n                  value={formData.max_uses}\n                  onChange={(e) => setFormData({ ...formData, max_uses: e.target.value })}\n                  placeholder=\"Ilimitado\"\n                />\n              </div>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"coupon-start-date\">Fecha de Inicio</Label>\n                  <Input\n                    id=\"coupon-start-date\"\n                    type=\"date\"\n                    value={formData.start_date}\n                    onChange={(e) => setFormData({ ...formData, start_date: e.target.value })}\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"coupon-end-date\">Fecha de Fin</Label>\n                  <Input\n                    id=\"coupon-end-date\"\n                    type=\"date\"\n                    value={formData.end_date}\n                    onChange={(e) => setFormData({ ...formData, end_date: e.target.value })}\n                  />\n                </div>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <Label htmlFor=\"coupon-active-switch\">Activar Cupón</Label>\n                <Switch\n                  id=\"coupon-active-switch\"\n                  checked={formData.active}\n                  onCheckedChange={(checked) => setFormData({ ...formData, active: checked })}\n                />\n              </div>\n              <div className=\"flex gap-2 justify-end pt-4\">\n                <Button variant=\"outline\" onClick={() => setIsDialogOpen(false)}>\n                  Cancelar\n                </Button>\n                <Button onClick={handleSaveCoupon}>\n                  {editingCoupon ? 'Actualizar' : 'Crear'} Cupón\n                </Button>\n              </div>\n            </div>\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n        {coupons.map((coupon) => (\n          <Card key={coupon.id} className={`hover:shadow-lg transition-shadow ${!coupon.active ? 'opacity-60' : ''}`}>\n            <CardHeader>\n              <div className=\"flex justify-between items-start\">\n                <div className=\"flex-1\">\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Gift className=\"h-5 w-5 text-green-500\" />\n                    <code className=\"text-lg font-mono bg-slate-100 px-2 py-1 rounded\">\n                      {coupon.code}\n                    </code>\n                    <Button\n                      size=\"icon\"\n                      variant=\"ghost\"\n                      className=\"h-6 w-6\"\n                      onClick={() => copyToClipboard(coupon.code)}\n                    >\n                      <Copy className=\"h-3 w-3\" />\n                    </Button>\n                  </CardTitle>\n                  <CardDescription className=\"mt-2\">{coupon.description}</CardDescription>\n                </div>\n                <div className=\"flex gap-1\">\n                  <Button\n                    size=\"icon\"\n                    variant=\"ghost\"\n                    onClick={() => handleOpenDialog(coupon)}\n                  >\n                    <Edit className=\"h-4 w-4\" />\n                  </Button>\n                  <Button\n                    size=\"icon\"\n                    variant=\"ghost\"\n                    onClick={() => handleDeleteCoupon(coupon.id)}\n                  >\n                    <Trash2 className=\"h-4 w-4 text-red-500\" />\n                  </Button>\n                </div>\n              </div>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"flex items-baseline gap-2\">\n                <span className=\"text-3xl font-bold text-green-600\">\n                  {coupon.discount_percentage ? `${coupon.discount_percentage}%` : `S/ ${coupon.discount_amount?.toFixed(2)}`}\n                </span>\n                <span className=\"text-sm text-muted-foreground\">de descuento</span>\n              </div>\n              <div className=\"space-y-2 text-sm\">\n                {coupon.max_uses && (\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-muted-foreground\">Usos:</span>\n                    <span className=\"font-medium\">\n                      {coupon.current_uses} / {coupon.max_uses}\n                    </span>\n                  </div>\n                )}\n                {(coupon.start_date || coupon.end_date) && (\n                  <div className=\"flex items-center gap-2 text-muted-foreground\">\n                    <Calendar className=\"h-4 w-4\" />\n                    <span>\n                      {coupon.start_date && new Date(coupon.start_date).toLocaleDateString()}\n                      {coupon.start_date && coupon.end_date && ' - '}\n                      {coupon.end_date && new Date(coupon.end_date).toLocaleDateString()}\n                    </span>\n                  </div>\n                )}\n              </div>\n              <div className=\"flex items-center justify-between pt-2 border-t\">\n                <span className=\"text-sm font-medium\">\n                  {coupon.active ? 'Activo' : 'Inactivo'}\n                </span>\n                <Switch\n                  checked={coupon.active}\n                  onCheckedChange={() => toggleActive(coupon.id, coupon.active)}\n                />\n              </div>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3337, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,6PAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,uTAAI,GAAG;IAE9B,qBACE,oUAAC;QACC,aAAU;QACV,WAAW,IAAA,6HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS","debugId":null}},
    {"offset": {"line": 3389, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/components/ui/table.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Table({ className, ...props }: React.ComponentProps<'table'>) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn('w-full caption-bottom text-sm', className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<'thead'>) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn('[&_tr]:border-b', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<'tbody'>) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn('[&_tr:last-child]:border-0', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<'tfoot'>) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        'bg-muted/50 border-t font-medium [&>tr]:last:border-b-0',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<'tr'>) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        'hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<'th'>) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        'text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<'td'>) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        'p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<'caption'>) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn('text-muted-foreground mt-4 text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;AAJA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,oUAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,oUAAC;YACC,aAAU;YACV,WAAW,IAAA,6HAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;KAbS;AAeT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,oUAAC;QACC,aAAU;QACV,WAAW,IAAA,6HAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,oUAAC;QACC,aAAU;QACV,WAAW,IAAA,6HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,oUAAC;QACC,aAAU;QACV,WAAW,IAAA,6HAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,oUAAC;QACC,aAAU;QACV,WAAW,IAAA,6HAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,oUAAC;QACC,aAAU;QACV,WAAW,IAAA,6HAAE,EACX,sJACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,oUAAC;QACC,aAAU;QACV,WAAW,IAAA,6HAAE,EACX,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,oUAAC;QACC,aAAU;QACV,WAAW,IAAA,6HAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS","debugId":null}},
    {"offset": {"line": 3533, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/components/ui/dropdown-menu.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu'\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  )\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md',\n          className,\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  )\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  )\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = 'default',\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: 'default' | 'destructive'\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  )\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        'px-2 py-1.5 text-sm font-medium data-[inset]:pl-8',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn('bg-border -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<'span'>) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        'text-muted-foreground ml-auto text-xs tracking-widest',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3842, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/components/ui/select.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SelectPrimitive from '@radix-ui/react-select'\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = 'default',\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: 'sm' | 'default'\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = 'popper',\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md',\n          position === 'popper' &&\n            'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\n          className,\n        )}\n        position={position}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            'p-1',\n            position === 'popper' &&\n              'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1',\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn('text-muted-foreground px-2 py-1.5 text-xs', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn('bg-border pointer-events-none -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,oUAAC,kSAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,oUAAC,mSAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,oUAAC,mSAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,oUAAC,qSAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,6HAAE,EACX,gzBACA;QAED,GAAG,KAAK;;YAER;0BACD,oUAAC,kSAAoB;gBAAC,OAAO;0BAC3B,cAAA,oUAAC,0UAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;MAxBS;AA0BT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,GAAG,OACkD;IACrD,qBACE,oUAAC,oSAAsB;kBACrB,cAAA,oUAAC,qSAAuB;YACtB,aAAU;YACV,WAAW,IAAA,6HAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,oUAAC;;;;;8BACD,oUAAC,sSAAwB;oBACvB,WAAW,IAAA,6HAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,oUAAC;;;;;;;;;;;;;;;;AAIT;MAjCS;AAmCT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,oUAAC,mSAAqB;QACpB,aAAU;QACV,WAAW,IAAA,6HAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,oUAAC,kSAAoB;QACnB,aAAU;QACV,WAAW,IAAA,6HAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,oUAAC;gBAAK,WAAU;0BACd,cAAA,oUAAC,2SAA6B;8BAC5B,cAAA,oUAAC,oTAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,oUAAC,sSAAwB;0BAAE;;;;;;;;;;;;AAGjC;MAtBS;AAwBT,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,oUAAC,uSAAyB;QACxB,aAAU;QACV,WAAW,IAAA,6HAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,oUAAC,4SAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,6HAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,oUAAC,oUAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;MAhBS;AAkBT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,oUAAC,8SAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,6HAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,oUAAC,0UAAe;YAAC,WAAU;;;;;;;;;;;AAGjC;MAhBS","debugId":null}},
    {"offset": {"line": 4099, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/components/ui/checkbox.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as CheckboxPrimitive from '@radix-ui/react-checkbox'\nimport { CheckIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Checkbox({\n  className,\n  ...props\n}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\n  return (\n    <CheckboxPrimitive.Root\n      data-slot=\"checkbox\"\n      className={cn(\n        'peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    >\n      <CheckboxPrimitive.Indicator\n        data-slot=\"checkbox-indicator\"\n        className=\"flex items-center justify-center text-current transition-none\"\n      >\n        <CheckIcon className=\"size-3.5\" />\n      </CheckboxPrimitive.Indicator>\n    </CheckboxPrimitive.Root>\n  )\n}\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,oUAAC,iSAAsB;QACrB,aAAU;QACV,WAAW,IAAA,6HAAE,EACX,+eACA;QAED,GAAG,KAAK;kBAET,cAAA,oUAAC,sSAA2B;YAC1B,aAAU;YACV,WAAU;sBAEV,cAAA,oUAAC,oTAAS;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI7B;KArBS","debugId":null}},
    {"offset": {"line": 4149, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/app/actions/admin-actions.ts"],"sourcesContent":["'use server'\n\nimport { createClient } from '@supabase/supabase-js'\nimport { revalidatePath } from 'next/cache'\n\nexport async function deleteUsers(userIds: string[]) {\n  try {\n    const supabase = createClient(\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\n      process.env.SUPABASE_SERVICE_ROLE_KEY!\n    )\n\n    // Supabase admin deleteUser only takes one ID. We need to loop.\n    const results = await Promise.all(\n      userIds.map(id => supabase.auth.admin.deleteUser(id))\n    )\n\n    const errors = results.filter(r => r.error).map(r => r.error?.message)\n\n    if (errors.length > 0) {\n      return { success: false, error: `Errores al eliminar: ${errors.join(', ')}` }\n    }\n\n    revalidatePath('/admin')\n    return { success: true }\n  } catch (error) {\n    return { success: false, error: 'Error interno del servidor' }\n  }\n}\n\nexport async function updateUserPassword(userId: string, password: string) {\n  const supabase = createClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.SUPABASE_SERVICE_ROLE_KEY!,\n    {\n      auth: {\n        autoRefreshToken: false,\n        persistSession: false\n      }\n    }\n  )\n\n  const { error } = await supabase.auth.admin.updateUserById(userId, {\n    password: password\n  })\n\n  if (error) {\n    return { success: false, error: error.message }\n  }\n\n  revalidatePath('/admin')\n  return { success: true }\n}\n\nexport async function createSubscription(data: any) {\n  const supabase = createClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.SUPABASE_SERVICE_ROLE_KEY!,\n    {\n      auth: {\n        autoRefreshToken: false,\n        persistSession: false\n      }\n    }\n  )\n\n  // Calcular fechas (30 días por defecto)\n  const startDate = new Date()\n  const endDate = new Date(startDate)\n  endDate.setDate(startDate.getDate() + 30)\n\n  const { error } = await supabase\n    .from('subscriptions')\n    .insert({\n      user_id: data.user_id,\n      plan_id: data.plan_id,\n      plan_name: data.plan_name,\n      price: parseFloat(data.price),\n      status: 'active',\n      start_date: startDate.toISOString(),\n      next_billing_date: endDate.toISOString()\n    })\n\n  if (error) {\n    return { success: false, error: error.message }\n  }\n\n  revalidatePath('/admin')\n  return { success: true }\n}\n\nexport async function createUser(data: any) {\n  try {\n    if (!process.env.SUPABASE_SERVICE_ROLE_KEY) {\n      return { success: false, error: \"Configuration Error: SUPABASE_SERVICE_ROLE_KEY is missing\" }\n    }\n\n    const supabase = createClient(\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\n      process.env.SUPABASE_SERVICE_ROLE_KEY!,\n      {\n        auth: {\n          autoRefreshToken: false,\n          persistSession: false\n        }\n      }\n    )\n\n    // Validate input\n    if (!data.email || !data.password) {\n      return { success: false, error: \"Email y contraseña son obligatorios\" }\n    }\n    if (data.password.length < 6) {\n      return { success: false, error: \"La contraseña debe tener al menos 6 caracteres\" }\n    }\n\n    // 1. Crear usuario en Auth\n    const { data: authUser, error: authError } = await supabase.auth.admin.createUser({\n      email: data.email,\n      password: data.password,\n      email_confirm: true,\n      user_metadata: {\n        first_name: data.first_name,\n        last_name: data.last_name,\n        full_name: `${data.first_name} ${data.last_name}`.trim()\n      }\n    })\n\n    if (authError) return { success: false, error: `Auth Error: ${authError.message}` }\n    if (!authUser.user) return { success: false, error: 'No se pudo crear el usuario (No user returned)' }\n\n    // Force confirm email explicitly\n    const { data: updateData, error: confirmError } = await supabase.auth.admin.updateUserById(\n      authUser.user.id,\n      { email_confirm: true }\n    )\n\n    if (confirmError) {\n      console.error('Error forcing email confirmation:', confirmError)\n      return { success: false, error: `User created but email confirmation failed: ${confirmError.message}` }\n    }\n\n    // Verify confirmation stuck\n    if (!updateData.user?.email_confirmed_at) {\n      return { success: false, error: `User created but email_confirmed_at is still null. Update returned: ${JSON.stringify(updateData.user)}` }\n    }\n\n    const userId = authUser.user.id\n\n    // 2. Actualizar perfil\n    const { error: profileError } = await supabase\n      .from('profiles')\n      .upsert({\n        id: userId,\n        email: data.email,\n        first_name: data.first_name,\n        last_name: data.last_name,\n        whatsapp: data.whatsapp,\n        role: 'user'\n      })\n\n    if (profileError) {\n      return { success: false, error: `Usuario creado pero error en perfil: ${profileError.message}` }\n    }\n\n    // 3. Crear suscripción si hay plan seleccionado\n    if (data.plan_id) {\n      // Calcular fecha de fin (30 días por defecto)\n      const startDate = new Date()\n      const endDate = new Date(startDate)\n      endDate.setDate(startDate.getDate() + 30)\n\n      const { error: subError } = await supabase\n        .from('subscriptions')\n        .insert({\n          user_id: userId,\n          plan_id: data.plan_id,\n          plan_name: data.plan_name,\n          price: parseFloat(data.price),\n          status: 'active',\n          start_date: startDate.toISOString(),\n          next_billing_date: endDate.toISOString()\n        })\n\n      if (subError) console.error('Error creando suscripción:', subError)\n    }\n\n    // 4. Crear credenciales IPTV si se proporcionaron\n    if (data.iptv_username && data.iptv_password) {\n      const { error: credError } = await supabase\n        .from('credentials')\n        .insert({\n          user_id: userId,\n          username: data.iptv_username,\n          password: data.iptv_password\n        })\n      if (credError) console.error('Error creando credenciales:', credError)\n    }\n\n    revalidatePath('/admin')\n    return { success: true, userId }\n  } catch (error) {\n    console.error('Error en createUser:', error)\n    return { success: false, error: 'Error interno del servidor al crear usuario' }\n  }\n}\n"],"names":[],"mappings":";;;;;;;IAKsB,cAAA,WAAA,GAAA,IAAA,yXAAA,EAAA,8CAAA,8WAAA,EAAA,KAAA,GAAA,oXAAA,EAAA","debugId":null}},
    {"offset": {"line": 4164, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/app/actions/admin-actions.ts"],"sourcesContent":["'use server'\n\nimport { createClient } from '@supabase/supabase-js'\nimport { revalidatePath } from 'next/cache'\n\nexport async function deleteUsers(userIds: string[]) {\n  try {\n    const supabase = createClient(\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\n      process.env.SUPABASE_SERVICE_ROLE_KEY!\n    )\n\n    // Supabase admin deleteUser only takes one ID. We need to loop.\n    const results = await Promise.all(\n      userIds.map(id => supabase.auth.admin.deleteUser(id))\n    )\n\n    const errors = results.filter(r => r.error).map(r => r.error?.message)\n\n    if (errors.length > 0) {\n      return { success: false, error: `Errores al eliminar: ${errors.join(', ')}` }\n    }\n\n    revalidatePath('/admin')\n    return { success: true }\n  } catch (error) {\n    return { success: false, error: 'Error interno del servidor' }\n  }\n}\n\nexport async function updateUserPassword(userId: string, password: string) {\n  const supabase = createClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.SUPABASE_SERVICE_ROLE_KEY!,\n    {\n      auth: {\n        autoRefreshToken: false,\n        persistSession: false\n      }\n    }\n  )\n\n  const { error } = await supabase.auth.admin.updateUserById(userId, {\n    password: password\n  })\n\n  if (error) {\n    return { success: false, error: error.message }\n  }\n\n  revalidatePath('/admin')\n  return { success: true }\n}\n\nexport async function createSubscription(data: any) {\n  const supabase = createClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.SUPABASE_SERVICE_ROLE_KEY!,\n    {\n      auth: {\n        autoRefreshToken: false,\n        persistSession: false\n      }\n    }\n  )\n\n  // Calcular fechas (30 días por defecto)\n  const startDate = new Date()\n  const endDate = new Date(startDate)\n  endDate.setDate(startDate.getDate() + 30)\n\n  const { error } = await supabase\n    .from('subscriptions')\n    .insert({\n      user_id: data.user_id,\n      plan_id: data.plan_id,\n      plan_name: data.plan_name,\n      price: parseFloat(data.price),\n      status: 'active',\n      start_date: startDate.toISOString(),\n      next_billing_date: endDate.toISOString()\n    })\n\n  if (error) {\n    return { success: false, error: error.message }\n  }\n\n  revalidatePath('/admin')\n  return { success: true }\n}\n\nexport async function createUser(data: any) {\n  try {\n    if (!process.env.SUPABASE_SERVICE_ROLE_KEY) {\n      return { success: false, error: \"Configuration Error: SUPABASE_SERVICE_ROLE_KEY is missing\" }\n    }\n\n    const supabase = createClient(\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\n      process.env.SUPABASE_SERVICE_ROLE_KEY!,\n      {\n        auth: {\n          autoRefreshToken: false,\n          persistSession: false\n        }\n      }\n    )\n\n    // Validate input\n    if (!data.email || !data.password) {\n      return { success: false, error: \"Email y contraseña son obligatorios\" }\n    }\n    if (data.password.length < 6) {\n      return { success: false, error: \"La contraseña debe tener al menos 6 caracteres\" }\n    }\n\n    // 1. Crear usuario en Auth\n    const { data: authUser, error: authError } = await supabase.auth.admin.createUser({\n      email: data.email,\n      password: data.password,\n      email_confirm: true,\n      user_metadata: {\n        first_name: data.first_name,\n        last_name: data.last_name,\n        full_name: `${data.first_name} ${data.last_name}`.trim()\n      }\n    })\n\n    if (authError) return { success: false, error: `Auth Error: ${authError.message}` }\n    if (!authUser.user) return { success: false, error: 'No se pudo crear el usuario (No user returned)' }\n\n    // Force confirm email explicitly\n    const { data: updateData, error: confirmError } = await supabase.auth.admin.updateUserById(\n      authUser.user.id,\n      { email_confirm: true }\n    )\n\n    if (confirmError) {\n      console.error('Error forcing email confirmation:', confirmError)\n      return { success: false, error: `User created but email confirmation failed: ${confirmError.message}` }\n    }\n\n    // Verify confirmation stuck\n    if (!updateData.user?.email_confirmed_at) {\n      return { success: false, error: `User created but email_confirmed_at is still null. Update returned: ${JSON.stringify(updateData.user)}` }\n    }\n\n    const userId = authUser.user.id\n\n    // 2. Actualizar perfil\n    const { error: profileError } = await supabase\n      .from('profiles')\n      .upsert({\n        id: userId,\n        email: data.email,\n        first_name: data.first_name,\n        last_name: data.last_name,\n        whatsapp: data.whatsapp,\n        role: 'user'\n      })\n\n    if (profileError) {\n      return { success: false, error: `Usuario creado pero error en perfil: ${profileError.message}` }\n    }\n\n    // 3. Crear suscripción si hay plan seleccionado\n    if (data.plan_id) {\n      // Calcular fecha de fin (30 días por defecto)\n      const startDate = new Date()\n      const endDate = new Date(startDate)\n      endDate.setDate(startDate.getDate() + 30)\n\n      const { error: subError } = await supabase\n        .from('subscriptions')\n        .insert({\n          user_id: userId,\n          plan_id: data.plan_id,\n          plan_name: data.plan_name,\n          price: parseFloat(data.price),\n          status: 'active',\n          start_date: startDate.toISOString(),\n          next_billing_date: endDate.toISOString()\n        })\n\n      if (subError) console.error('Error creando suscripción:', subError)\n    }\n\n    // 4. Crear credenciales IPTV si se proporcionaron\n    if (data.iptv_username && data.iptv_password) {\n      const { error: credError } = await supabase\n        .from('credentials')\n        .insert({\n          user_id: userId,\n          username: data.iptv_username,\n          password: data.iptv_password\n        })\n      if (credError) console.error('Error creando credenciales:', credError)\n    }\n\n    revalidatePath('/admin')\n    return { success: true, userId }\n  } catch (error) {\n    console.error('Error en createUser:', error)\n    return { success: false, error: 'Error interno del servidor al crear usuario' }\n  }\n}\n"],"names":[],"mappings":";;;;;;;IA2FsB,aAAA,WAAA,GAAA,IAAA,yXAAA,EAAA,8CAAA,8WAAA,EAAA,KAAA,GAAA,oXAAA,EAAA","debugId":null}},
    {"offset": {"line": 4179, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/app/actions/admin-actions.ts"],"sourcesContent":["'use server'\n\nimport { createClient } from '@supabase/supabase-js'\nimport { revalidatePath } from 'next/cache'\n\nexport async function deleteUsers(userIds: string[]) {\n  try {\n    const supabase = createClient(\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\n      process.env.SUPABASE_SERVICE_ROLE_KEY!\n    )\n\n    // Supabase admin deleteUser only takes one ID. We need to loop.\n    const results = await Promise.all(\n      userIds.map(id => supabase.auth.admin.deleteUser(id))\n    )\n\n    const errors = results.filter(r => r.error).map(r => r.error?.message)\n\n    if (errors.length > 0) {\n      return { success: false, error: `Errores al eliminar: ${errors.join(', ')}` }\n    }\n\n    revalidatePath('/admin')\n    return { success: true }\n  } catch (error) {\n    return { success: false, error: 'Error interno del servidor' }\n  }\n}\n\nexport async function updateUserPassword(userId: string, password: string) {\n  const supabase = createClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.SUPABASE_SERVICE_ROLE_KEY!,\n    {\n      auth: {\n        autoRefreshToken: false,\n        persistSession: false\n      }\n    }\n  )\n\n  const { error } = await supabase.auth.admin.updateUserById(userId, {\n    password: password\n  })\n\n  if (error) {\n    return { success: false, error: error.message }\n  }\n\n  revalidatePath('/admin')\n  return { success: true }\n}\n\nexport async function createSubscription(data: any) {\n  const supabase = createClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.SUPABASE_SERVICE_ROLE_KEY!,\n    {\n      auth: {\n        autoRefreshToken: false,\n        persistSession: false\n      }\n    }\n  )\n\n  // Calcular fechas (30 días por defecto)\n  const startDate = new Date()\n  const endDate = new Date(startDate)\n  endDate.setDate(startDate.getDate() + 30)\n\n  const { error } = await supabase\n    .from('subscriptions')\n    .insert({\n      user_id: data.user_id,\n      plan_id: data.plan_id,\n      plan_name: data.plan_name,\n      price: parseFloat(data.price),\n      status: 'active',\n      start_date: startDate.toISOString(),\n      next_billing_date: endDate.toISOString()\n    })\n\n  if (error) {\n    return { success: false, error: error.message }\n  }\n\n  revalidatePath('/admin')\n  return { success: true }\n}\n\nexport async function createUser(data: any) {\n  try {\n    if (!process.env.SUPABASE_SERVICE_ROLE_KEY) {\n      return { success: false, error: \"Configuration Error: SUPABASE_SERVICE_ROLE_KEY is missing\" }\n    }\n\n    const supabase = createClient(\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\n      process.env.SUPABASE_SERVICE_ROLE_KEY!,\n      {\n        auth: {\n          autoRefreshToken: false,\n          persistSession: false\n        }\n      }\n    )\n\n    // Validate input\n    if (!data.email || !data.password) {\n      return { success: false, error: \"Email y contraseña son obligatorios\" }\n    }\n    if (data.password.length < 6) {\n      return { success: false, error: \"La contraseña debe tener al menos 6 caracteres\" }\n    }\n\n    // 1. Crear usuario en Auth\n    const { data: authUser, error: authError } = await supabase.auth.admin.createUser({\n      email: data.email,\n      password: data.password,\n      email_confirm: true,\n      user_metadata: {\n        first_name: data.first_name,\n        last_name: data.last_name,\n        full_name: `${data.first_name} ${data.last_name}`.trim()\n      }\n    })\n\n    if (authError) return { success: false, error: `Auth Error: ${authError.message}` }\n    if (!authUser.user) return { success: false, error: 'No se pudo crear el usuario (No user returned)' }\n\n    // Force confirm email explicitly\n    const { data: updateData, error: confirmError } = await supabase.auth.admin.updateUserById(\n      authUser.user.id,\n      { email_confirm: true }\n    )\n\n    if (confirmError) {\n      console.error('Error forcing email confirmation:', confirmError)\n      return { success: false, error: `User created but email confirmation failed: ${confirmError.message}` }\n    }\n\n    // Verify confirmation stuck\n    if (!updateData.user?.email_confirmed_at) {\n      return { success: false, error: `User created but email_confirmed_at is still null. Update returned: ${JSON.stringify(updateData.user)}` }\n    }\n\n    const userId = authUser.user.id\n\n    // 2. Actualizar perfil\n    const { error: profileError } = await supabase\n      .from('profiles')\n      .upsert({\n        id: userId,\n        email: data.email,\n        first_name: data.first_name,\n        last_name: data.last_name,\n        whatsapp: data.whatsapp,\n        role: 'user'\n      })\n\n    if (profileError) {\n      return { success: false, error: `Usuario creado pero error en perfil: ${profileError.message}` }\n    }\n\n    // 3. Crear suscripción si hay plan seleccionado\n    if (data.plan_id) {\n      // Calcular fecha de fin (30 días por defecto)\n      const startDate = new Date()\n      const endDate = new Date(startDate)\n      endDate.setDate(startDate.getDate() + 30)\n\n      const { error: subError } = await supabase\n        .from('subscriptions')\n        .insert({\n          user_id: userId,\n          plan_id: data.plan_id,\n          plan_name: data.plan_name,\n          price: parseFloat(data.price),\n          status: 'active',\n          start_date: startDate.toISOString(),\n          next_billing_date: endDate.toISOString()\n        })\n\n      if (subError) console.error('Error creando suscripción:', subError)\n    }\n\n    // 4. Crear credenciales IPTV si se proporcionaron\n    if (data.iptv_username && data.iptv_password) {\n      const { error: credError } = await supabase\n        .from('credentials')\n        .insert({\n          user_id: userId,\n          username: data.iptv_username,\n          password: data.iptv_password\n        })\n      if (credError) console.error('Error creando credenciales:', credError)\n    }\n\n    revalidatePath('/admin')\n    return { success: true, userId }\n  } catch (error) {\n    console.error('Error en createUser:', error)\n    return { success: false, error: 'Error interno del servidor al crear usuario' }\n  }\n}\n"],"names":[],"mappings":";;;;;;;IA8BsB,qBAAA,WAAA,GAAA,IAAA,yXAAA,EAAA,8CAAA,8WAAA,EAAA,KAAA,GAAA,oXAAA,EAAA","debugId":null}},
    {"offset": {"line": 4194, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/app/actions/admin-actions.ts"],"sourcesContent":["'use server'\n\nimport { createClient } from '@supabase/supabase-js'\nimport { revalidatePath } from 'next/cache'\n\nexport async function deleteUsers(userIds: string[]) {\n  try {\n    const supabase = createClient(\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\n      process.env.SUPABASE_SERVICE_ROLE_KEY!\n    )\n\n    // Supabase admin deleteUser only takes one ID. We need to loop.\n    const results = await Promise.all(\n      userIds.map(id => supabase.auth.admin.deleteUser(id))\n    )\n\n    const errors = results.filter(r => r.error).map(r => r.error?.message)\n\n    if (errors.length > 0) {\n      return { success: false, error: `Errores al eliminar: ${errors.join(', ')}` }\n    }\n\n    revalidatePath('/admin')\n    return { success: true }\n  } catch (error) {\n    return { success: false, error: 'Error interno del servidor' }\n  }\n}\n\nexport async function updateUserPassword(userId: string, password: string) {\n  const supabase = createClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.SUPABASE_SERVICE_ROLE_KEY!,\n    {\n      auth: {\n        autoRefreshToken: false,\n        persistSession: false\n      }\n    }\n  )\n\n  const { error } = await supabase.auth.admin.updateUserById(userId, {\n    password: password\n  })\n\n  if (error) {\n    return { success: false, error: error.message }\n  }\n\n  revalidatePath('/admin')\n  return { success: true }\n}\n\nexport async function createSubscription(data: any) {\n  const supabase = createClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.SUPABASE_SERVICE_ROLE_KEY!,\n    {\n      auth: {\n        autoRefreshToken: false,\n        persistSession: false\n      }\n    }\n  )\n\n  // Calcular fechas (30 días por defecto)\n  const startDate = new Date()\n  const endDate = new Date(startDate)\n  endDate.setDate(startDate.getDate() + 30)\n\n  const { error } = await supabase\n    .from('subscriptions')\n    .insert({\n      user_id: data.user_id,\n      plan_id: data.plan_id,\n      plan_name: data.plan_name,\n      price: parseFloat(data.price),\n      status: 'active',\n      start_date: startDate.toISOString(),\n      next_billing_date: endDate.toISOString()\n    })\n\n  if (error) {\n    return { success: false, error: error.message }\n  }\n\n  revalidatePath('/admin')\n  return { success: true }\n}\n\nexport async function createUser(data: any) {\n  try {\n    if (!process.env.SUPABASE_SERVICE_ROLE_KEY) {\n      return { success: false, error: \"Configuration Error: SUPABASE_SERVICE_ROLE_KEY is missing\" }\n    }\n\n    const supabase = createClient(\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\n      process.env.SUPABASE_SERVICE_ROLE_KEY!,\n      {\n        auth: {\n          autoRefreshToken: false,\n          persistSession: false\n        }\n      }\n    )\n\n    // Validate input\n    if (!data.email || !data.password) {\n      return { success: false, error: \"Email y contraseña son obligatorios\" }\n    }\n    if (data.password.length < 6) {\n      return { success: false, error: \"La contraseña debe tener al menos 6 caracteres\" }\n    }\n\n    // 1. Crear usuario en Auth\n    const { data: authUser, error: authError } = await supabase.auth.admin.createUser({\n      email: data.email,\n      password: data.password,\n      email_confirm: true,\n      user_metadata: {\n        first_name: data.first_name,\n        last_name: data.last_name,\n        full_name: `${data.first_name} ${data.last_name}`.trim()\n      }\n    })\n\n    if (authError) return { success: false, error: `Auth Error: ${authError.message}` }\n    if (!authUser.user) return { success: false, error: 'No se pudo crear el usuario (No user returned)' }\n\n    // Force confirm email explicitly\n    const { data: updateData, error: confirmError } = await supabase.auth.admin.updateUserById(\n      authUser.user.id,\n      { email_confirm: true }\n    )\n\n    if (confirmError) {\n      console.error('Error forcing email confirmation:', confirmError)\n      return { success: false, error: `User created but email confirmation failed: ${confirmError.message}` }\n    }\n\n    // Verify confirmation stuck\n    if (!updateData.user?.email_confirmed_at) {\n      return { success: false, error: `User created but email_confirmed_at is still null. Update returned: ${JSON.stringify(updateData.user)}` }\n    }\n\n    const userId = authUser.user.id\n\n    // 2. Actualizar perfil\n    const { error: profileError } = await supabase\n      .from('profiles')\n      .upsert({\n        id: userId,\n        email: data.email,\n        first_name: data.first_name,\n        last_name: data.last_name,\n        whatsapp: data.whatsapp,\n        role: 'user'\n      })\n\n    if (profileError) {\n      return { success: false, error: `Usuario creado pero error en perfil: ${profileError.message}` }\n    }\n\n    // 3. Crear suscripción si hay plan seleccionado\n    if (data.plan_id) {\n      // Calcular fecha de fin (30 días por defecto)\n      const startDate = new Date()\n      const endDate = new Date(startDate)\n      endDate.setDate(startDate.getDate() + 30)\n\n      const { error: subError } = await supabase\n        .from('subscriptions')\n        .insert({\n          user_id: userId,\n          plan_id: data.plan_id,\n          plan_name: data.plan_name,\n          price: parseFloat(data.price),\n          status: 'active',\n          start_date: startDate.toISOString(),\n          next_billing_date: endDate.toISOString()\n        })\n\n      if (subError) console.error('Error creando suscripción:', subError)\n    }\n\n    // 4. Crear credenciales IPTV si se proporcionaron\n    if (data.iptv_username && data.iptv_password) {\n      const { error: credError } = await supabase\n        .from('credentials')\n        .insert({\n          user_id: userId,\n          username: data.iptv_username,\n          password: data.iptv_password\n        })\n      if (credError) console.error('Error creando credenciales:', credError)\n    }\n\n    revalidatePath('/admin')\n    return { success: true, userId }\n  } catch (error) {\n    console.error('Error en createUser:', error)\n    return { success: false, error: 'Error interno del servidor al crear usuario' }\n  }\n}\n"],"names":[],"mappings":";;;;;;;IAsDsB,qBAAA,WAAA,GAAA,IAAA,yXAAA,EAAA,8CAAA,8WAAA,EAAA,KAAA,GAAA,oXAAA,EAAA","debugId":null}},
    {"offset": {"line": 4209, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/components/admin/users-management.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Badge } from '@/components/ui/badge'\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n} from '@/components/ui/dialog'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { Textarea } from '@/components/ui/textarea'\nimport { Label } from '@/components/ui/label'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { createBrowserClient } from '@/lib/supabase/client'\nimport { Search, MoreHorizontal, User, Mail, Phone, Tv, Shield, Calendar, CreditCard, Key, Wifi, Bell, Send, Lock, RefreshCw, DollarSign, CheckSquare, Square, Trash2, History, XCircle, AlertTriangle, FileText, Save, Tag, Plus } from 'lucide-react'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport { useToast } from '@/hooks/use-toast'\nimport { format } from 'date-fns'\nimport { es } from 'date-fns/locale'\nimport { deleteUsers, createUser, updateUserPassword, createSubscription } from '@/app/actions/admin-actions'\n\ninterface UserLog {\n  id: string\n  action: string\n  details: any\n  created_at: string\n  admin_id: string | null\n}\n\ninterface Invoice {\n  id: string\n  user_id: string\n  amount: number\n  status: string\n  invoice_date: string\n  due_date: string\n  description?: string\n  created_at: string\n}\n\ninterface UserProfile {\n  id: string\n  first_name: string | null\n  last_name: string | null\n  email: string | null\n  whatsapp: string | null\n  role: string\n  created_at: string\n  subscription?: {\n    id: string\n    plan_name: string\n    status: string\n    price: number\n    next_billing_date: string\n    plan_id: string\n  } | null\n  credentials?: {\n    username: string\n    password: string\n    reseller_code: string\n  } | null\n}\n\ninterface NotificationBatch {\n  id: string\n  title: string\n  message: string\n  type: string\n  target_count: string\n  created_at: string\n}\n\ninterface Plan {\n  id: string\n  name: string\n  price: number\n}\n\nexport default function UsersManagement() {\n  const [users, setUsers] = useState<UserProfile[]>([])\n  const [loading, setLoading] = useState(true)\n  const [searchTerm, setSearchTerm] = useState('')\n  const [statusFilter, setStatusFilter] = useState('all')\n  const [planFilter, setPlanFilter] = useState('all')\n  const [selectedUser, setSelectedUser] = useState<UserProfile | null>(null)\n  const [isDetailsOpen, setIsDetailsOpen] = useState(false)\n  const [activeTab, setActiveTab] = useState('details')\n  const [availablePlans, setAvailablePlans] = useState<Plan[]>([])\n\n  // Estados para formularios\n  const [profileForm, setProfileForm] = useState({ first_name: '', last_name: '', email: '', whatsapp: '' })\n  const [notificationForm, setNotificationForm] = useState({ title: '', message: '', type: 'info' })\n  const [iptvForm, setIptvForm] = useState({ username: '', password: '' })\n  const [priceForm, setPriceForm] = useState({ price: '' })\n  const [billingDateForm, setBillingDateForm] = useState({ date: '' })\n  const [isSubmitting, setIsSubmitting] = useState(false)\n\n  const [selectedIds, setSelectedIds] = useState<Set<string>>(new Set())\n  const [isBulkNotifyOpen, setIsBulkNotifyOpen] = useState(false)\n  const [isBulkPlanOpen, setIsBulkPlanOpen] = useState(false)\n  const [isBulkStatusOpen, setIsBulkStatusOpen] = useState(false)\n  const [isBulkDateOpen, setIsBulkDateOpen] = useState(false)\n  const [isBulkDeleteOpen, setIsBulkDeleteOpen] = useState(false)\n  const [bulkPlan, setBulkPlan] = useState('')\n  const [bulkStatus, setBulkStatus] = useState('')\n  const [bulkDate, setBulkDate] = useState('')\n  const [notificationBatches, setNotificationBatches] = useState<NotificationBatch[]>([])\n  const [showBatches, setShowBatches] = useState(false)\n  const [planForm, setPlanForm] = useState({ plan_name: '' })\n\n  const [userLogs, setUserLogs] = useState<UserLog[]>([])\n  const [loadingLogs, setLoadingLogs] = useState(false)\n\n  const [userInvoices, setUserInvoices] = useState<Invoice[]>([])\n  const [loadingInvoices, setLoadingInvoices] = useState(false)\n\n  const [isCreateUserOpen, setIsCreateUserOpen] = useState(false)\n  const [createUserForm, setCreateUserForm] = useState({\n    email: '',\n    password: '',\n    first_name: '',\n    last_name: '',\n    whatsapp: '',\n    plan_id: '',\n    plan_name: '',\n    price: '',\n    iptv_username: '',\n    iptv_password: ''\n  })\n  const [manualPassword, setManualPassword] = useState('')\n\n  const { toast } = useToast()\n\n  useEffect(() => {\n    loadUsers()\n    loadAvailablePlans()\n    loadNotificationBatches()\n  }, [])\n\n  const loadAvailablePlans = async () => {\n    const supabase = createBrowserClient()\n\n    const { data: plans, error } = await supabase\n      .from('plans')\n      .select('id, name, price')\n      .order('name')\n\n    if (!error && plans) {\n      setAvailablePlans(plans)\n    }\n  }\n\n  const loadUsers = async () => {\n    const supabase = createBrowserClient()\n\n    // 1. Fetch profiles\n    const { data: profiles, error: profilesError } = await supabase\n      .from('profiles')\n      .select('*')\n      .order('created_at', { ascending: false })\n\n    if (profilesError) {\n      toast({\n        variant: 'destructive',\n        title: 'Error al cargar usuarios',\n        description: profilesError.message,\n      })\n      setLoading(false)\n      return\n    }\n\n    // 2. Fetch subscriptions and credentials for all users\n    const { data: subscriptions } = await supabase\n      .from('subscriptions')\n      .select('*')\n\n    const { data: credentials } = await supabase\n      .from('credentials')\n      .select('*')\n\n    // 3. Merge data\n    const mergedUsers = profiles.map(profile => ({\n      ...profile,\n      subscription: subscriptions?.find(sub => sub.user_id === profile.id) || null,\n      credentials: credentials?.find(cred => cred.user_id === profile.id) || null\n    }))\n\n    setUsers(mergedUsers)\n    setLoading(false)\n  }\n\n  const loadNotificationBatches = async () => {\n    const supabase = createBrowserClient()\n    const { data, error } = await supabase\n      .from('notification_batches')\n      .select('*')\n      .order('created_at', { ascending: false })\n\n    if (data) setNotificationBatches(data)\n  }\n\n  const loadUserLogs = async (userId: string) => {\n    setLoadingLogs(true)\n    const supabase = createBrowserClient()\n    const { data, error } = await supabase\n      .from('user_logs')\n      .select('*')\n      .eq('user_id', userId)\n      .order('created_at', { ascending: false })\n\n    if (data) {\n      setUserLogs(data)\n    }\n    setLoadingLogs(false)\n  }\n\n  const loadUserInvoices = async (userId: string) => {\n    setLoadingInvoices(true)\n    const supabase = createBrowserClient()\n    const { data, error } = await supabase\n      .from('invoices')\n      .select('*')\n      .eq('user_id', userId)\n      .order('created_at', { ascending: false })\n      .limit(10)\n\n    if (data) {\n      setUserInvoices(data)\n    }\n    setLoadingInvoices(false)\n  }\n\n  const logAction = async (userId: string, action: string, details: any) => {\n    const supabase = createBrowserClient()\n    const { data: { user } } = await supabase.auth.getUser()\n\n    await supabase.from('user_logs').insert({\n      user_id: userId,\n      admin_id: user?.id,\n      action,\n      details\n    })\n\n    // Reload logs if we are viewing them\n    if (selectedUser?.id === userId) {\n      loadUserLogs(userId)\n    }\n  }\n\n  const filteredUsers = users.filter(user => {\n    const fullName = `${user.first_name || ''} ${user.last_name || ''}`.trim()\n    const matchesSearch = fullName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      (user.email?.toLowerCase() || '').includes(searchTerm.toLowerCase()) ||\n      (user.whatsapp || '').includes(searchTerm)\n\n    const matchesStatus = statusFilter === 'all' || user.subscription?.status === statusFilter\n    const matchesPlan = planFilter === 'all' || user.subscription?.plan_name === planFilter\n\n    return matchesSearch && matchesStatus && matchesPlan\n  })\n\n  const handleViewDetails = (user: UserProfile) => {\n    setSelectedUser(user)\n    setProfileForm({\n      first_name: user.first_name || '',\n      last_name: user.last_name || '',\n      email: user.email || '',\n      whatsapp: user.whatsapp || ''\n    })\n    setIptvForm({\n      username: user.credentials?.username || '',\n      password: user.credentials?.password || ''\n    })\n    setPriceForm({\n      price: user.subscription?.price?.toString() || ''\n    })\n    setPlanForm({\n      plan_name: user.subscription?.plan_name || ''\n    })\n    setBillingDateForm({\n      date: user.subscription?.next_billing_date ? format(new Date(user.subscription.next_billing_date), 'yyyy-MM-dd') : ''\n    })\n    setIsDetailsOpen(true)\n    setActiveTab('details')\n    loadUserLogs(user.id)\n    loadUserInvoices(user.id)\n  }\n\n  const handleUpdateProfile = async () => {\n    if (!selectedUser?.id) return\n\n    setIsSubmitting(true)\n    const supabase = createBrowserClient()\n\n    const { error } = await supabase\n      .from('profiles')\n      .update({\n        first_name: profileForm.first_name,\n        last_name: profileForm.last_name,\n        email: profileForm.email,\n        whatsapp: profileForm.whatsapp\n      })\n      .eq('id', selectedUser.id)\n\n    if (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Error al actualizar perfil',\n        description: error.message,\n      })\n    } else {\n      toast({\n        title: 'Perfil actualizado',\n        description: 'Los datos del usuario han sido actualizados correctamente.',\n      })\n      loadUsers()\n      logAction(selectedUser.id, 'UPDATE_PROFILE', { previous: selectedUser, new: profileForm })\n    }\n    setIsSubmitting(false)\n  }\n\n  const handleCreateUser = async () => {\n    if (!createUserForm.email || !createUserForm.password) {\n      toast({\n        variant: 'destructive',\n        title: 'Campos requeridos',\n        description: 'El email y la contraseña son obligatorios.',\n      })\n      return\n    }\n\n    setIsSubmitting(true)\n\n    // Buscar el nombre del plan si se seleccionó uno\n    let planName = ''\n    if (createUserForm.plan_id) {\n      const plan = availablePlans.find(p => p.id === createUserForm.plan_id)\n      if (plan) planName = plan.name\n    }\n\n    if (!createUserForm.email || !createUserForm.password) {\n      toast({\n        variant: 'destructive',\n        title: 'Campos requeridos',\n        description: 'Por favor ingresa email y contraseña.',\n      })\n      return\n    }\n\n    if (createUserForm.password.length < 6) {\n      toast({\n        variant: 'destructive',\n        title: 'Contraseña muy corta',\n        description: 'La contraseña debe tener al menos 6 caracteres.',\n      })\n      return\n    }\n\n    const result = await createUser({\n      ...createUserForm,\n      plan_name: planName\n    })\n\n    if (result.success) {\n      toast({\n        title: 'Usuario creado',\n        description: 'El usuario ha sido creado exitosamente.',\n      })\n      setIsCreateUserOpen(false)\n      setCreateUserForm({\n        email: '',\n        password: '',\n        first_name: '',\n        last_name: '',\n        whatsapp: '',\n        plan_id: '',\n        plan_name: '',\n        price: '',\n        iptv_username: '',\n        iptv_password: ''\n      })\n      loadUsers()\n    } else {\n      toast({\n        variant: 'destructive',\n        title: 'Error al crear usuario',\n        description: result.error,\n      })\n    }\n    setIsSubmitting(false)\n  }\n\n  const handleCreateSubscription = async () => {\n    if (!selectedUser?.id || !planForm.plan_name) return\n\n    setIsSubmitting(true)\n    const selectedPlan = availablePlans.find(p => p.name === planForm.plan_name)\n\n    if (!selectedPlan) {\n      toast({ variant: 'destructive', title: 'Error', description: 'Plan no válido' })\n      setIsSubmitting(false)\n      return\n    }\n\n    const result = await createSubscription({\n      user_id: selectedUser.id,\n      plan_id: selectedPlan.id,\n      plan_name: selectedPlan.name,\n      price: priceForm.price || selectedPlan.price\n    })\n\n    if (result.success) {\n      toast({ title: 'Suscripción creada exitosamente' })\n      loadUsers()\n      // Update local selected user to show the new subscription immediately would be ideal, \n      // but loadUsers refreshes the list. We might need to re-fetch selectedUser or close modal.\n      // For now, let's close modal to force refresh when reopening or just rely on loadUsers if it updates the list view.\n      // Actually, let's try to update selectedUser manually if possible, or just let the user see it in the table.\n      setIsDetailsOpen(false)\n    } else {\n      toast({ variant: 'destructive', title: 'Error', description: result.error })\n    }\n    setIsSubmitting(false)\n  }\n\n  const handleManualPasswordUpdate = async () => {\n    if (!selectedUser?.id || !manualPassword) return\n\n    setIsSubmitting(true)\n    const result = await updateUserPassword(selectedUser.id, manualPassword)\n\n    if (result.success) {\n      toast({\n        title: 'Contraseña actualizada',\n        description: 'La contraseña del usuario ha sido cambiada exitosamente.',\n      })\n      setManualPassword('')\n      logAction(selectedUser.id, 'UPDATE_PASSWORD_MANUAL', { userId: selectedUser.id })\n    } else {\n      toast({\n        variant: 'destructive',\n        title: 'Error',\n        description: result.error,\n      })\n    }\n    setIsSubmitting(false)\n  }\n\n  const handleUpdateBillingDate = async () => {\n    if (!selectedUser?.subscription?.id || !billingDateForm.date) return\n\n    setIsSubmitting(true)\n    const supabase = createBrowserClient()\n\n    // Create a date object and set to end of day or keep as is, usually billing is just the date\n    // We'll use the date string and let it be 00:00 UTC or local depending on browser,\n    // but to be safe let's append a time or just use ISO string of the date\n    const newDate = new Date(billingDateForm.date)\n\n    const oldDate = selectedUser.subscription.next_billing_date\n\n    const { error } = await supabase\n      .from('subscriptions')\n      .update({\n        next_billing_date: newDate.toISOString(),\n        updated_at: new Date().toISOString()\n      })\n      .eq('id', selectedUser.subscription.id)\n\n    if (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Error al actualizar fecha',\n        description: error.message\n      })\n    } else {\n      toast({\n        variant: 'success',\n        title: 'Fecha actualizada',\n        description: `La fecha de facturación se actualizó a ${format(newDate, 'PPP', { locale: es })}`\n      })\n\n      await logAction(selectedUser.id, 'update_billing_date', {\n        previous: oldDate,\n        new: newDate.toISOString()\n      })\n\n      // Update local state\n      setUsers(users.map(u =>\n        u.id === selectedUser.id && u.subscription\n          ? { ...u, subscription: { ...u.subscription, next_billing_date: newDate.toISOString() } }\n          : u\n      ))\n\n      setSelectedUser(prev => prev && prev.subscription ? {\n        ...prev,\n        subscription: { ...prev.subscription, next_billing_date: newDate.toISOString() }\n      } : prev)\n    }\n    setIsSubmitting(false)\n  }\n\n  const handleUpdatePrice = async () => {\n    if (!selectedUser?.subscription?.id) return\n\n    const newPrice = parseFloat(priceForm.price)\n    if (isNaN(newPrice) || newPrice < 0) {\n      toast({\n        variant: 'destructive',\n        title: 'Precio inválido',\n        description: 'Ingresa un precio válido mayor o igual a 0'\n      })\n      return\n    }\n\n    setIsSubmitting(true)\n    const supabase = createBrowserClient()\n\n    const oldPrice = selectedUser.subscription.price\n\n    const { error } = await supabase\n      .from('subscriptions')\n      .update({\n        price: newPrice,\n        updated_at: new Date().toISOString()\n      })\n      .eq('id', selectedUser.subscription.id)\n\n    if (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Error al actualizar',\n        description: error.message\n      })\n    } else {\n      toast({\n        variant: 'success',\n        title: 'Precio actualizado',\n        description: `El precio de suscripción se actualizó a $${newPrice.toFixed(2)}`\n      })\n      // Actualizar estado local\n      setUsers(users.map(u =>\n        u.id === selectedUser.id && u.subscription\n          ? { ...u, subscription: { ...u.subscription, price: newPrice } }\n          : u\n      ))\n      setSelectedUser(prev => prev && prev.subscription ? {\n        ...prev,\n        subscription: { ...prev.subscription, price: newPrice }\n      } : prev)\n\n      await logAction(selectedUser.id, 'update_price', {\n        previous: oldPrice,\n        new: newPrice\n      })\n\n    }\n    setIsSubmitting(false)\n  }\n\n  const handleUpdatePlan = async () => {\n    if (!selectedUser?.subscription?.id || !planForm.plan_name) return\n\n    const selectedPlan = availablePlans.find(p => p.name === planForm.plan_name)\n    if (!selectedPlan) return\n\n    setIsSubmitting(true)\n    const supabase = createBrowserClient()\n\n    const oldPlan = selectedUser.subscription.plan_name\n\n    const { error } = await supabase\n      .from('subscriptions')\n      .update({\n        plan_name: selectedPlan.name,\n        plan_id: selectedPlan.id,\n        price: selectedPlan.price, // Update price to match new plan\n        updated_at: new Date().toISOString()\n      })\n      .eq('id', selectedUser.subscription.id)\n\n    if (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Error al actualizar plan',\n        description: error.message\n      })\n    } else {\n      toast({\n        variant: 'success',\n        title: 'Plan actualizado',\n        description: `El plan se actualizó a ${selectedPlan.name}`\n      })\n\n      // Update local state\n      const newPrice = selectedPlan.price\n      setPriceForm({ price: newPrice.toString() })\n\n      setUsers(users.map(u =>\n        u.id === selectedUser.id && u.subscription\n          ? {\n            ...u,\n            subscription: {\n              ...u.subscription,\n              plan_name: selectedPlan.name,\n              price: newPrice\n            }\n          }\n          : u\n      ))\n\n      setSelectedUser(prev => prev && prev.subscription ? {\n        ...prev,\n        subscription: {\n          ...prev.subscription,\n          plan_name: selectedPlan.name,\n          price: newPrice\n        }\n      } : prev)\n\n      await logAction(selectedUser.id, 'change_plan', {\n        previous: oldPlan,\n        new: selectedPlan.name\n      })\n    }\n    setIsSubmitting(false)\n  }\n\n  const handleSendPasswordReset = async () => {\n    if (!selectedUser?.email) return\n\n    setIsSubmitting(true)\n    const supabase = createBrowserClient()\n\n    const { error } = await supabase.auth.resetPasswordForEmail(selectedUser.email, {\n      redirectTo: `${window.location.origin}/auth/update-password`,\n    })\n\n    if (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Error al enviar correo',\n        description: error.message\n      })\n    } else {\n      toast({\n        variant: 'success',\n        title: 'Correo enviado',\n        description: `Se ha enviado un correo de restablecimiento a ${selectedUser.email}`\n      })\n      await logAction(selectedUser.id, 'send_password_reset', {})\n    }\n    setIsSubmitting(false)\n  }\n\n  const handleUpdateIptvCredentials = async () => {\n    if (!selectedUser?.id) return\n\n    setIsSubmitting(true)\n    const supabase = createBrowserClient()\n\n    const oldUsername = selectedUser.credentials?.username\n\n    const { error } = await supabase\n      .from('credentials')\n      .update({\n        username: iptvForm.username,\n        password: iptvForm.password,\n        updated_at: new Date().toISOString()\n      })\n      .eq('user_id', selectedUser.id)\n\n    if (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Error al actualizar',\n        description: error.message\n      })\n    } else {\n      toast({\n        variant: 'success',\n        title: 'Credenciales actualizadas',\n        description: 'Las credenciales IPTV han sido actualizadas correctamente'\n      })\n      // Actualizar estado local\n      setUsers(users.map(u =>\n        u.id === selectedUser.id\n          ? { ...u, credentials: { ...u.credentials!, username: iptvForm.username, password: iptvForm.password } }\n          : u\n      ))\n\n      await logAction(selectedUser.id, 'update_credentials', {\n        previous_username: oldUsername,\n        new_username: iptvForm.username\n      })\n    }\n    setIsSubmitting(false)\n  }\n\n  const handleSendNotification = async () => {\n    if (!selectedUser?.id) return\n\n    setIsSubmitting(true)\n    const supabase = createBrowserClient()\n\n    const { error } = await supabase\n      .from('notifications')\n      .insert({\n        user_id: selectedUser.id,\n        title: notificationForm.title,\n        message: notificationForm.message,\n        type: notificationForm.type\n      })\n\n    if (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Error al enviar',\n        description: error.message\n      })\n    } else {\n      toast({\n        variant: 'success',\n        title: 'Notificación enviada',\n        description: 'El usuario verá el mensaje en su dashboard'\n      })\n      await logAction(selectedUser.id, 'send_notification', {\n        title: notificationForm.title,\n        type: notificationForm.type\n      })\n\n      setNotificationForm({ title: '', message: '', type: 'info' })\n    }\n    setIsSubmitting(false)\n  }\n\n  const handleSendEmail = async () => {\n    // Simulación de envío de correo ya que requiere integración backend\n    setIsSubmitting(true)\n    await new Promise(resolve => setTimeout(resolve, 1000))\n\n    toast({\n      variant: 'success',\n      title: 'Correo enviado',\n      description: `Se ha enviado un correo a ${selectedUser?.email}`\n    })\n    if (selectedUser?.id) {\n      await logAction(selectedUser.id, 'send_email', {\n        to: selectedUser.email,\n        subject: 'Simulado', // Placeholder\n        body: 'Simulado' // Placeholder\n      })\n    }\n    setIsSubmitting(false)\n  }\n\n  const toggleSelectAll = () => {\n    if (selectedIds.size === filteredUsers.length) {\n      setSelectedIds(new Set())\n    } else {\n      setSelectedIds(new Set(filteredUsers.map(u => u.id)))\n    }\n  }\n\n  const toggleSelect = (id: string) => {\n    const newSelected = new Set(selectedIds)\n    if (newSelected.has(id)) {\n      newSelected.delete(id)\n    } else {\n      newSelected.add(id)\n    }\n    setSelectedIds(newSelected)\n  }\n\n  const handleBulkNotify = async () => {\n    if (selectedIds.size === 0) return\n    setIsSubmitting(true)\n\n    const supabase = createBrowserClient()\n\n    // 1. Create Batch\n    const { data: batch, error: batchError } = await supabase\n      .from('notification_batches')\n      .insert({\n        title: notificationForm.title,\n        message: notificationForm.message,\n        type: notificationForm.type,\n        target_count: selectedIds.size\n      })\n      .select()\n      .single()\n\n    if (batchError || !batch) {\n      toast({ variant: 'destructive', title: 'Error', description: 'No se pudo crear el envío masivo' })\n      setIsSubmitting(false)\n      return\n    }\n\n    // 2. Create Notifications\n    const notifications = Array.from(selectedIds).map(userId => ({\n      user_id: userId,\n      title: notificationForm.title,\n      message: notificationForm.message,\n      type: notificationForm.type,\n      batch_id: batch.id\n    }))\n\n    const { error: notifError } = await supabase\n      .from('notifications')\n      .insert(notifications)\n\n    if (notifError) {\n      toast({ variant: 'destructive', title: 'Error parcial', description: 'Algunas notificaciones fallaron' })\n    } else {\n      toast({ variant: 'success', title: 'Enviado', description: `Se enviaron ${selectedIds.size} notificaciones` })\n      setIsBulkNotifyOpen(false)\n      setNotificationForm({ title: '', message: '', type: 'info' })\n      setSelectedIds(new Set())\n      loadNotificationBatches()\n      // Log action for each user\n      Array.from(selectedIds).forEach(userId => {\n        logAction(userId, 'receive_bulk_notification', {\n          batch_id: batch.id,\n          title: notificationForm.title\n        })\n      })\n    }\n    setIsSubmitting(false)\n  }\n\n  const handleBulkChangePlan = async () => {\n    if (selectedIds.size === 0 || !bulkPlan) return\n    setIsSubmitting(true)\n\n    const supabase = createBrowserClient()\n\n    // Get plan details to update price as well (optional, but good practice)\n    const { data: planData } = await supabase\n      .from('plans')\n      .select('price')\n      .eq('name', bulkPlan)\n      .single()\n\n    const updates: any = {\n      plan_name: bulkPlan,\n      updated_at: new Date().toISOString()\n    }\n\n    if (planData) {\n      updates.price = planData.price\n    }\n\n    const { error } = await supabase\n      .from('subscriptions')\n      .update(updates)\n      .in('user_id', Array.from(selectedIds))\n\n    if (error) {\n      toast({ variant: 'destructive', title: 'Error', description: 'No se pudieron actualizar los planes' })\n    } else {\n      toast({ variant: 'success', title: 'Planes actualizados', description: `Se actualizó el plan de ${selectedIds.size} usuarios` })\n      setIsBulkPlanOpen(false)\n      setSelectedIds(new Set())\n      loadUsers() // Reload to show changes\n      // Log action for each user\n      Array.from(selectedIds).forEach(userId => {\n        logAction(userId, 'change_plan', {\n          previous: 'N/A', // difficult to get previous for bulk\n          new: bulkPlan,\n          new_price: planData?.price\n        })\n      })\n    }\n    setIsSubmitting(false)\n  }\n\n  const handleBulkChangeStatus = async () => {\n    if (selectedIds.size === 0 || !bulkStatus) return\n    setIsSubmitting(true)\n\n    const supabase = createBrowserClient()\n\n    const { error } = await supabase\n      .from('subscriptions')\n      .update({\n        status: bulkStatus,\n        updated_at: new Date().toISOString()\n      })\n      .in('user_id', Array.from(selectedIds))\n\n    if (error) {\n      toast({ variant: 'destructive', title: 'Error', description: 'No se pudieron actualizar los estados' })\n    } else {\n      toast({ variant: 'success', title: 'Estados actualizados', description: `Se actualizó el estado de ${selectedIds.size} usuarios` })\n      setIsBulkStatusOpen(false)\n      setSelectedIds(new Set())\n      loadUsers() // Reload to show changes\n      // Log action for each user\n      Array.from(selectedIds).forEach(userId => {\n        logAction(userId, 'change_status', {\n          previous: 'N/A', // difficult to get previous for bulk\n          new: bulkStatus\n        })\n      })\n    }\n    setIsSubmitting(false)\n  }\n\n  const handleBulkChangeDate = async () => {\n    if (selectedIds.size === 0 || !bulkDate) return\n    setIsSubmitting(true)\n\n    const supabase = createBrowserClient()\n    const newDate = new Date(bulkDate)\n\n    const { error } = await supabase\n      .from('subscriptions')\n      .update({\n        next_billing_date: newDate.toISOString(),\n        updated_at: new Date().toISOString()\n      })\n      .in('user_id', Array.from(selectedIds))\n\n    if (error) {\n      toast({ variant: 'destructive', title: 'Error', description: 'No se pudieron actualizar las fechas' })\n    } else {\n      toast({ variant: 'success', title: 'Fechas actualizadas', description: `Se actualizó la fecha de facturación de ${selectedIds.size} usuarios` })\n      setIsBulkDateOpen(false)\n      setSelectedIds(new Set())\n      loadUsers() // Reload to show changes\n      // Log action for each user\n      Array.from(selectedIds).forEach(userId => {\n        logAction(userId, 'update_billing_date', {\n          previous: 'N/A', // difficult to get previous for bulk\n          new: newDate.toISOString()\n        })\n      })\n    }\n    setIsSubmitting(false)\n  }\n\n  const handleBulkDelete = async () => {\n    if (selectedIds.size === 0) return\n    setIsSubmitting(true)\n\n    const result = await deleteUsers(Array.from(selectedIds))\n\n    if (!result.success) {\n      toast({ variant: 'destructive', title: 'Error', description: result.error })\n    } else {\n      toast({ variant: 'success', title: 'Usuarios eliminados', description: `Se eliminaron ${selectedIds.size} usuarios permanentemente` })\n      setIsBulkDeleteOpen(false)\n      setSelectedIds(new Set())\n      loadUsers()\n      // Log action for each user\n      Array.from(selectedIds).forEach(userId => {\n        logAction(userId, 'bulk_delete', {})\n      })\n    }\n    setIsSubmitting(false)\n  }\n\n  const handleDeleteBatch = async (batchId: string) => {\n    const supabase = createBrowserClient()\n    const { error } = await supabase\n      .from('notification_batches')\n      .delete()\n      .eq('id', batchId)\n\n    if (error) {\n      toast({ variant: 'destructive', title: 'Error', description: 'No se pudo eliminar el envío' })\n    } else {\n      toast({ variant: 'success', title: 'Eliminado', description: 'Se eliminaron las notificaciones enviadas' })\n      loadNotificationBatches()\n      await logAction('system', 'delete_notification_batch', { batch_id: batchId })\n    }\n  }\n\n  const getStatusColor = (status?: string) => {\n    switch (status) {\n      case 'active': return 'bg-green-500/10 text-green-500 hover:bg-green-500/20'\n      case 'inactive': return 'bg-yellow-500/10 text-yellow-500 hover:bg-yellow-500/20'\n      case 'cancelled': return 'bg-red-500/10 text-red-500 hover:bg-red-500/20'\n      default: return 'bg-gray-500/10 text-gray-500 hover:bg-gray-500/20'\n    }\n  }\n\n  const getStatusLabel = (status?: string) => {\n    switch (status) {\n      case 'active': return 'Activo'\n      case 'inactive': return 'Inactivo'\n      case 'cancelled': return 'Cancelado'\n      default: return 'Sin Plan'\n    }\n  }\n\n  const handleUpdateStatus = async (newStatus: string) => {\n    if (!selectedUser?.subscription?.id) return\n\n    setIsSubmitting(true)\n    const supabase = createBrowserClient()\n\n    const oldStatus = selectedUser.subscription.status\n\n    const { error } = await supabase\n      .from('subscriptions')\n      .update({\n        status: newStatus,\n        updated_at: new Date().toISOString()\n      })\n      .eq('id', selectedUser.subscription.id)\n\n    if (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Error al actualizar estado',\n        description: error.message\n      })\n    } else {\n      toast({\n        variant: 'success',\n        title: 'Estado actualizado',\n        description: `El estado se actualizó a ${getStatusLabel(newStatus)}`\n      })\n\n      await logAction(selectedUser.id, 'change_status', {\n        previous: oldStatus,\n        new: newStatus\n      })\n\n      // Update local state\n      setUsers(users.map(u =>\n        u.id === selectedUser.id && u.subscription\n          ? { ...u, subscription: { ...u.subscription, status: newStatus } }\n          : u\n      ))\n\n      setSelectedUser(prev => prev && prev.subscription ? {\n        ...prev,\n        subscription: { ...prev.subscription, status: newStatus }\n      } : prev)\n    }\n    setIsSubmitting(false)\n  }\n\n  const formatLogDetails = (action: string, details: any) => {\n    try {\n      switch (action) {\n        case 'update_profile':\n          return 'Actualizó información personal'\n        case 'change_plan':\n          return `Cambió plan de ${details.previous} a ${details.new}`\n        case 'change_status':\n          return `Cambió estado de ${getStatusLabel(details.previous)} a ${getStatusLabel(details.new)}`\n        case 'update_price':\n          return `Actualizó precio de $${details.previous} a $${details.new}`\n        case 'update_billing_date':\n          return `Cambió fecha de facturación`\n        case 'update_credentials':\n          return `Actualizó credenciales IPTV (Usuario: ${details.new_username})`\n        case 'send_notification':\n          return `Envió notificación: ${details.title}`\n        case 'send_password_reset':\n          return 'Envió correo de restablecimiento de contraseña'\n        case 'UPDATE_PASSWORD_MANUAL':\n          return 'Cambió contraseña manualmente'\n        case 'receive_bulk_notification':\n          return `Recibió notificación masiva (ID Lote: ${details.batch_id})`\n        case 'bulk_delete':\n          return 'Fue eliminado en un proceso masivo'\n        case 'delete_notification_batch':\n          return `Eliminó un lote de notificaciones (ID: ${details.batch_id})`\n        default:\n          return JSON.stringify(details)\n      }\n    } catch (e) {\n      return 'Detalles no disponibles'\n    }\n  }\n\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h2 className=\"text-2xl font-bold\">Gestión de Usuarios</h2>\n          <p className=\"text-muted-foreground\">Administra tus clientes y suscripciones</p>\n        </div>\n        <Button variant=\"outline\" onClick={() => setShowBatches(!showBatches)}>\n          <History className=\"mr-2 h-4 w-4\" />\n          {showBatches ? 'Ver Usuarios' : 'Historial de Envíos'}\n        </Button>\n      </div>\n\n      {showBatches ? (\n        <Card>\n          <CardHeader>\n            <CardTitle>Historial de Notificaciones Masivas</CardTitle>\n            <CardDescription>Gestiona los envíos realizados. Eliminar un envío borrará las notificaciones de los usuarios.</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <Table>\n              <TableHeader>\n                <TableRow>\n                  <TableHead>Fecha</TableHead>\n                  <TableHead>Título</TableHead>\n                  <TableHead>Mensaje</TableHead>\n                  <TableHead>Destinatarios</TableHead>\n                  <TableHead className=\"text-right\">Acciones</TableHead>\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                {notificationBatches.map(batch => (\n                  <TableRow key={batch.id}>\n                    <TableCell>{format(new Date(batch.created_at), 'PPP p', { locale: es })}</TableCell>\n                    <TableCell className=\"font-medium\">{batch.title}</TableCell>\n                    <TableCell className=\"max-w-md truncate\">{batch.message}</TableCell>\n                    <TableCell>\n                      <Badge variant=\"secondary\">{batch.target_count} usuarios</Badge>\n                    </TableCell>\n                    <TableCell className=\"text-right\">\n                      <Button\n                        variant=\"destructive\"\n                        size=\"sm\"\n                        onClick={() => handleDeleteBatch(batch.id)}\n                      >\n                        <Trash2 className=\"h-4 w-4 mr-2\" /> Eliminar / Cancelar\n                      </Button>\n                    </TableCell>\n                  </TableRow>\n                ))}\n                {notificationBatches.length === 0 && (\n                  <TableRow>\n                    <TableCell colSpan={5} className=\"text-center py-8 text-muted-foreground\">\n                      No hay envíos masivos registrados\n                    </TableCell>\n                  </TableRow>\n                )}\n              </TableBody>\n            </Table>\n          </CardContent>\n        </Card>\n      ) : (\n        <>\n          <Card className=\"overflow-hidden border-none shadow-md\">\n            <div className=\"p-4 border-b bg-muted/30 flex flex-col md:flex-row gap-4 justify-between items-center\">\n              <div className=\"relative w-full md:w-96\">\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-primary\" />\n                <Input\n                  placeholder=\"Buscar por nombre, email...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"pl-9 border-primary/30 focus-visible:ring-primary bg-background shadow-sm\"\n                />\n              </div>\n              <div className=\"flex flex-col sm:flex-row gap-3 w-full md:w-auto\">\n                <Button onClick={() => setIsCreateUserOpen(true)} className=\"gap-2 w-full sm:w-auto\">\n                  <User className=\"h-4 w-4\" />\n                  Agregar Usuario\n                </Button>\n                <Select value={statusFilter} onValueChange={setStatusFilter}>\n                  <SelectTrigger className=\"w-full sm:w-[160px] bg-background\">\n                    <SelectValue placeholder=\"Estado\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"all\">Todos los estados</SelectItem>\n                    <SelectItem value=\"active\">Activo</SelectItem>\n                    <SelectItem value=\"inactive\">Inactivo</SelectItem>\n                    <SelectItem value=\"cancelled\">Cancelado</SelectItem>\n                  </SelectContent>\n                </Select>\n                <Select value={planFilter} onValueChange={setPlanFilter}>\n                  <SelectTrigger className=\"w-full sm:w-[180px] bg-background\">\n                    <SelectValue placeholder=\"Plan\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"all\">Todos los planes</SelectItem>\n                    {availablePlans.map(plan => (\n                      <SelectItem key={plan.id} value={plan.name}>{plan.name}</SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n\n            {\n              selectedIds.size > 0 && (\n                <div className=\"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 bg-background border shadow-xl rounded-full px-6 py-3 flex items-center gap-4 animate-in slide-in-from-bottom-4 duration-200\">\n                  <span className=\"text-sm font-medium flex items-center gap-2 border-r pr-4\">\n                    <div className=\"bg-primary text-primary-foreground rounded-full w-5 h-5 flex items-center justify-center text-xs\">\n                      {selectedIds.size}\n                    </div>\n                    seleccionados\n                  </span>\n                  <div className=\"flex gap-2 items-center\">\n                    <Button size=\"sm\" variant=\"ghost\" onClick={() => setIsBulkPlanOpen(true)} title=\"Cambiar Plan\">\n                      <CreditCard className=\"h-4 w-4\" />\n                    </Button>\n                    <Button size=\"sm\" variant=\"ghost\" onClick={() => setIsBulkStatusOpen(true)} title=\"Cambiar Estado\">\n                      <RefreshCw className=\"h-4 w-4\" />\n                    </Button>\n                    <Button size=\"sm\" variant=\"ghost\" onClick={() => setIsBulkDateOpen(true)} title=\"Cambiar Fecha\">\n                      <Calendar className=\"h-4 w-4\" />\n                    </Button>\n                    <Button size=\"sm\" variant=\"ghost\" onClick={() => setIsBulkNotifyOpen(true)} title=\"Enviar Notificación\">\n                      <Bell className=\"h-4 w-4\" />\n                    </Button>\n                    <div className=\"h-4 w-px bg-border mx-1\" />\n                    <Button size=\"sm\" variant=\"ghost\" className=\"text-destructive hover:text-destructive hover:bg-destructive/10\" onClick={() => setIsBulkDeleteOpen(true)} title=\"Eliminar\">\n                      <Trash2 className=\"h-4 w-4\" />\n                    </Button>\n                    <Button size=\"sm\" variant=\"ghost\" onClick={() => setSelectedIds(new Set())}>\n                      <XCircle className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n              )\n            }\n\n            < CardContent className=\"p-0\" >\n              <div className=\"overflow-x-auto\">\n                <Table className=\"w-full min-w-[1000px]\">\n                  <TableHeader>\n                    <TableRow className=\"bg-muted/50 hover:bg-muted/50\">\n                      <TableHead className=\"w-[50px] pl-4\">\n                        <div className=\"flex items-center justify-center\">\n                          <Checkbox\n                            checked={filteredUsers.length > 0 && selectedIds.size === filteredUsers.length}\n                            onCheckedChange={toggleSelectAll}\n                            className=\"h-5 w-5 scale-125 border-2 border-muted-foreground/50 data-[state=checked]:border-primary data-[state=checked]:bg-primary transition-all\"\n                          />\n                        </div>\n                      </TableHead>\n                      <TableHead className=\"w-[20%]\">Usuario</TableHead>\n                      <TableHead className=\"w-[15%]\">Contacto</TableHead>\n                      <TableHead className=\"w-[12%]\">Plan Actual</TableHead>\n                      <TableHead className=\"w-[12%]\">Costo</TableHead>\n                      <TableHead className=\"w-[12%]\">Próximo Pago</TableHead>\n                      <TableHead className=\"w-[10%]\">Estado</TableHead>\n                      <TableHead className=\"w-[14%]\">Registro</TableHead>\n                      <TableHead className=\"text-right w-[5%]\">Acciones</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {filteredUsers.length === 0 ? (\n                      <TableRow>\n                        <TableCell colSpan={9} className=\"text-center py-12 text-muted-foreground\">\n                          <div className=\"flex flex-col items-center gap-2\">\n                            <User className=\"h-8 w-8 opacity-20\" />\n                            <p>No se encontraron usuarios con los filtros seleccionados</p>\n                          </div>\n                        </TableCell>\n                      </TableRow>\n                    ) : (\n                      filteredUsers.map((user) => (\n                        <TableRow\n                          key={user.id}\n                          className={`hover:bg-muted/50 transition-colors cursor-pointer ${selectedIds.has(user.id) ? 'bg-primary/5 border-l-2 border-l-primary' : 'border-l-2 border-l-transparent'}`}\n                          onClick={(e) => {\n                            if ((e.target as HTMLElement).closest('button') || (e.target as HTMLElement).closest('a') || (e.target as HTMLElement).closest('[role=\"checkbox\"]')) return;\n                            toggleSelect(user.id);\n                          }}\n                        >\n                          <TableCell className=\"pl-4 py-4\">\n                            <div className=\"flex items-center justify-center\" onClick={(e) => e.stopPropagation()}>\n                              <Checkbox\n                                checked={selectedIds.has(user.id)}\n                                onCheckedChange={() => toggleSelect(user.id)}\n                                className=\"h-5 w-5 scale-125 border-2 border-muted-foreground/50 data-[state=checked]:border-primary data-[state=checked]:bg-primary transition-all\"\n                              />\n                            </div>\n                          </TableCell>\n                          <TableCell>\n                            <div className=\"flex flex-col max-w-[200px]\">\n                              <span className=\"font-medium truncate\" title={`${user.first_name || ''} ${user.last_name || ''}`.trim()}>{`${user.first_name || ''} ${user.last_name || ''}`.trim() || 'Sin nombre'}</span>\n                              <span className=\"text-xs text-muted-foreground truncate\" title={user.email || ''}>{user.email}</span>\n                            </div>\n                          </TableCell>\n                          <TableCell>\n                            <div className=\"flex items-center gap-2 text-sm\">\n                              {user.whatsapp ? (\n                                <>\n                                  <Phone className=\"h-3 w-3 text-green-500 shrink-0\" />\n                                  <span className=\"truncate\">{user.whatsapp}</span>\n                                </>\n                              ) : (\n                                <span className=\"text-muted-foreground text-xs\">-</span>\n                              )}\n                            </div>\n                          </TableCell>\n                          <TableCell>\n                            {user.subscription ? (\n                              <Badge variant=\"outline\" className=\"font-normal bg-background\">\n                                {user.subscription.plan_name}\n                              </Badge>\n                            ) : (\n                              <span className=\"text-xs text-muted-foreground\">Sin suscripción</span>\n                            )}\n                          </TableCell>\n                          <TableCell>\n                            {user.subscription ? (\n                              <div className=\"flex items-center gap-1 font-semibold text-primary\">\n                                <DollarSign className=\"h-3 w-3\" />\n                                {user.subscription.price.toFixed(2)}\n                              </div>\n                            ) : (\n                              <span className=\"text-xs text-muted-foreground\">-</span>\n                            )}\n                          </TableCell>\n                          <TableCell>\n                            {user.subscription?.next_billing_date ? (\n                              <div className=\"flex items-center gap-1 text-sm text-muted-foreground\">\n                                <Calendar className=\"h-3 w-3\" />\n                                {format(new Date(user.subscription.next_billing_date), 'dd/MM/yyyy')}\n                              </div>\n                            ) : (\n                              <span className=\"text-xs text-muted-foreground\">-</span>\n                            )}\n                          </TableCell>\n                          <TableCell>\n                            <Badge className={getStatusColor(user.subscription?.status)}>\n                              {getStatusLabel(user.subscription?.status)}\n                            </Badge>\n                          </TableCell>\n                          <TableCell className=\"text-sm text-muted-foreground\">\n                            {format(new Date(user.created_at), 'dd/MM/yyyy', { locale: es })}\n                          </TableCell>\n                          <TableCell className=\"text-right\">\n                            <DropdownMenu>\n                              <DropdownMenuTrigger asChild>\n                                <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\n                                  <MoreHorizontal className=\"h-4 w-4\" />\n                                </Button>\n                              </DropdownMenuTrigger>\n                              <DropdownMenuContent align=\"end\">\n                                <DropdownMenuLabel>Acciones</DropdownMenuLabel>\n                                <DropdownMenuItem onClick={() => handleViewDetails(user)}>\n                                  <User className=\"mr-2 h-4 w-4\" /> Ver Detalles\n                                </DropdownMenuItem>\n                                <DropdownMenuSeparator />\n                                <DropdownMenuItem className=\"text-red-600\">\n                                  <Shield className=\"mr-2 h-4 w-4\" /> Suspender Cuenta\n                                </DropdownMenuItem>\n                              </DropdownMenuContent>\n                            </DropdownMenu>\n                          </TableCell>\n                        </TableRow>\n                      ))\n                    )}\n                  </TableBody>\n                </Table>\n              </div>\n            </CardContent >\n          </Card >\n        </>\n      )}\n\n      <Dialog open={isBulkNotifyOpen} onOpenChange={setIsBulkNotifyOpen}>\n        <DialogContent className=\"max-w-[90vw] sm:max-w-lg\">\n          <DialogHeader>\n            <DialogTitle>Enviar Notificación Masiva</DialogTitle>\n            <DialogDescription>\n              Se enviará a {selectedIds.size} usuarios seleccionados.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label>Título</Label>\n              <Input\n                placeholder=\"Ej: Mantenimiento programado\"\n                value={notificationForm.title}\n                onChange={(e) => setNotificationForm({ ...notificationForm, title: e.target.value })}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Tipo</Label>\n              <Select\n                value={notificationForm.type}\n                onValueChange={(val) => setNotificationForm({ ...notificationForm, type: val })}\n              >\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"info\">Información</SelectItem>\n                  <SelectItem value=\"success\">Éxito</SelectItem>\n                  <SelectItem value=\"warning\">Advertencia</SelectItem>\n                  <SelectItem value=\"error\">Error</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Mensaje</Label>\n              <Textarea\n                placeholder=\"Escribe el mensaje para los usuarios...\"\n                value={notificationForm.message}\n                onChange={(e) => setNotificationForm({ ...notificationForm, message: e.target.value })}\n              />\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setIsBulkNotifyOpen(false)}>Cancelar</Button>\n            <Button onClick={handleBulkNotify} disabled={isSubmitting}>\n              {isSubmitting ? 'Enviando...' : 'Enviar a Todos'}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      <Dialog open={isBulkPlanOpen} onOpenChange={setIsBulkPlanOpen}>\n        <DialogContent className=\"max-w-[90vw] sm:max-w-lg\">\n          <DialogHeader>\n            <DialogTitle>Cambiar Plan Masivamente</DialogTitle>\n            <DialogDescription>\n              Selecciona el nuevo plan para los {selectedIds.size} usuarios seleccionados.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label>Nuevo Plan</Label>\n              <Select value={bulkPlan} onValueChange={setBulkPlan}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Seleccionar plan\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {availablePlans.map(plan => (\n                    <SelectItem key={plan.id} value={plan.name}>{plan.name}</SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setIsBulkPlanOpen(false)}>Cancelar</Button>\n            <Button onClick={handleBulkChangePlan} disabled={isSubmitting || !bulkPlan}>\n              {isSubmitting ? 'Actualizando...' : 'Actualizar Planes'}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      <Dialog open={isBulkStatusOpen} onOpenChange={setIsBulkStatusOpen}>\n        <DialogContent className=\"max-w-[90vw] sm:max-w-lg\">\n          <DialogHeader>\n            <DialogTitle>Cambiar Estado Masivamente</DialogTitle>\n            <DialogDescription>\n              Selecciona el nuevo estado para los {selectedIds.size} usuarios seleccionados.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label>Nuevo Estado</Label>\n              <Select value={bulkStatus} onValueChange={setBulkStatus}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Seleccionar estado\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"active\">Activo</SelectItem>\n                  <SelectItem value=\"inactive\">Inactivo</SelectItem>\n                  <SelectItem value=\"cancelled\">Cancelado</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setIsBulkStatusOpen(false)}>Cancelar</Button>\n            <Button onClick={handleBulkChangeStatus} disabled={isSubmitting || !bulkStatus}>\n              {isSubmitting ? 'Actualizando...' : 'Actualizar Estados'}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      <Dialog open={isBulkDateOpen} onOpenChange={setIsBulkDateOpen}>\n        <DialogContent className=\"max-w-[90vw] sm:max-w-lg\">\n          <DialogHeader>\n            <DialogTitle>Cambiar Fecha de Facturación Masivamente</DialogTitle>\n            <DialogDescription>\n              Selecciona la nueva fecha de facturación para los {selectedIds.size} usuarios seleccionados.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label>Nueva Fecha</Label>\n              <Input\n                type=\"date\"\n                value={bulkDate}\n                onChange={(e) => setBulkDate(e.target.value)}\n              />\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setIsBulkDateOpen(false)}>Cancelar</Button>\n            <Button onClick={handleBulkChangeDate} disabled={isSubmitting || !bulkDate}>\n              {isSubmitting ? 'Actualizando...' : 'Actualizar Fechas'}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      <Dialog open={isBulkDeleteOpen} onOpenChange={setIsBulkDeleteOpen}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle className=\"text-red-600 flex items-center gap-2\">\n              <AlertTriangle className=\"h-5 w-5\" /> Eliminar Usuarios\n            </DialogTitle>\n            <DialogDescription>\n              ¿Estás seguro de que deseas eliminar a los {selectedIds.size} usuarios seleccionados? Esta acción es irreversible y eliminará todos sus datos, suscripciones y credenciales.\n            </DialogDescription>\n          </DialogHeader>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setIsBulkDeleteOpen(false)}>Cancelar</Button>\n            <Button variant=\"destructive\" onClick={handleBulkDelete} disabled={isSubmitting}>\n              {isSubmitting ? 'Eliminando...' : 'Sí, Eliminar Usuarios'}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* User Details Dialog */}\n      <Dialog open={isDetailsOpen} onOpenChange={setIsDetailsOpen}>\n        <DialogContent className=\"max-w-[95vw] sm:max-w-5xl h-[95vh] flex flex-col p-0\">\n          <DialogHeader className=\"px-6 pt-6 pb-4 border-b\">\n            <DialogTitle className=\"text-lg sm:text-xl\">Gestión de Cliente: {`${selectedUser?.first_name || ''} ${selectedUser?.last_name || ''}`.trim()}</DialogTitle>\n            <DialogDescription>Administra la cuenta, servicios y comunicaciones</DialogDescription>\n          </DialogHeader>\n\n          {selectedUser && (\n            <Tabs value={activeTab} onValueChange={setActiveTab} className=\"flex-1 flex flex-col overflow-hidden\">\n              <div className=\"px-6 pt-4 pb-2\">\n                <div className=\"overflow-x-auto pb-2 -mx-6 px-6 md:mx-0 md:px-0 md:pb-0\">\n                  <TabsList className=\"inline-flex h-auto w-auto p-1 min-w-full md:grid md:w-full md:grid-cols-4 gap-2\">\n                    <TabsTrigger value=\"details\" className=\"px-4 py-2 text-xs sm:text-sm whitespace-nowrap\">Detalles</TabsTrigger>\n                    <TabsTrigger value=\"billing\" className=\"px-4 py-2 text-xs sm:text-sm whitespace-nowrap\">Facturación</TabsTrigger>\n                    <TabsTrigger value=\"communications\" className=\"px-4 py-2 text-xs sm:text-sm whitespace-nowrap\">Comunicación</TabsTrigger>\n                    <TabsTrigger value=\"history\" className=\"px-4 py-2 text-xs sm:text-sm whitespace-nowrap\">Historial</TabsTrigger>\n                  </TabsList>\n                </div>\n              </div>\n\n              <TabsContent value=\"details\" className=\"flex-1 overflow-y-auto px-6 py-4 mt-0\">\n                <div className=\"grid gap-6 md:grid-cols-2 pb-6\">\n                  {/* Left Column */}\n                  <div className=\"flex flex-col gap-6\">\n                    {/* Personal Info */}\n                    <div className=\"flex flex-col gap-4\">\n                      <h3 className=\"font-semibold flex items-center gap-2 text-primary border-b pb-2\">\n                        <User className=\"h-4 w-4\" /> Información Personal\n                      </h3>\n                      <Card className=\"bg-muted/30\">\n                        <CardContent className=\"p-4 space-y-4\">\n                          <div className=\"space-y-2\">\n                            <Label htmlFor=\"first-name\" className=\"text-sm font-medium\">Nombre</Label>\n                            <Input\n                              id=\"first-name\"\n                              value={profileForm.first_name}\n                              onChange={(e) => setProfileForm({ ...profileForm, first_name: e.target.value })}\n                              className=\"h-9 bg-background\"\n                              placeholder=\"Nombre del cliente\"\n                            />\n                          </div>\n                          <div className=\"space-y-2\">\n                            <Label htmlFor=\"last-name\" className=\"text-sm font-medium\">Apellido</Label>\n                            <Input\n                              id=\"last-name\"\n                              value={profileForm.last_name}\n                              onChange={(e) => setProfileForm({ ...profileForm, last_name: e.target.value })}\n                              className=\"h-9 bg-background\"\n                              placeholder=\"Apellido del cliente\"\n                            />\n                          </div>\n                          <div className=\"space-y-2\">\n                            <Label htmlFor=\"email\" className=\"text-sm font-medium\">Email</Label>\n                            <Input\n                              id=\"email\"\n                              type=\"email\"\n                              value={profileForm.email}\n                              onChange={(e) => setProfileForm({ ...profileForm, email: e.target.value })}\n                              className=\"h-9 bg-background\"\n                              placeholder=\"correo@ejemplo.com\"\n                            />\n                          </div>\n                          <div className=\"space-y-2\">\n                            <Label htmlFor=\"whatsapp\" className=\"text-sm font-medium\">WhatsApp</Label>\n                            <Input\n                              id=\"whatsapp\"\n                              value={profileForm.whatsapp}\n                              onChange={(e) => setProfileForm({ ...profileForm, whatsapp: e.target.value })}\n                              className=\"h-9 bg-background\"\n                              placeholder=\"+51 999 999 999\"\n                            />\n                          </div>\n                          <div className=\"pt-2 border-t space-y-2\">\n                            <div className=\"flex justify-between items-center text-sm\">\n                              <span className=\"text-muted-foreground\">Rol:</span>\n                              <Badge variant=\"outline\" className=\"capitalize\">{selectedUser.role}</Badge>\n                            </div>\n                            <div className=\"flex justify-between items-center text-sm\">\n                              <span className=\"text-muted-foreground\">Registro:</span>\n                              <span className=\"font-medium\">\n                                {selectedUser.created_at ? format(new Date(selectedUser.created_at), 'dd/MM/yyyy', { locale: es }) : '-'}\n                              </span>\n                            </div>\n                          </div>\n                          <div className=\"pt-2\">\n                            <Button onClick={handleUpdateProfile} disabled={isSubmitting} className=\"w-full\" size=\"sm\">\n                              <Save className=\"mr-2 h-4 w-4\" /> Guardar Información Personal\n                            </Button>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    </div>\n\n                    {/* IPTV Credentials */}\n                    <div className=\"flex flex-col gap-4\">\n                      <h3 className=\"font-semibold flex items-center gap-2 text-primary border-b pb-2\">\n                        <Tv className=\"h-4 w-4\" /> Credenciales IPTV\n                      </h3>\n                      <Card className=\"bg-muted/30\">\n                        <CardContent className=\"p-4 space-y-4\">\n                          <div className=\"space-y-2\">\n                            <Label className=\"text-sm font-medium\">Usuario IPTV</Label>\n                            <Input\n                              value={iptvForm.username}\n                              onChange={(e) => setIptvForm({ ...iptvForm, username: e.target.value })}\n                              className=\"bg-background\"\n                              placeholder=\"Usuario del servicio\"\n                            />\n                          </div>\n                          <div className=\"space-y-2\">\n                            <Label className=\"text-sm font-medium\">Contraseña IPTV</Label>\n                            <div className=\"flex gap-2\">\n                              <Input\n                                value={iptvForm.password}\n                                onChange={(e) => setIptvForm({ ...iptvForm, password: e.target.value })}\n                                className=\"bg-background\"\n                                placeholder=\"Contraseña del servicio\"\n                              />\n                              <Button variant=\"outline\" size=\"icon\" onClick={() => setIptvForm({ ...iptvForm, password: 'Temp' + Math.random().toString(36).slice(-8) })}>\n                                <RefreshCw className=\"h-4 w-4\" />\n                              </Button>\n                            </div>\n                          </div>\n                          <div className=\"pt-2\">\n                            <Button onClick={handleUpdateIptvCredentials} disabled={isSubmitting} className=\"w-full\" size=\"sm\">\n                              <Save className=\"mr-2 h-4 w-4\" /> Actualizar Credenciales\n                            </Button>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    </div>\n                  </div>\n\n                  {/* Right Column */}\n                  <div className=\"flex flex-col gap-6\">\n                    {/* Subscription Info */}\n                    <div className=\"flex flex-col gap-4\">\n                      <h3 className=\"font-semibold flex items-center gap-2 text-primary border-b pb-2\">\n                        <CreditCard className=\"h-4 w-4\" /> Suscripción Actual\n                      </h3>\n                      <Card className=\"bg-muted/30\">\n                        <CardContent className=\"p-4 space-y-4\">\n                          {selectedUser.subscription ? (\n                            <>\n                              <div className=\"space-y-2\">\n                                <Label className=\"text-sm font-medium\">Plan</Label>\n                                <div className=\"flex gap-2\">\n                                  <Select\n                                    value={planForm.plan_name}\n                                    onValueChange={(val) => setPlanForm({ plan_name: val })}\n                                  >\n                                    <SelectTrigger className=\"h-9 flex-1 bg-background\">\n                                      <SelectValue placeholder=\"Seleccionar plan\" />\n                                    </SelectTrigger>\n                                    <SelectContent>\n                                      {availablePlans.map(plan => (\n                                        <SelectItem key={plan.id} value={plan.name}>{plan.name}</SelectItem>\n                                      ))}\n                                    </SelectContent>\n                                  </Select>\n                                  <Button size=\"sm\" onClick={handleUpdatePlan} disabled={isSubmitting || planForm.plan_name === selectedUser.subscription.plan_name} className=\"h-9\">\n                                    Aplicar\n                                  </Button>\n                                </div>\n                              </div>\n\n                              <div className=\"space-y-2\">\n                                <Label className=\"text-sm font-medium\">Precio Mensual</Label>\n                                <div className=\"flex gap-2\">\n                                  <div className=\"relative flex-1\">\n                                    <DollarSign className=\"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-muted-foreground\" />\n                                    <Input\n                                      type=\"number\"\n                                      step=\"0.01\"\n                                      value={priceForm.price}\n                                      onChange={(e) => setPriceForm({ price: e.target.value })}\n                                      className=\"h-9 pl-7 bg-background\"\n                                    />\n                                  </div>\n                                  <Button size=\"sm\" onClick={handleUpdatePrice} disabled={isSubmitting} className=\"h-9 px-4\">\n                                    Guardar\n                                  </Button>\n                                </div>\n                              </div>\n\n                              <div className=\"space-y-2\">\n                                <Label className=\"text-sm font-medium\">Próximo Pago</Label>\n                                <div className=\"flex gap-2\">\n                                  <Input\n                                    type=\"date\"\n                                    value={billingDateForm.date}\n                                    onChange={(e) => setBillingDateForm({ date: e.target.value })}\n                                    className=\"h-9 flex-1 bg-background\"\n                                  />\n                                  <Button size=\"sm\" onClick={handleUpdateBillingDate} disabled={isSubmitting} className=\"h-9 px-4\">\n                                    Guardar\n                                  </Button>\n                                </div>\n                              </div>\n\n                              <div className=\"pt-3 border-t space-y-2\">\n                                <Label className=\"text-sm font-medium\">Estado de Suscripción</Label>\n                                <div className=\"flex flex-wrap gap-2\">\n                                  <Button\n                                    size=\"sm\"\n                                    variant={selectedUser.subscription.status === 'active' ? 'default' : 'outline'}\n                                    className={`h-8 flex-1 ${selectedUser.subscription.status === 'active' ? 'bg-green-600 hover:bg-green-700' : 'text-green-600 border-green-200 hover:bg-green-50'}`}\n                                    onClick={() => handleUpdateStatus('active')}\n                                    disabled={isSubmitting}\n                                  >\n                                    Activo\n                                  </Button>\n                                  <Button\n                                    size=\"sm\"\n                                    variant={selectedUser.subscription.status === 'inactive' ? 'default' : 'outline'}\n                                    className={`h-8 flex-1 ${selectedUser.subscription.status === 'inactive' ? 'bg-yellow-600 hover:bg-yellow-700' : 'text-yellow-600 border-yellow-200 hover:bg-yellow-50'}`}\n                                    onClick={() => handleUpdateStatus('inactive')}\n                                    disabled={isSubmitting}\n                                  >\n                                    Inactivo\n                                  </Button>\n                                  <Button\n                                    size=\"sm\"\n                                    variant={selectedUser.subscription.status === 'cancelled' ? 'default' : 'outline'}\n                                    className={`h-8 flex-1 ${selectedUser.subscription.status === 'cancelled' ? 'bg-red-600 hover:bg-red-700' : 'text-red-600 border-red-200 hover:bg-red-50'}`}\n                                    onClick={() => handleUpdateStatus('cancelled')}\n                                    disabled={isSubmitting}\n                                  >\n                                    Cancelado\n                                  </Button>\n                                </div>\n                              </div>\n                            </>\n                          ) : (\n                            <div className=\"space-y-4\">\n                              <div className=\"text-center py-4 text-muted-foreground border-b mb-4\">\n                                <CreditCard className=\"h-8 w-8 mx-auto mb-2 opacity-20\" />\n                                <p className=\"text-sm\">El usuario no tiene una suscripción activa</p>\n                              </div>\n\n                              <div className=\"space-y-2\">\n                                <Label className=\"text-sm font-medium\">Agregar Suscripción Manual</Label>\n                                <div className=\"grid gap-4\">\n                                  <div className=\"space-y-2\">\n                                    <Label className=\"text-xs text-muted-foreground\">Plan</Label>\n                                    <Select\n                                      value={planForm.plan_name}\n                                      onValueChange={(val) => {\n                                        const plan = availablePlans.find(p => p.name === val)\n                                        setPlanForm({ plan_name: val })\n                                        if (plan) setPriceForm({ price: plan.price.toString() })\n                                      }}\n                                    >\n                                      <SelectTrigger className=\"h-9 bg-background\">\n                                        <SelectValue placeholder=\"Seleccionar plan\" />\n                                      </SelectTrigger>\n                                      <SelectContent>\n                                        {availablePlans.map(plan => (\n                                          <SelectItem key={plan.id} value={plan.name}>{plan.name} - ${plan.price}</SelectItem>\n                                        ))}\n                                      </SelectContent>\n                                    </Select>\n                                  </div>\n                                  <div className=\"space-y-2\">\n                                    <Label className=\"text-xs text-muted-foreground\">Precio Acordado</Label>\n                                    <div className=\"relative\">\n                                      <DollarSign className=\"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-muted-foreground\" />\n                                      <Input\n                                        type=\"number\"\n                                        step=\"0.01\"\n                                        value={priceForm.price}\n                                        onChange={(e) => setPriceForm({ price: e.target.value })}\n                                        className=\"h-9 pl-7 bg-background\"\n                                        placeholder=\"0.00\"\n                                      />\n                                    </div>\n                                  </div>\n                                  <Button\n                                    onClick={handleCreateSubscription}\n                                    disabled={isSubmitting || !planForm.plan_name}\n                                    className=\"w-full\"\n                                  >\n                                    <Plus className=\"mr-2 h-4 w-4\" /> Crear Suscripción\n                                  </Button>\n                                </div>\n                              </div>\n                            </div>\n                          )}\n                        </CardContent>\n                      </Card>\n                    </div>\n\n                    {/* Security */}\n                    <div className=\"flex flex-col gap-4\">\n                      <h3 className=\"font-semibold flex items-center gap-2 text-primary border-b pb-2\">\n                        <Lock className=\"h-4 w-4\" /> Seguridad de la Cuenta\n                      </h3>\n                      <Card className=\"bg-muted/30\">\n                        <CardContent className=\"p-4 space-y-4\">\n                          <div className=\"flex items-center justify-between p-3 border rounded-lg bg-background\">\n                            <div className=\"space-y-1\">\n                              <h4 className=\"font-medium text-sm\">Restablecer Contraseña</h4>\n                              <p className=\"text-xs text-muted-foreground\">\n                                Envía correo para nueva contraseña.\n                              </p>\n                            </div>\n                            <Button onClick={handleSendPasswordReset} disabled={isSubmitting} size=\"sm\" variant=\"outline\">\n                              <Mail className=\"mr-2 h-3 w-3\" /> Enviar\n                            </Button>\n                          </div>\n\n                          <div className=\"flex items-center justify-between p-3 border rounded-lg bg-background\">\n                            <div className=\"space-y-1 flex-1 mr-4\">\n                              <h4 className=\"font-medium text-sm\">Cambio Manual de Contraseña</h4>\n                              <p className=\"text-xs text-muted-foreground mb-2\">\n                                Establece una nueva contraseña directamente.\n                              </p>\n                              <div className=\"flex gap-2\">\n                                <Input\n                                  type=\"text\"\n                                  placeholder=\"Nueva contraseña\"\n                                  value={manualPassword}\n                                  onChange={(e) => setManualPassword(e.target.value)}\n                                  className=\"h-8 text-sm\"\n                                />\n                                <Button\n                                  variant=\"outline\"\n                                  size=\"icon\"\n                                  className=\"h-8 w-8 shrink-0\"\n                                  onClick={() => setManualPassword(Math.random().toString(36).slice(-8) + Math.random().toString(36).slice(-8))}\n                                  title=\"Generar aleatoria\"\n                                >\n                                  <RefreshCw className=\"h-3 w-3\" />\n                                </Button>\n                              </div>\n                            </div>\n                            <Button\n                              onClick={handleManualPasswordUpdate}\n                              disabled={isSubmitting || !manualPassword}\n                              size=\"sm\"\n                              variant=\"default\"\n                            >\n                              <Save className=\"mr-2 h-3 w-3\" /> Guardar\n                            </Button>\n                          </div>\n\n                          <div className=\"flex items-center justify-between p-3 border rounded-lg bg-red-50 border-red-100\">\n                            <div className=\"space-y-1\">\n                              <h4 className=\"font-medium text-sm text-red-700\">Zona de Peligro</h4>\n                              <p className=\"text-xs text-red-600/80\">\n                                Acciones críticas de cuenta.\n                              </p>\n                            </div>\n                            <Button variant=\"destructive\" size=\"sm\">\n                              <Shield className=\"mr-2 h-3 w-3\" /> Suspender\n                            </Button>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    </div>\n                  </div>\n                </div>\n              </TabsContent>\n\n              <TabsContent value=\"billing\" className=\"space-y-4 py-4\">\n                <div className=\"space-y-6\">\n                  {/* Current Payment Info */}\n                  <div className=\"space-y-4\">\n                    <h3 className=\"font-semibold flex items-center gap-2 text-primary border-b pb-2\">\n                      <DollarSign className=\"h-4 w-4\" /> Información de Pago Actual\n                    </h3>\n                    <div className=\"grid gap-4 md:grid-cols-2\">\n                      <Card className=\"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200\">\n                        <CardContent className=\"p-4\">\n                          <div className=\"flex items-center justify-between mb-2\">\n                            <span className=\"text-sm text-green-700 font-medium\">Precio Actual</span>\n                            <DollarSign className=\"h-5 w-5 text-green-600\" />\n                          </div>\n                          <div className=\"text-3xl font-bold text-green-900\">\n                            ${selectedUser.subscription?.price.toFixed(2) || '0.00'}\n                          </div>\n                          <p className=\"text-xs text-green-600 mt-1\">por mes</p>\n                        </CardContent>\n                      </Card>\n\n                      <Card className=\"bg-gradient-to-br from-blue-50 to-cyan-50 border-blue-200\">\n                        <CardContent className=\"p-4\">\n                          <div className=\"flex items-center justify-between mb-2\">\n                            <span className=\"text-sm text-blue-700 font-medium\">Último Pago</span>\n                            <FileText className=\"h-5 w-5 text-blue-600\" />\n                          </div>\n                          <div className=\"text-3xl font-bold text-blue-900\">\n                            ${userInvoices.length > 0 && userInvoices[0].status === 'paid' ? userInvoices[0].amount.toFixed(2) : '0.00'}\n                          </div>\n                          <p className=\"text-xs text-blue-600 mt-1\">\n                            {userInvoices.length > 0 && userInvoices[0].status === 'paid'\n                              ? format(new Date(userInvoices[0].created_at), 'dd/MM/yyyy', { locale: es })\n                              : 'Sin pagos registrados'}\n                          </p>\n                        </CardContent>\n                      </Card>\n                    </div>\n\n                    {/* Coupon/Promotion Info */}\n                    {userInvoices.length > 0 && userInvoices[0].description && (\n                      <Card className=\"border-orange-200 bg-orange-50/50\">\n                        <CardContent className=\"p-4\">\n                          <div className=\"flex items-start gap-3\">\n                            <Tag className=\"h-5 w-5 text-orange-600 mt-0.5\" />\n                            <div className=\"flex-1\">\n                              <h4 className=\"font-semibold text-orange-900 mb-1\">Descuentos Aplicados</h4>\n                              <p className=\"text-sm text-orange-700\">{userInvoices[0].description}</p>\n                            </div>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    )}\n                  </div>\n\n                  {/* Invoices History */}\n                  <div className=\"space-y-4\">\n                    <h3 className=\"font-semibold flex items-center gap-2 text-primary border-b pb-2\">\n                      <FileText className=\"h-4 w-4\" /> Historial de Facturas\n                    </h3>\n                    <Card>\n                      <CardContent className=\"p-0\">\n                        {loadingInvoices ? (\n                          <div className=\"p-8 text-center\">\n                            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto\"></div>\n                          </div>\n                        ) : (\n                          <div className=\"overflow-x-auto\">\n                            <Table>\n                              <TableHeader>\n                                <TableRow>\n                                  <TableHead className=\"w-[120px]\">Fecha</TableHead>\n                                  <TableHead className=\"w-[100px]\">Monto</TableHead>\n                                  <TableHead className=\"w-[100px]\">Estado</TableHead>\n                                  <TableHead>Descripción</TableHead>\n                                  <TableHead className=\"w-[120px]\">Vencimiento</TableHead>\n                                </TableRow>\n                              </TableHeader>\n                              <TableBody>\n                                {userInvoices.length === 0 ? (\n                                  <TableRow>\n                                    <TableCell colSpan={5} className=\"text-center py-8 text-muted-foreground\">\n                                      <FileText className=\"h-8 w-8 mx-auto mb-2 opacity-20\" />\n                                      <p className=\"text-sm\">No hay facturas registradas</p>\n                                    </TableCell>\n                                  </TableRow>\n                                ) : (\n                                  userInvoices.map((invoice) => (\n                                    <TableRow key={invoice.id}>\n                                      <TableCell className=\"font-medium\">\n                                        {format(new Date(invoice.invoice_date || invoice.created_at), 'dd/MM/yyyy', { locale: es })}\n                                      </TableCell>\n                                      <TableCell className=\"font-bold text-green-600\">\n                                        ${invoice.amount.toFixed(2)}\n                                      </TableCell>\n                                      <TableCell>\n                                        <Badge\n                                          className={\n                                            invoice.status === 'paid'\n                                              ? 'bg-green-500/10 text-green-600 hover:bg-green-500/20'\n                                              : invoice.status === 'pending'\n                                                ? 'bg-yellow-500/10 text-yellow-600 hover:bg-yellow-500/20'\n                                                : 'bg-red-500/10 text-red-600 hover:bg-red-500/20'\n                                          }\n                                        >\n                                          {invoice.status === 'paid' ? 'Pagado' : invoice.status === 'pending' ? 'Pendiente' : 'Fallido'}\n                                        </Badge>\n                                      </TableCell>\n                                      <TableCell className=\"max-w-xs truncate text-sm text-muted-foreground\">\n                                        {invoice.description || 'Pago de suscripción'}\n                                      </TableCell>\n                                      <TableCell className=\"text-sm text-muted-foreground\">\n                                        {invoice.due_date ? format(new Date(invoice.due_date), 'dd/MM/yyyy', { locale: es }) : '-'}\n                                      </TableCell>\n                                    </TableRow>\n                                  ))\n                                )}\n                              </TableBody>\n                            </Table>\n                          </div>\n                        )}\n                      </CardContent>\n                    </Card>\n                  </div>\n                </div>\n              </TabsContent>\n\n              <TabsContent value=\"billing\" className=\"flex-1 overflow-y-auto px-6 py-4 space-y-6 mt-0\">\n                <div className=\"space-y-6\">\n                  <div className=\"space-y-4\">\n                    <h3 className=\"font-semibold flex items-center gap-2 text-primary border-b pb-2\">\n                      <FileText className=\"h-4 w-4\" /> Historial de Facturas\n                    </h3>\n                    <Card>\n                      <CardContent className=\"p-0\">\n                        {loadingInvoices ? (\n                          <div className=\"p-8 text-center\">\n                            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto\"></div>\n                          </div>\n                        ) : (\n                          <div className=\"overflow-x-auto\">\n                            <Table>\n                              <TableHeader>\n                                <TableRow>\n                                  <TableHead className=\"w-[120px]\">Fecha</TableHead>\n                                  <TableHead className=\"w-[100px]\">Monto</TableHead>\n                                  <TableHead className=\"w-[100px]\">Estado</TableHead>\n                                  <TableHead>Descripción</TableHead>\n                                  <TableHead className=\"w-[120px]\">Vencimiento</TableHead>\n                                </TableRow>\n                              </TableHeader>\n                              <TableBody>\n                                {userInvoices.length === 0 ? (\n                                  <TableRow>\n                                    <TableCell colSpan={5} className=\"text-center py-8 text-muted-foreground\">\n                                      <FileText className=\"h-8 w-8 mx-auto mb-2 opacity-20\" />\n                                      <p className=\"text-sm\">No hay facturas registradas</p>\n                                    </TableCell>\n                                  </TableRow>\n                                ) : (\n                                  userInvoices.map((invoice) => (\n                                    <TableRow key={invoice.id}>\n                                      <TableCell className=\"font-medium\">\n                                        {format(new Date(invoice.invoice_date || invoice.created_at), 'dd/MM/yyyy', { locale: es })}\n                                      </TableCell>\n                                      <TableCell className=\"font-bold text-green-600\">\n                                        ${invoice.amount.toFixed(2)}\n                                      </TableCell>\n                                      <TableCell>\n                                        <Badge\n                                          className={\n                                            invoice.status === 'paid'\n                                              ? 'bg-green-500/10 text-green-600 hover:bg-green-500/20'\n                                              : invoice.status === 'pending'\n                                                ? 'bg-yellow-500/10 text-yellow-600 hover:bg-yellow-500/20'\n                                                : 'bg-red-500/10 text-red-600 hover:bg-red-500/20'\n                                          }\n                                        >\n                                          {invoice.status === 'paid' ? 'Pagado' : invoice.status === 'pending' ? 'Pendiente' : 'Fallido'}\n                                        </Badge>\n                                      </TableCell>\n                                      <TableCell className=\"max-w-xs truncate text-sm text-muted-foreground\">\n                                        {invoice.description || 'Pago de suscripción'}\n                                      </TableCell>\n                                      <TableCell className=\"text-sm text-muted-foreground\">\n                                        {invoice.due_date ? format(new Date(invoice.due_date), 'dd/MM/yyyy', { locale: es }) : '-'}\n                                      </TableCell>\n                                    </TableRow>\n                                  ))\n                                )}\n                              </TableBody>\n                            </Table>\n                          </div>\n                        )}\n                      </CardContent>\n                    </Card>\n                  </div>\n                </div>\n              </TabsContent>\n\n              <TabsContent value=\"communications\" className=\"flex-1 overflow-y-auto px-6 py-4 space-y-4 mt-0\">\n                <div className=\"grid gap-6 md:grid-cols-2\">\n                  <div className=\"space-y-4\">\n                    <h3 className=\"font-semibold flex items-center gap-2 text-primary border-b pb-2\">\n                      <Bell className=\"h-4 w-4\" /> Enviar Notificación al Dashboard\n                    </h3>\n                    <Card>\n                      <CardContent className=\"p-6 space-y-4\">\n                        <div className=\"space-y-2\">\n                          <Label>Título</Label>\n                          <Input\n                            placeholder=\"Ej: Mantenimiento programado\"\n                            value={notificationForm.title}\n                            onChange={(e) => setNotificationForm({ ...notificationForm, title: e.target.value })}\n                          />\n                        </div>\n                        <div className=\"space-y-2\">\n                          <Label>Tipo</Label>\n                          <Select\n                            value={notificationForm.type}\n                            onValueChange={(val) => setNotificationForm({ ...notificationForm, type: val })}\n                          >\n                            <SelectTrigger>\n                              <SelectValue />\n                            </SelectTrigger>\n                            <SelectContent>\n                              <SelectItem value=\"info\">Información</SelectItem>\n                              <SelectItem value=\"success\">Éxito</SelectItem>\n                              <SelectItem value=\"warning\">Advertencia</SelectItem>\n                              <SelectItem value=\"error\">Error</SelectItem>\n                            </SelectContent>\n                          </Select>\n                        </div>\n                        <div className=\"space-y-2\">\n                          <Label>Mensaje</Label>\n                          <Textarea\n                            placeholder=\"Escribe el mensaje para el usuario...\"\n                            value={notificationForm.message}\n                            onChange={(e) => setNotificationForm({ ...notificationForm, message: e.target.value })}\n                          />\n                        </div>\n                        <Button className=\"w-full\" onClick={handleSendNotification} disabled={isSubmitting}>\n                          <Send className=\"mr-2 h-4 w-4\" /> Enviar Notificación\n                        </Button>\n                      </CardContent>\n                    </Card>\n                  </div>\n\n                  <div className=\"space-y-4\">\n                    <h3 className=\"font-semibold flex items-center gap-2 text-primary border-b pb-2\">\n                      <Mail className=\"h-4 w-4\" /> Enviar Correo Electrónico\n                    </h3>\n                    <Card>\n                      <CardContent className=\"p-6 space-y-4\">\n                        <div className=\"space-y-2\">\n                          <Label>Asunto</Label>\n                          <Input placeholder=\"Ej: Importante sobre tu cuenta\" />\n                        </div>\n                        <div className=\"space-y-2\">\n                          <Label>Contenido</Label>\n                          <Textarea\n                            placeholder=\"Escribe el contenido del correo...\"\n                            className=\"min-h-[120px]\"\n                          />\n                        </div>\n                        <Button variant=\"outline\" className=\"w-full\" onClick={handleSendEmail} disabled={isSubmitting}>\n                          <Mail className=\"mr-2 h-4 w-4\" /> Enviar Email\n                        </Button>\n                      </CardContent>\n                    </Card>\n                  </div>\n                </div>\n              </TabsContent>\n\n              <TabsContent value=\"history\" className=\"flex-1 overflow-y-auto px-6 py-4 space-y-4 mt-0\">\n                <div className=\"space-y-4\">\n                  <h3 className=\"font-semibold flex items-center gap-2 text-primary border-b pb-2\">\n                    <History className=\"h-4 w-4\" /> Registro de Cambios\n                  </h3>\n                  <Card>\n                    <CardContent className=\"p-0\">\n                      {loadingLogs ? (\n                        <div className=\"p-8 text-center\">\n                          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto\"></div>\n                        </div>\n                      ) : (\n                        <div className=\"overflow-x-auto\">\n                          <Table>\n                            <TableHeader>\n                              <TableRow>\n                                <TableHead className=\"whitespace-nowrap\">Fecha</TableHead>\n                                <TableHead>Acción</TableHead>\n                                <TableHead>Detalles</TableHead>\n                                <TableHead>Admin</TableHead>\n                              </TableRow>\n                            </TableHeader>\n                            <TableBody>\n                              {userLogs.length === 0 ? (\n                                <TableRow>\n                                  <TableCell colSpan={4} className=\"text-center py-8 text-muted-foreground\">\n                                    No hay registros de cambios para este usuario\n                                  </TableCell>\n                                </TableRow>\n                              ) : (\n                                userLogs.map((log) => (\n                                  <TableRow key={log.id}>\n                                    <TableCell className=\"whitespace-nowrap text-sm\">\n                                      {format(new Date(log.created_at), 'dd/MM/yyyy HH:mm', { locale: es })}\n                                    </TableCell>\n                                    <TableCell>\n                                      <Badge variant=\"outline\" className=\"capitalize text-xs\">\n                                        {log.action.replace(/_/g, ' ')}\n                                      </Badge>\n                                    </TableCell>\n                                    <TableCell className=\"max-w-[300px]\">\n                                      <div className=\"text-sm break-all whitespace-normal\" title={JSON.stringify(log.details)}>\n                                        {formatLogDetails(log.action, log.details)}\n                                      </div>\n                                    </TableCell>\n                                    <TableCell className=\"text-xs text-muted-foreground whitespace-nowrap\">\n                                      {log.admin_id ? 'Admin' : 'Sistema'}\n                                    </TableCell>\n                                  </TableRow>\n                                ))\n                              )}\n                            </TableBody>\n                          </Table>\n                        </div>\n                      )}\n                    </CardContent>\n                  </Card>\n                </div>\n              </TabsContent>\n            </Tabs>\n          )}\n\n          <DialogFooter className=\"px-6 py-4 border-t bg-background\">\n            <Button variant=\"outline\" onClick={() => setIsDetailsOpen(false)}>Cerrar</Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n      <Dialog open={isCreateUserOpen} onOpenChange={setIsCreateUserOpen}>\n        <DialogContent className=\"max-w-[95vw] sm:max-w-2xl max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle>Agregar Nuevo Usuario</DialogTitle>\n            <DialogDescription>\n              Crea un nuevo usuario manualmente. Se creará la cuenta de acceso y opcionalmente la suscripción.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"grid gap-6 py-4\">\n            <div className=\"grid gap-4\">\n              <h3 className=\"text-sm font-medium text-muted-foreground border-b pb-2\">Credenciales de Acceso (Obligatorio)</h3>\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"new-email\">Email <span className=\"text-red-500\">*</span></Label>\n                  <Input\n                    id=\"new-email\"\n                    type=\"email\"\n                    placeholder=\"cliente@ejemplo.com\"\n                    value={createUserForm.email}\n                    onChange={(e) => setCreateUserForm({ ...createUserForm, email: e.target.value })}\n                    required\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"new-password\">Contraseña <span className=\"text-red-500\">*</span></Label>\n                  <Input\n                    id=\"new-password\"\n                    type=\"text\"\n                    placeholder=\"Contraseña segura\"\n                    value={createUserForm.password}\n                    onChange={(e) => setCreateUserForm({ ...createUserForm, password: e.target.value })}\n                    required\n                  />\n                  <p className=\"text-[10px] text-muted-foreground\">Mínimo 6 caracteres</p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"grid gap-4\">\n              <h3 className=\"text-sm font-medium text-muted-foreground border-b pb-2\">Información Personal</h3>\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"new-firstname\">Nombre</Label>\n                  <Input\n                    id=\"new-firstname\"\n                    placeholder=\"Juan\"\n                    value={createUserForm.first_name}\n                    onChange={(e) => setCreateUserForm({ ...createUserForm, first_name: e.target.value })}\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"new-lastname\">Apellido</Label>\n                  <Input\n                    id=\"new-lastname\"\n                    placeholder=\"Pérez\"\n                    value={createUserForm.last_name}\n                    onChange={(e) => setCreateUserForm({ ...createUserForm, last_name: e.target.value })}\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"new-whatsapp\">WhatsApp</Label>\n                  <Input\n                    id=\"new-whatsapp\"\n                    placeholder=\"+593...\"\n                    value={createUserForm.whatsapp}\n                    onChange={(e) => setCreateUserForm({ ...createUserForm, whatsapp: e.target.value })}\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"grid gap-4\">\n              <h3 className=\"text-sm font-medium text-muted-foreground border-b pb-2\">Suscripción Inicial (Opcional)</h3>\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label>Plan</Label>\n                  <Select\n                    value={createUserForm.plan_id}\n                    onValueChange={(val) => {\n                      const plan = availablePlans.find(p => p.id === val)\n                      setCreateUserForm({\n                        ...createUserForm,\n                        plan_id: val,\n                        price: plan ? plan.price.toString() : ''\n                      })\n                    }}\n                  >\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"Seleccionar plan\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {availablePlans.map(plan => (\n                        <SelectItem key={plan.id} value={plan.id}>{plan.name} - ${plan.price}</SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"new-price\">Precio Acordado</Label>\n                  <div className=\"relative\">\n                    <DollarSign className=\"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground\" />\n                    <Input\n                      id=\"new-price\"\n                      className=\"pl-9\"\n                      placeholder=\"0.00\"\n                      value={createUserForm.price}\n                      onChange={(e) => setCreateUserForm({ ...createUserForm, price: e.target.value })}\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"grid gap-4\">\n              <h3 className=\"text-sm font-medium text-muted-foreground border-b pb-2\">Credenciales IPTV (Opcional)</h3>\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"new-iptv-user\">Usuario IPTV</Label>\n                  <Input\n                    id=\"new-iptv-user\"\n                    placeholder=\"user123\"\n                    value={createUserForm.iptv_username}\n                    onChange={(e) => setCreateUserForm({ ...createUserForm, iptv_username: e.target.value })}\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"new-iptv-pass\">Contraseña IPTV</Label>\n                  <Input\n                    id=\"new-iptv-pass\"\n                    placeholder=\"pass123\"\n                    value={createUserForm.iptv_password}\n                    onChange={(e) => setCreateUserForm({ ...createUserForm, iptv_password: e.target.value })}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setIsCreateUserOpen(false)}>Cancelar</Button>\n            <Button onClick={handleCreateUser} disabled={isSubmitting}>\n              {isSubmitting ? 'Creando...' : 'Crear Usuario'}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 10006, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/components/admin/admin-overview.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { createBrowserClient } from '@/lib/supabase/client'\nimport { Users, Package, Ticket, Gift, DollarSign, TrendingUp } from 'lucide-react'\n\nexport default function AdminOverview() {\n  const [stats, setStats] = useState({\n    totalUsers: 0,\n    activePlans: 0,\n    activePromotions: 0,\n    activeCoupons: 0,\n    monthlyRevenue: 0,\n  })\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    loadStats()\n  }, [])\n\n  const loadStats = async () => {\n    const supabase = createBrowserClient()\n\n    const [subscriptionsResult, plansResult, promotionsResult, couponsResult] = await Promise.all([\n      supabase.from('subscriptions').select('user_id', { count: 'exact' }),\n      supabase.from('plans').select('*', { count: 'exact' }),\n      supabase.from('promotions').select('*', { count: 'exact' }).eq('active', true),\n      supabase.from('coupons').select('*', { count: 'exact' }).eq('active', true),\n    ])\n\n    const uniqueUsers = subscriptionsResult.data \n      ? new Set(subscriptionsResult.data.map(sub => sub.user_id)).size \n      : 0\n\n    setStats({\n      totalUsers: uniqueUsers,\n      activePlans: plansResult.count || plansResult.data?.length || 0,\n      activePromotions: promotionsResult.count || promotionsResult.data?.length || 0,\n      activeCoupons: couponsResult.count || couponsResult.data?.length || 0,\n      monthlyRevenue: 0, // TODO: Calcular desde invoices\n    })\n    setLoading(false)\n  }\n\n  const statCards = [\n    {\n      title: 'Usuarios Totales',\n      value: stats.totalUsers,\n      icon: Users,\n      color: 'text-blue-600',\n      bgColor: 'bg-blue-50',\n    },\n    {\n      title: 'Paquetes Activos',\n      value: stats.activePlans,\n      icon: Package,\n      color: 'text-purple-600',\n      bgColor: 'bg-purple-50',\n    },\n    {\n      title: 'Promociones Activas',\n      value: stats.activePromotions,\n      icon: Ticket,\n      color: 'text-orange-600',\n      bgColor: 'bg-orange-50',\n    },\n    {\n      title: 'Cupones Activos',\n      value: stats.activeCoupons,\n      icon: Gift,\n      color: 'text-green-600',\n      bgColor: 'bg-green-50',\n    },\n  ]\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-4\">\n      {statCards.map((stat) => (\n        <Card key={stat.title} className=\"hover:shadow-lg transition-shadow\">\n          <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">\n              {stat.title}\n            </CardTitle>\n            <div className={`${stat.bgColor} p-2 rounded-lg`}>\n              <stat.icon className={`h-5 w-5 ${stat.color}`} />\n            </div>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold\">{stat.value}</div>\n          </CardContent>\n        </Card>\n      ))}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,gTAAQ,EAAC;QACjC,YAAY;QACZ,aAAa;QACb,kBAAkB;QAClB,eAAe;QACf,gBAAgB;IAClB;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gTAAQ,EAAC;IAEvC,IAAA,iTAAS;mCAAC;YACR;QACF;kCAAG,EAAE;IAEL,MAAM,YAAY;QAChB,MAAM,WAAW,IAAA,2JAAmB;QAEpC,MAAM,CAAC,qBAAqB,aAAa,kBAAkB,cAAc,GAAG,MAAM,QAAQ,GAAG,CAAC;YAC5F,SAAS,IAAI,CAAC,iBAAiB,MAAM,CAAC,WAAW;gBAAE,OAAO;YAAQ;YAClE,SAAS,IAAI,CAAC,SAAS,MAAM,CAAC,KAAK;gBAAE,OAAO;YAAQ;YACpD,SAAS,IAAI,CAAC,cAAc,MAAM,CAAC,KAAK;gBAAE,OAAO;YAAQ,GAAG,EAAE,CAAC,UAAU;YACzE,SAAS,IAAI,CAAC,WAAW,MAAM,CAAC,KAAK;gBAAE,OAAO;YAAQ,GAAG,EAAE,CAAC,UAAU;SACvE;QAED,MAAM,cAAc,oBAAoB,IAAI,GACxC,IAAI,IAAI,oBAAoB,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,IAAI,OAAO,GAAG,IAAI,GAC9D;QAEJ,SAAS;YACP,YAAY;YACZ,aAAa,YAAY,KAAK,IAAI,YAAY,IAAI,EAAE,UAAU;YAC9D,kBAAkB,iBAAiB,KAAK,IAAI,iBAAiB,IAAI,EAAE,UAAU;YAC7E,eAAe,cAAc,KAAK,IAAI,cAAc,IAAI,EAAE,UAAU;YACpE,gBAAgB;QAClB;QACA,WAAW;IACb;IAEA,MAAM,YAAY;QAChB;YACE,OAAO;YACP,OAAO,MAAM,UAAU;YACvB,MAAM,4SAAK;YACX,OAAO;YACP,SAAS;QACX;QACA;YACE,OAAO;YACP,OAAO,MAAM,WAAW;YACxB,MAAM,kTAAO;YACb,OAAO;YACP,SAAS;QACX;QACA;YACE,OAAO;YACP,OAAO,MAAM,gBAAgB;YAC7B,MAAM,+SAAM;YACZ,OAAO;YACP,SAAS;QACX;QACA;YACE,OAAO;YACP,OAAO,MAAM,aAAa;YAC1B,MAAM,ySAAI;YACV,OAAO;YACP,SAAS;QACX;KACD;IAED,IAAI,SAAS;QACX,qBACE,oUAAC;YAAI,WAAU;sBACb,cAAA,oUAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,qBACE,oUAAC;QAAI,WAAU;kBACZ,UAAU,GAAG,CAAC,CAAC,qBACd,oUAAC,4IAAI;gBAAkB,WAAU;;kCAC/B,oUAAC,kJAAU;wBAAC,WAAU;;0CACpB,oUAAC,iJAAS;gCAAC,WAAU;0CAClB,KAAK,KAAK;;;;;;0CAEb,oUAAC;gCAAI,WAAW,GAAG,KAAK,OAAO,CAAC,eAAe,CAAC;0CAC9C,cAAA,oUAAC,KAAK,IAAI;oCAAC,WAAW,CAAC,QAAQ,EAAE,KAAK,KAAK,EAAE;;;;;;;;;;;;;;;;;kCAGjD,oUAAC,mJAAW;kCACV,cAAA,oUAAC;4BAAI,WAAU;sCAAsB,KAAK,KAAK;;;;;;;;;;;;eAVxC,KAAK,KAAK;;;;;;;;;;AAgB7B;GAhGwB;KAAA","debugId":null}},
    {"offset": {"line": 10185, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Home/Downloads/iptv/components/admin-dashboard.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { Button } from '@/components/ui/button'\nimport { Package, Ticket, Gift, BarChart3, LogOut, Users } from 'lucide-react'\nimport PlansManagement from '@/components/admin/plans-management'\nimport PromotionsManagement from '@/components/admin/promotions-management'\nimport CouponsManagement from '@/components/admin/coupons-management'\nimport UsersManagement from '@/components/admin/users-management'\nimport AdminOverview from '@/components/admin/admin-overview'\nimport { createBrowserClient } from '@/lib/supabase/client'\nimport { useRouter } from 'next/navigation'\n\nexport default function AdminDashboard() {\n  const router = useRouter()\n\n  const handleLogout = async () => {\n    const supabase = createBrowserClient()\n    await supabase.auth.signOut()\n    router.push('/auth/login')\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4 md:p-8\">\n      <div className=\"max-w-7xl mx-auto space-y-8\">\n        <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n          <div>\n            <h1 className=\"text-2xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n              Panel de Administración\n            </h1>\n            <p className=\"text-sm md:text-base text-muted-foreground mt-1 md:mt-2\">\n              Gestiona paquetes, promociones, cupones y usuarios de tu servicio IPTV\n            </p>\n          </div>\n          <Button variant=\"outline\" onClick={handleLogout} className=\"gap-2 w-full md:w-auto\">\n            <LogOut className=\"h-4 w-4\" />\n            Cerrar Sesión\n          </Button>\n        </div>\n\n        {/* Tabs Navigation */}\n        <Tabs defaultValue=\"overview\" className=\"space-y-6\">\n          <div className=\"overflow-x-auto pb-2 -mx-4 px-4 md:mx-0 md:px-0 md:pb-0\">\n            <TabsList className=\"inline-flex h-auto w-auto p-1 min-w-full md:grid md:w-full md:grid-cols-5 gap-2\">\n              <TabsTrigger value=\"overview\" className=\"flex items-center gap-2 px-4 py-3 md:py-2 md:px-3\">\n                <BarChart3 className=\"h-4 w-4 shrink-0\" />\n                <span className=\"whitespace-nowrap inline md:hidden lg:inline\">Resumen</span>\n              </TabsTrigger>\n              <TabsTrigger value=\"users\" className=\"flex items-center gap-2 px-4 py-3 md:py-2 md:px-3\">\n                <Users className=\"h-4 w-4 shrink-0\" />\n                <span className=\"whitespace-nowrap inline md:hidden lg:inline\">Usuarios</span>\n              </TabsTrigger>\n              <TabsTrigger value=\"plans\" className=\"flex items-center gap-2 px-4 py-3 md:py-2 md:px-3\">\n                <Package className=\"h-4 w-4 shrink-0\" />\n                <span className=\"whitespace-nowrap inline md:hidden lg:inline\">Paquetes</span>\n              </TabsTrigger>\n              <TabsTrigger value=\"promotions\" className=\"flex items-center gap-2 px-4 py-3 md:py-2 md:px-3\">\n                <Ticket className=\"h-4 w-4 shrink-0\" />\n                <span className=\"whitespace-nowrap inline md:hidden lg:inline\">Promociones</span>\n              </TabsTrigger>\n              <TabsTrigger value=\"coupons\" className=\"flex items-center gap-2 px-4 py-3 md:py-2 md:px-3\">\n                <Gift className=\"h-4 w-4 shrink-0\" />\n                <span className=\"whitespace-nowrap inline md:hidden lg:inline\">Cupones</span>\n              </TabsTrigger>\n            </TabsList>\n          </div>\n\n          <TabsContent value=\"overview\">\n            <AdminOverview />\n          </TabsContent>\n\n          <TabsContent value=\"users\">\n            <UsersManagement />\n          </TabsContent>\n\n          <TabsContent value=\"plans\">\n            <PlansManagement />\n          </TabsContent>\n\n          <TabsContent value=\"promotions\">\n            <PromotionsManagement />\n          </TabsContent>\n\n          <TabsContent value=\"coupons\">\n            <CouponsManagement />\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAbA;;;;;;;;;;;AAee,SAAS;;IACtB,MAAM,SAAS,IAAA,yRAAS;IAExB,MAAM,eAAe;QACnB,MAAM,WAAW,IAAA,2JAAmB;QACpC,MAAM,SAAS,IAAI,CAAC,OAAO;QAC3B,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,oUAAC;QAAI,WAAU;kBACb,cAAA,oUAAC;YAAI,WAAU;;8BACb,oUAAC;oBAAI,WAAU;;sCACb,oUAAC;;8CACC,oUAAC;oCAAG,WAAU;8CAA4G;;;;;;8CAG1H,oUAAC;oCAAE,WAAU;8CAA0D;;;;;;;;;;;;sCAIzE,oUAAC,gJAAM;4BAAC,SAAQ;4BAAU,SAAS;4BAAc,WAAU;;8CACzD,oUAAC,mTAAM;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;;8BAMlC,oUAAC,4IAAI;oBAAC,cAAa;oBAAW,WAAU;;sCACtC,oUAAC;4BAAI,WAAU;sCACb,cAAA,oUAAC,gJAAQ;gCAAC,WAAU;;kDAClB,oUAAC,mJAAW;wCAAC,OAAM;wCAAW,WAAU;;0DACtC,oUAAC,8TAAS;gDAAC,WAAU;;;;;;0DACrB,oUAAC;gDAAK,WAAU;0DAA+C;;;;;;;;;;;;kDAEjE,oUAAC,mJAAW;wCAAC,OAAM;wCAAQ,WAAU;;0DACnC,oUAAC,4SAAK;gDAAC,WAAU;;;;;;0DACjB,oUAAC;gDAAK,WAAU;0DAA+C;;;;;;;;;;;;kDAEjE,oUAAC,mJAAW;wCAAC,OAAM;wCAAQ,WAAU;;0DACnC,oUAAC,kTAAO;gDAAC,WAAU;;;;;;0DACnB,oUAAC;gDAAK,WAAU;0DAA+C;;;;;;;;;;;;kDAEjE,oUAAC,mJAAW;wCAAC,OAAM;wCAAa,WAAU;;0DACxC,oUAAC,+SAAM;gDAAC,WAAU;;;;;;0DAClB,oUAAC;gDAAK,WAAU;0DAA+C;;;;;;;;;;;;kDAEjE,oUAAC,mJAAW;wCAAC,OAAM;wCAAU,WAAU;;0DACrC,oUAAC,ySAAI;gDAAC,WAAU;;;;;;0DAChB,oUAAC;gDAAK,WAAU;0DAA+C;;;;;;;;;;;;;;;;;;;;;;;sCAKrE,oUAAC,mJAAW;4BAAC,OAAM;sCACjB,cAAA,oUAAC,+JAAa;;;;;;;;;;sCAGhB,oUAAC,mJAAW;4BAAC,OAAM;sCACjB,cAAA,oUAAC,iKAAe;;;;;;;;;;sCAGlB,oUAAC,mJAAW;4BAAC,OAAM;sCACjB,cAAA,oUAAC,iKAAe;;;;;;;;;;sCAGlB,oUAAC,mJAAW;4BAAC,OAAM;sCACjB,cAAA,oUAAC,sKAAoB;;;;;;;;;;sCAGvB,oUAAC,mJAAW;4BAAC,OAAM;sCACjB,cAAA,oUAAC,mKAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM9B;GA7EwB;;QACP,yRAAS;;;KADF","debugId":null}}]
}